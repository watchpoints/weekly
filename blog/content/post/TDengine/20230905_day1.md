---
title: "成为TDengine贡献者第一天"
date: 2023-09-05
description: "Dengine"
draft: false
tags: ["Dengine"]
---



~~~~
# 一、问题是什么


# 二、何分析的


# 三、如何解决的


~~~~





### 源码编译：

准备工作：https://github.com/watchpoints/TDengine#building

- CentOS 8安装依赖

~~~

git clone git@github.com:watchpoints/TDengine.git
cd /mnt/tidb/TDengine



sudo yum install -y epel-release ok

sudo yum install -y dnf-plugins-core  ok

sudo yum config-manager --set-enabled powertools  ok
//sudo yum config-manager --set-enabled powertools


sudo yum install -y zlib-devel zlib-static xz-devel snappy-devel jansson jansson-devel pkgconfig libatomic libatomic-static libstdc++-static openssl-devel  ok



For CentOS + devtoolset
Besides above dependencies, please run following commands:

sudo yum install centos-release-scl
sudo yum install devtoolset-9 devtoolset-9-libatomic-devel
scl enable devtoolset-9 -- bash


Error: Unable to find a match: centos-release-scl


~~~

- Build 

./build.sh





## 可能遇到编译的问题

1. Linux下解决访问github慢的问题



**ithub打开慢的原因：**

1. DNS解析的问题；
2. 服务器在国外。

**解决方案：**

修改本地[host文件](https://so.csdn.net/so/search?q=host文件&spm=1001.2101.3001.7020)，增加配置内容，绕过域名解析，达到加速的目的。

ttps://ip.tool.chinaz.com/

~~~
199.232.69.194              github.global.ssl.fastly.net
140.82.113.3                github.com
185.199.108.154             github.githubassets.com
140.82.113.21               central.github.com
185.199.108.133             desktop.githubusercontent.com
185.199.108.153             assets-cdn.github.com
185.199.108.133             camo.githubusercontent.com
185.199.108.133             github.map.fastly.net
140.82.114.4                gist.github.com
185.199.108.153             github.io
140.82.112.5                api.github.com 

~~~

sudo systemctl restart systemd-resolved





2. 现象描述

what:

~~~
--   Package 'jansson', required by 'virtual:world', not found
CMake Error at tools/taos-tools/CMakeLists.txt:98 (MESSAGE):
   jansson not found
~~~



why:



 # Jansson JSON library
    
    yum list installed jansson
    
    jansson.x86_64                                                        2.11-3.el8                                                                                    
    pkg_check_modules(JANSSON jansson>=2.3)
        IF (JANSSON_FOUND)
            MESSAGE("${Green} jansson found ${ColourReset}")
            include_directories(${JANSSON_INCLUDE_DIRS})
        ELSE()
            MESSAGE(FATAL_ERROR "${Red} jansson not found ${ColourReset}")
        ENDIF()

how：

