---
title: "what is Paxos"
date: 2023-09-01
description: "note"
draft: false
tags: ["book"]
categories: ["book"]
---




### 一句话读书摘要很难吗？

难，

当我打卡浏览器，短视频app时候
第一眼 或者 总有一次无意间 看到
系统推荐各种新闻，电影解说各种炫耀。

这样方式重置我操作系统，无论我怎么说
我要不看什么，越思想斗争，最后越堕落。
总是看完全部才罢休，
导致后面一连串出错

不要抱怨平台，

更不要责备自己，

更不要批评别人。

这都是陷阱的一部分，

甚至 一定通过看书获取知识，一定对的吗？

面对面请教身边人不是更好。

你能做的选择一个适合自己方式去做,

而不是不做，

你判断，就不要反反复复，断舍离，
不要纠结，动漫不看一集，电视剧不看一集
综艺不看一集，新闻不看一集。
从失去心里分析，在理智的人也不行



### 为什么做一句话读书摘要？

- 做一个这样平台适合你吗？ 不适合，也做不起来

- 做一个吃喝玩乐短视频适合你吗？不适合

- 做一个大厂大v告诉分享观点适合捏吗？不适合。


不是你选择来 做读书摘要，
是读书摘要选择了你，
更适合你大脑.

>一个模型出现
1个小时 完成不了10个事情，高难度
10个小时，重复做1个事情，相当容易。


## 微行动：搜集资料，下载离线视频


摘要：

在千年前，爱琴海的pex sauce岛是一个繁荣的商业中心，极度发达的贸易使得pax sauce岛的文明达到了空前的高度。
议会制度取代了古老的集权专政。然而对于paxos岛的人民来讲，没有人愿意被议会所束缚，他们更愿意将时间花在贸易上，但法律的制定又不能离开议会中议员们的表决。
于是，聪明的议员们经过不断的思索，终于找到了抓手，发明了一种不需要将议员集中在议会中就能完成法案确定的方法，这就是著名的paxos协议。


## 逐字稿

Hello, 大家好，我是OB小话痨。本期视频我们主要来学习ocean base数据库在日志同步中使用的paxos协议，让我们快来开始。在分布式系统中通常会有多个节点来共同协作运行，但是由于系统的某部分功能只能由一个节点来承担，通常会使整个分布式系统面临单点故障导致的可用性低问题。因此我们通常会考虑对系统中重要的功能节点进行多副本部署。

如果功能节点本身只需要提供无状态的服务，那么问题到这里就解决了。但是如果功能节点存储的状态，那么如何确保彼此互为副本的多个节点间的状态是一致的，又成了新的难题。

Lintot在上世纪80年代末提出了pix sauce协议，来解决分布式系统中多副本间状态同步的一致性问题。下面我们通过一个议会的故事来了解这个巧妙的协议。

在千年前，爱琴海的pex sauce岛是一个繁荣的商业中心，极度发达的贸易使得pax sauce岛的文明达到了空前的高度。
议会制度取代了古老的集权专政。然而对于paxos岛的人民来讲，没有人愿意被议会所束缚，他们更愿意将时间花在贸易上，但法律的制定又不能离开议会中议员们的表决。
于是，聪明的议员们经过不断的思索，终于找到了抓手，发明了一种不需要将议员集中在议会中就能完成法案确定的方法，这就是著名的paxos协议。

我们先来声明一下paxos协议的假设。议会规定，当一个提案被超过半数的议员所接受的时候，法案就会最终确定为这个提案，并且不再被修改。

但是议员们都有自己的贸易往来，他们时常不在岛上，因此议员间通过信件的方式来推进法案的制定。议员们可能在收到一封信件很久后才想起来要检查自己的信箱。
每个议员检查信件时也有他们自己的习惯，比如倒序查看、顺序查看，甚至是挑他们感兴趣的信件来查看。
当然，也有部分议员在外出贸易期间完全不关注信件的内容。那么如果你是议员，你会怎么办呢？

我们先来介绍一下paxos协议的0.1版本。在议员们确定paxos协议的最初阶段，他们的想法是相当简单并且直接的。

第一条，每个议员只能接受一个他看到的第一个提案。
第二条规则，若某个议员发现他的提案被超过半数议员回应接受后，他就可以向岛民宣布他的提案确定为法案。

我们来看一下pack sauce 0.1版本下议员们进行提案的时序关系。
假设有三个议员，分别是议员A议员B和议员C在T0的时刻，议员ABC分别提出了提议李名C在T1时刻，包含TEABC的信件到达了各个议员的手中，议员ABC分别接受了TEABC。
在T1时刻，由于各个议员只能接受他看到的第一条提案，因此即便等待更长的时间，也不会有法案被确定。
接下来我们来介绍一下peg sauce 0.2版本。于是，议员们痛定思痛，对他们的商业机制做了改进。第一条规则，每个议员可以接受任意的提案。第二条规则，若某个议员发现他的提案被超过半数议员回应接受后，他就可以向岛民宣布他的提案确定为法案了。

我们来看一下paxos 0.2版本下议员们进行提案的时序关系。

在T0时刻，议员ABC分别提出了提议ABC在T1时刻包含TEA的信件到达议员ABC的手中，TIA成为法案，在T2时刻包含TEB的信件到达议员ABC的手中，提案B成为法案。
在T3时刻，包含提议C的信件到达议员的ABC的手中，体验C成为法案。我们可以发现法案在不断的被复写，最后的结果还是不行。如果你是议员你会怎么办呢？

好了，今天的视频到这里就结束了。我们给大家留下一个悬念，paxos的协议发展进程后续是怎样呢？
如果还想要我为大家讲解，请收藏、转发、点赞三连，下周五我们继续揭晓。














