---
title: 深入理解文件系统:文件IO的一生
date: 2025-04-27
description: you can
draft: false
tags:
  - CEPH
categories:
  - CEPH
---

## 流程分析

![image.png](https://money-1256465252.cos.ap-beijing.myqcloud.com/2025/20250503101609.png)

![image.png](https://money-1256465252.cos.ap-beijing.myqcloud.com/2025/20250503101650.png)

![image.png](https://money-1256465252.cos.ap-beijing.myqcloud.com/2025/20250503101501.png)
![image.png](https://money-1256465252.cos.ap-beijing.myqcloud.com/2025/20250503101725.png)
![image.png](https://money-1256465252.cos.ap-beijing.myqcloud.com/2025/20250503101916.png)
![image.png](https://money-1256465252.cos.ap-beijing.myqcloud.com/2025/20250503102242.png)
![image.png](https://money-1256465252.cos.ap-beijing.myqcloud.com/2025/20250503102558.png)

#### 第一手资料
##### [1] An Introduction to the Linux Kernel Block I/O Stack
- 来源：https://chemnitzer.linux-tage.de/2021/media/programm/folien/165.pdf
- Linux文件读写（BIO）波澜壮阔的一生
- Linux通用块设备层
-  IO路径流向初探
- 了解IO协议栈 https://www.slideshare.net/slideshow/io-12278640/12278640
#### [2] 论文： **Rearchitecting Linux Storage Stack for µs Latency and High Throughput**
- 原文：https://www.usenix.org/conference/osdi21/presentation/hwang
- 翻译：重新构建 Linux 存储堆栈以实现 μs（微妙） 延迟和高吞吐量
- 社区中普遍认为，使用 Linux 内核堆栈时不可能实现 μ 级的尾部延迟--如何解
- blk-switch 为 Linux 存储堆栈引入了一个按内核、**多出口队列块层架构**
- 主要介绍了两种存储栈结构：
1. 现有存储堆栈：低延迟或高吞吐量，但不能同时满足两者。
   在 Linux 存储堆栈的早期版本中，所有核提交的请求都在一个队列中处理
   完全公平调度程序 (CFS)：在共享内核的应用程序之间平均分配 CPU 资源，毫秒时间尺度，分配时间
2. SPDK(广泛部署的用户空间堆栈)
3. USENIX ATC '19 - Asynchronous I/O Stack: A Low-latency Kernel I/O Stack for Ultra-Low Latency SSDs
4. https://www.youtube.com/watch?v=ri1MrvJnbSU
5. https://www.youtube.com/watch?v=BBONTH-BZvU&t=352s


