---
title: "每日问答第一期"
date: 2022-02-10
description: "60秒表达"
draft: false
tags: ["book"]
---





https://wangcy6.github.io/post/2021/06_ask_1/

http://127.0.0.1:1313/post/2021/06_ask_1/

### 一、这个技术出现的背景、初衷和要达到什么样的目标或是要解决什么样的问题

### 二、这个技术的优势和劣势分别是什么 

### 三、这个技术适用的场景。任何技术都有其适用的场景，离开了这个场景

### 四、技术的组成部分和关键点。

### 五、技术的底层原理和关键实现

### 六、已有的实现和它之间的对比



### 2、[gdb 问号？](https://maimai.cn/web/gossip_detail?encode_id=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlZ2lkIjoiNmEwZWJhZmE3YWNjNDk5NDkxYWUyMmNjMzZiYTg5NTciLCJpZCI6Mjk5NzgzMDAsInUiOjQ2NjUxfQ.IVeEdD-50IwvxZi0jw3Fkrj3CSzzih6y_rW4g0qe3jE&from=list)

~~~shell

(gdb) bt
#0  0x0000003ec40e91a3 in __epoll_wait_nocancel () from /lib64/libc.so.6
#1  0x00000000006410da in _st_epoll_dispatch ()
#2  0x000000000063bc78 in _st_idle_thread_start ()
#3  0x000000000063c082 in _st_thread_main ()
#4  0x000000000063c8ff in st_thread_create ()
#5  0x00007ffcd2733958 in ?? ()
#6  0x0000000000915258 in vtable for _SrsContextId ()
#7  0x00007ffcd2733968 in ?? ()
#8  0x0000000000000008 in ?? () at /usr/local/gcc/include/c++/6.3.0/bits/stl_tree.h:2318
#9  0x3138343863373838 in ?? ()
#10 0x00007ffcd2733900 in ?? ()
#11 0x0000000000000002 in ?? () at /usr/local/gcc/include/c++/6.3.0/bits/stl_tree.h:2318
#12 0x0000000030006e6f in ?? ()
#13 0x0000000000ec90b0 in ?? ()
#14 0x0000000000f0e280 in ?? ()
#15 0x0000000000000064 in ?? () at /usr/local/gcc/include/c++/6.3.0/bits/stl_tree.h:2322
#16 0x0000000000000064 in ?? () at /usr/local/gcc/include/c++/6.3.0/bits/stl_tree.h:2322
#17 0x0000003e00000001 in ?? ()
#18 0x0000000000915258 in vtable for _SrsContextId ()
#19 0x00007ffcd27339c8 in ?? ()
#20 0x0000000000000008 in ?? () at /usr/local/gcc/include/c++/6.3.0/bits/stl_tree.h:2318
#21 0x3138343863373838 in ?? ()
#22 0x0000000000000000 in ?? ()

~~~



> 过程：（忘记问题，专注过程）

- [看gdb 文档](https://sourceware.org/gdb/current/onlinedocs/gdb/index.html#SEC_Contents)，了解gdb调试原理
- 了解编译器做了什么（函数调用）
- [了解连接器做了什么](https://blog.csdn.net/weixin_30840573/article/details/98768479)

> 青铜->新手村：

1. 这个问题自己无法根本解决，掌握知识不够（心态问题，你全部回顾你掌握的知识 ）

2. 我看文档 也找不大答案，（看方式不正确，全面看资料，问题是引子。意外收获呢，你看文档资料对吗？）

   

   - [disassemble](https://blog.csdn.net/linyt/article/details/51635768?utm_medium=distribute.pc_relevant.none-task-blog-2~default~baidujs_title~default-0.pc_relevant_default&spm=1001.2101.3001.4242.1&utm_relevant_index=2)  main(**objdump -d test.o**) 

   - callq  0x400468 <puts@plt>（不允许修改代码段，只能修改数据段）

   - [链接器无法知知道进程运行起来之](https://blog.csdn.net/weixin_30840573/article/details/98768479)后printf函数的加载地址.只有进程运运行后，[printf函数的地址才能确定](https://blog.csdn.net/linyt/article/details/51635768?utm_medium=distribute.pc_relevant.none-task-blog-2~default~baidujs_title~default-0.pc_relevant_default&spm=1001.2101.3001.4242.1&utm_relevant_index=2)

   - got表中存放的是外部符号的地址。plt表中存放的是函数地址

   - 小贴士：线索：[No function contains specified address.](https://blog.csdn.net/weixin_30840573/article/details/98768479)

   - 资料：[GOT表与PLT表](https://blog.csdn.net/zhy025907/article/details/86088368?spm=1001.2101.3001.6650.1&utm_medium=distribute.pc_relevant.none-task-blog-2%7Edefault%7ECTRLIST%7ERate-1.pc_relevant_default&depth_1-utm_source=distribute.pc_relevant.none-task-blog-2%7Edefault%7ECTRLIST%7ERate-1.pc_relevant_default&utm_relevant_index=1)

     

     ![没看懂系列](06_ask_1.assets/20160611124517413.jpeg)、[How to force GDB to disassemble code when it says "No function contains program counter for selected frame"?](https://stackoverflow.com/questions/39016138/how-to-force-gdb-to-disassemble-code-when-it-says-no-function-contains-program)

     【动手操作】 https://www.cs.dartmouth.edu/~sergey/cs108/dyn-linking-with-gdb.txt

     



> 黄金->熟练工：















----------------------------------------------------------------------------------------------------------------------



### 1. 描述 tcp四次挥手的过程？



  time_wait 状态变化有三个情况

2个图来说明

客户端状态变化：

ESTABLISHED ----FIN_WAIT_1---FIN_WAIT_2>TIME_WAIT--->CLOSED

ESTABLISHED ----FIN_WAIT_1--->TIME_WAIT--->CLOSED

*simultaneous* *close*

ESTABLISHED ----FIN_WAIT_1--->**CLOSING**--->TIME_WAIT--->CLOSED



服务器端状态变化：



ESTABLISHED ---->CLOSE_WAIT--->LAST_ACK---->CLOSED

ESTABLISHED ----FIN_WAIT_1--->**CLOSING**--->TIME_WAIT--->CLOSED



2. 关闭tcp连接一定要四次挥手吗？为什么不是三个？

- RST 强制终止 TCP 连接（SO_LINGER）
- 当没有数据传输是，ack 和fin小包不同的请求，合并发送（negal算法）
- 再谈TCP/IP三步握手&四步挥手原理及衍生问题—长文解剖IP

## four-way Handshake 四次挥手



![](https://www.zhoulujun.cn/uploadfile/images/2018/1105/20181105205714654247516.jpg)



https://www.cnblogs.com/figo-cui/p/5137993.html



### 3. 为什么 TIME_WAIT 状态还需要等 2MSL 后才能返回到 CLOSED 状态？



4. tcp和udp区别？和使用场景 【青铜-王者】

   

   大小：

   - 首部开销小，仅8字节，适用于实时应用（IP电话、视频会议、直播）

   

   - 首部最小20字节，最大60字节，适用于要求可靠传输的应
   - tcp 会将应用程序发送的数据分割合适的数据块来字节流传输。

   

5. [为什么流量型 都是用udp，不使用tcp ，tcp不能把带宽打满吗](https://maimai.cn/web/gossip_detail?encode_id=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlZ2lkIjoiNWI0ZWM3NmFhYjFkNDk4MjhmMTE1ODQ2MmU3MDVhNjEiLCJpZCI6Mjk5MjcyODgsInUiOjQ2NjUxfQ.dpI12xFWledfdMr_93jCL5Q0um2DHbmt0khSrYdkMr4&from=list)

6. tcp 数据传输过程，如何实现的？

   

   

   ### 7.什么tcp 延迟启动 快速重传。流量控制



##  

### 一、这个技术出现的背景、初衷和要达到什么样的目标或是要解决什么样的问题

### 二、这个技术的优势和劣势分别是什么 

### 三、这个技术适用的场景。任何技术都有其适用的场景，离开了这个场景

### 四、技术的组成部分和关键点。

### 五、技术的底层原理和关键实现

### 六、已有的实现和它之间的对比







###  问：  什么是深度拷贝 什么是浅拷贝？

- 拷贝只是对象拷贝。指针赋值不属于拷贝。
- 深度拷贝对应值拷贝（stl 容器值拷贝）。浅拷C++编译器默认提供的拷贝方式（memcpy）

为防止HomeForSale对象被拷贝，可以继承Uncopyable类

[C++ Boost库：禁止拷贝 nocopyable](https://tangxing.blog.csdn.net/article/details/116401405?spm=1001.2101.3001.6661.1&utm_medium=distribute.pc_relevant_t0.none-task-blog-2%7Edefault%7EBlogCommendFromBaidu%7ERate-1.queryctrv4&depth_1-utm_source=distribute.pc_relevant_t0.none-task-blog-2%7Edefault%7EBlogCommendFromBaidu%7ERate-1.queryctrv4&utm_relevant_index=1)

[What are the advantages of boost::noncopyable](https://stackoverflow.com/questions/7823990/what-are-the-advantages-of-boostnoncopyable)

- 浅拷贝(构造函数)

std:moved()

- ```text
  成本：Clone(浅克隆.) > new > Kryo序列化 > Jdk序列化 > Json(各种Json类似)序列化
  ```

### 问：函数能返回局部变量吗？

- 静态局部变量

-  [rvalue reference（Move semantics ）](https://www.cprogramming.com/c++11/rvalue-references-and-move-semantics-in-c++11.html)

  









