
明天事情

1  测试故障测试 统计 
    输出：测试多个case  问题都是个

-------------------------------------
2  . 整理接口流程

 整理接口流程

1. 目前 元数据同步，正向迁移 
2.  truncate 接口
3 .更新接口
------------------------------------------
1，gpair增加字段标识元数据同步方向，管软调用命令创建gpair时需指定同步方向（管软需适配）
2，数据回迁时不能删除远端元数据  ----ok
3，数据迁移和回迁完设置gpairname，元数据同步仅首次设置gpairname（s3提供设置gapirname接口，s3set_attr(gpair_name, name1)）

-----------------
@刘巍  gfs gpair_add 和 zycl bind命令后面追加一个参数 meta_sync_role (0代表从，1代表主)，东西部一对目录上各自对应一个gair，需要在各自的管软添加，管软需支持对meta_sync_role的添加和展示。gpair对等体只能有一个meta_sync_role为主


1，gpair增加字段标识元数据同步方向，管软调用命令创建gpair时需指定同步方向（管软需适配）
2，数据回迁时不能删除远端元数据 ---ok
3，数据迁移和回迁完设置gpairname，元数据同步仅首次设置gpairname（s3提供设置gapirname接口，s3set_attr(gpair_name, name1)）


----

1. core校验完成一次


正向迁移，反向迁移 GFS兼容对等体，

1. 通过gpair 配置区分，对后端角色进行区分
   gfs gpair_add 和 zycl bind命令后面追加一个参数 gfs_remote_role (0 GFS，1 还是GPEER)
   如果是 GFS模式
   远端处理模式
   1. 不更远端 元数据信息
   2. 反向迁移 后删除远端数据和文件
   
   如果是GPEER模式
   1. 正向，反向迁移  后需要更改远端集群元数据
   2 反向迁移 删除远端数据，不删除元数据
   
2. 

这个方式不对，。。。。。


   
   
   
   
    
   