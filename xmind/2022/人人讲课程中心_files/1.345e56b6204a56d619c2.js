webpackJsonp([1],{"0IZH":function(e,t){},"0S+L":function(e,t,i){"use strict";var n=i("5//h");e.exports=function(e,t){"function"!=typeof e&&(t=e,e=Object);var i=function(){return this.initialize?this.initialize.apply(this,arguments)||this:this},r=function(){};return r.prototype=e.prototype,i.prototype=new r,n(i.prototype,t),i}},"3Cgm":function(e,t,i){"use strict";(function(t){function i(e){r.length||(n(),!0),r[r.length]=e}e.exports=i;var n,r=[],s=0,a=1024;function o(){for(;s<r.length;){var e=s;if(s+=1,r[e].call(),s>a){for(var t=0,i=r.length-s;t<i;t++)r[t]=r[t+s];r.length-=s,s=0}}r.length=0,s=0,!1}var u,l,c,d=void 0!==t?t:self,h=d.MutationObserver||d.WebKitMutationObserver;function f(e){return function(){var t=setTimeout(n,0),i=setInterval(n,50);function n(){clearTimeout(t),clearInterval(i),e()}}}"function"==typeof h?(u=1,l=new h(o),c=document.createTextNode(""),l.observe(c,{characterData:!0}),n=function(){u=-u,c.data=u}):n=f(o),i.requestFlush=n,i.makeRequestCallFromTimer=f}).call(t,i("DuR2"))},"3oZU":function(e,t,i){"use strict";(function(t){var n=i("0S+L"),r=i("BhNM"),s=i("Ugn1"),a=i("5//h"),o=i("Rvdv"),u=a(n(i("Zki9"),{encode:function(e){var t=s(this.endpoint);return t.query.message=o(e),t.query.jsonp="__jsonp"+u._cbCount+"__",r.stringify(t)},request:function(e){var i=document.getElementsByTagName("head")[0],n=document.createElement("script"),a=u.getCallbackName(),l=s(this.endpoint),c=this;l.query.message=o(e),l.query.jsonp=a;var d=function(){if(!t[a])return!1;t[a]=void 0;try{delete t[a]}catch(e){}n.parentNode.removeChild(n)};return t[a]=function(e){d(),c._receive(e)},n.type="text/javascript",n.src=r.stringify(l),i.appendChild(n),n.onerror=function(){d(),c._handleError(e)},{abort:d}}}),{_cbCount:0,getCallbackName:function(){return this._cbCount+=1,"__jsonp"+this._cbCount+"__"},isUsable:function(e,t,i,n){i.call(n,!0)}});e.exports=u}).call(t,i("DuR2"))},"5//h":function(e,t,i){"use strict";e.exports=function(e,t,i){if(!t)return e;for(var n in t)t.hasOwnProperty(n)&&(e.hasOwnProperty(n)&&!1===i||e[n]!==t[n]&&(e[n]=t[n]));return e}},"5i1m":function(e,t){e.exports={VERSION:"1.2.4",BAYEUX_VERSION:"1.0",ID_LENGTH:160,JSONP_CALLBACK:"jsonpcallback",CONNECTION_TYPES:["long-polling","cross-origin-long-polling","callback-polling","websocket","eventsource","in-process"],MANDATORY_CONNECTION_TYPES:["long-polling","callback-polling","in-process"]}},"5zde":function(e,t,i){i("zQR9"),i("qyJz"),e.exports=i("FeBl").Array.from},"62gc":function(e,t,i){"use strict";var n=i("0S+L"),r=i("skKZ");e.exports=n(r)},"8JGX":function(e,t){e.exports="data:image/png;base64,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"},"9oMv":function(e,t,i){"use strict";(function(t){var n=i("0S+L"),r=i("BhNM"),s=i("KJ3N"),a=i("5//h"),o=i("P0Z6"),u=i("hqYC"),l=i("CuEX"),c=i("amkp"),d=n({className:"Dispatcher",MAX_REQUEST_SIZE:2048,DEFAULT_RETRY:5,UP:1,DOWN:2,initialize:function(e,t,i){this._client=e,this.endpoint=r.parse(t),this._alternates=i.endpoints||{},this.cookies=s.CookieJar&&new s.CookieJar,this._disabled=[],this._envelopes={},this.headers={},this.retry=i.retry||this.DEFAULT_RETRY,this._scheduler=i.scheduler||c,this._state=0,this.transports={},this.wsExtensions=[],this.proxy=i.proxy||{},"string"==typeof this._proxy&&(this._proxy={origin:this._proxy});var n=i.websocketExtensions;if(n)for(var a=0,o=(n=[].concat(n)).length;a<o;a++)this.addWebsocketExtension(n[a]);this.tls=i.tls||{},this.tls.ca=this.tls.ca||i.ca;for(var u in this._alternates)this._alternates[u]=r.parse(this._alternates[u]);this.maxRequestSize=this.MAX_REQUEST_SIZE},endpointFor:function(e){return this._alternates[e]||this.endpoint},addWebsocketExtension:function(e){this.wsExtensions.push(e)},disable:function(e){this._disabled.push(e)},setHeader:function(e,t){this.headers[e]=t},close:function(){var e=this._transport;delete this._transport,e&&e.close()},getConnectionTypes:function(){return l.getConnectionTypes()},selectTransport:function(e){l.get(this,e,this._disabled,function(e){this.debug("Selected ? transport for ?",e.connectionType,r.stringify(e.endpoint)),e!==this._transport&&(this._transport&&this._transport.close(),this._transport=e,this.connectionType=e.connectionType)},this)},sendMessage:function(e,t,i){i=i||{};var n,r=e.id,s=i.attempts,a=i.deadline&&(new Date).getTime()+1e3*i.deadline,o=this._envelopes[r];o||(n=new this._scheduler(e,{timeout:t,interval:this.retry,attempts:s,deadline:a}),o=this._envelopes[r]={message:e,scheduler:n}),this._sendEnvelope(o)},_sendEnvelope:function(e){if(this._transport&&!e.request&&!e.timer){var i=e.message,n=e.scheduler,r=this;if(!n.isDeliverable())return n.abort(),void delete this._envelopes[i.id];e.timer=t.setTimeout(function(){r.handleError(i)},1e3*n.getTimeout()),n.send(),e.request=this._transport.sendMessage(i)}},handleResponse:function(e){var i=this._envelopes[e.id];void 0!==e.successful&&i&&(i.scheduler.succeed(),delete this._envelopes[e.id],t.clearTimeout(i.timer)),this.trigger("message",e),this._state!==this.UP&&(this._state=this.UP,this._client.trigger("transport:up"))},handleError:function(e,i){var n=this._envelopes[e.id],r=n&&n.request,s=this;if(r){r.then(function(e){e&&e.abort&&e.abort()});var a=n.scheduler;a.fail(),t.clearTimeout(n.timer),n.request=n.timer=null,i?this._sendEnvelope(n):n.timer=t.setTimeout(function(){n.timer=null,s._sendEnvelope(n)},1e3*a.getInterval()),this._state!==this.DOWN&&(this._state=this.DOWN,this._client.trigger("transport:down"))}}});d.create=function(e,t,i){return new d(e,t,i)},a(d.prototype,u),a(d.prototype,o),e.exports=d}).call(t,i("DuR2"))},BhNM:function(e,t,i){"use strict";e.exports={isURI:function(e){return e&&e.protocol&&e.host&&e.path},isSameOrigin:function(e){return e.protocol===location.protocol&&e.hostname===location.hostname&&e.port===location.port},parse:function(e){if("string"!=typeof e)return e;var t,i,n,r,s,a,o={},u=function(t,i){e=e.replace(i,function(e){return o[t]=e,""}),o[t]=o[t]||""};for(u("protocol",/^[a-z]+\:/i),u("host",/^\/\/[^\/\?#]+/),/^\//.test(e)||o.host||(e=location.pathname.replace(/[^\/]*$/,"")+e),u("pathname",/^[^\?#]*/),u("search",/^\?[^#]*/),u("hash",/^#.*/),o.protocol=o.protocol||location.protocol,o.host?(o.host=o.host.substr(2),t=o.host.split(":"),o.hostname=t[0],o.port=t[1]||""):(o.host=location.host,o.hostname=location.hostname,o.port=location.port),o.pathname=o.pathname||"/",o.path=o.pathname+o.search,a={},r=0,s=(n=(i=o.search.replace(/^\?/,""))?i.split("&"):[]).length;r<s;r++)t=n[r].split("="),a[decodeURIComponent(t[0]||"")]=decodeURIComponent(t[1]||"");return o.query=a,o.href=this.stringify(o),o},stringify:function(e){var t=e.protocol+"//"+e.hostname;return e.port&&(t+=":"+e.port),t+=e.pathname+this.queryString(e.query)+(e.hash||"")},queryString:function(e){var t=[];for(var i in e)e.hasOwnProperty(i)&&t.push(encodeURIComponent(i)+"="+encodeURIComponent(e[i]));return 0===t.length?"":"?"+t.join("&")}}},CuEX:function(e,t,i){"use strict";var n=i("Zki9");n.register("websocket",i("nCzq")),n.register("eventsource",i("x8JH")),n.register("long-polling",i("NwVv")),n.register("cross-origin-long-polling",i("EVVm")),n.register("callback-polling",i("3oZU")),e.exports=n},CwSZ:function(e,t,i){"use strict";var n=i("p8xL"),r=i("XgCd"),s={brackets:function(e){return e+"[]"},indices:function(e,t){return e+"["+t+"]"},repeat:function(e){return e}},a=Array.isArray,o=Array.prototype.push,u=function(e,t){o.apply(e,a(t)?t:[t])},l=Date.prototype.toISOString,c={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:n.encode,encodeValuesOnly:!1,indices:!1,serializeDate:function(e){return l.call(e)},skipNulls:!1,strictNullHandling:!1},d=function e(t,i,r,s,a,o,l,d,h,f,p,v,m){var _=t;if("function"==typeof l?_=l(i,_):_ instanceof Date&&(_=f(_)),null===_){if(s)return o&&!v?o(i,c.encoder,m):i;_=""}if("string"==typeof _||"number"==typeof _||"boolean"==typeof _||n.isBuffer(_))return o?[p(v?i:o(i,c.encoder,m))+"="+p(o(_,c.encoder,m))]:[p(i)+"="+p(String(_))];var g,A=[];if(void 0===_)return A;if(Array.isArray(l))g=l;else{var y=Object.keys(_);g=d?y.sort(d):y}for(var E=0;E<g.length;++E){var C=g[E];a&&null===_[C]||(Array.isArray(_)?u(A,e(_[C],r(i,C),r,s,a,o,l,d,h,f,p,v,m)):u(A,e(_[C],i+(h?"."+C:"["+C+"]"),r,s,a,o,l,d,h,f,p,v,m)))}return A};e.exports=function(e,t){var i=e,a=t?n.assign({},t):{};if(null!==a.encoder&&void 0!==a.encoder&&"function"!=typeof a.encoder)throw new TypeError("Encoder has to be a function.");var o=void 0===a.delimiter?c.delimiter:a.delimiter,l="boolean"==typeof a.strictNullHandling?a.strictNullHandling:c.strictNullHandling,h="boolean"==typeof a.skipNulls?a.skipNulls:c.skipNulls,f="boolean"==typeof a.encode?a.encode:c.encode,p="function"==typeof a.encoder?a.encoder:c.encoder,v="function"==typeof a.sort?a.sort:null,m=void 0===a.allowDots?c.allowDots:!!a.allowDots,_="function"==typeof a.serializeDate?a.serializeDate:c.serializeDate,g="boolean"==typeof a.encodeValuesOnly?a.encodeValuesOnly:c.encodeValuesOnly,A=a.charset||c.charset;if(void 0!==a.charset&&"utf-8"!==a.charset&&"iso-8859-1"!==a.charset)throw new Error("The charset option must be either utf-8, iso-8859-1, or undefined");if(void 0===a.format)a.format=r.default;else if(!Object.prototype.hasOwnProperty.call(r.formatters,a.format))throw new TypeError("Unknown format option provided.");var y,E,C=r.formatters[a.format];"function"==typeof a.filter?i=(E=a.filter)("",i):Array.isArray(a.filter)&&(y=E=a.filter);var w,b=[];if("object"!=typeof i||null===i)return"";w=a.arrayFormat in s?a.arrayFormat:"indices"in a?a.indices?"indices":"repeat":"indices";var S=s[w];y||(y=Object.keys(i)),v&&y.sort(v);for(var k=0;k<y.length;++k){var I=y[k];h&&null===i[I]||u(b,d(i[I],I,S,l,h,f?p:null,E,v,m,_,C,g,A))}var B=b.join(o),L=!0===a.addQueryPrefix?"?":"";return a.charsetSentinel&&(L+="iso-8859-1"===A?"utf8=%26%2310003%3B&":"utf8=%E2%9C%93&"),B.length>0?L+B:""}},DDCP:function(e,t,i){"use strict";var n=i("p8xL"),r=Object.prototype.hasOwnProperty,s={allowDots:!1,allowPrototypes:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,decoder:n.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},a=function(e,t,i){if(e){var n=i.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,s=/(\[[^[\]]*])/g,a=/(\[[^[\]]*])/.exec(n),o=a?n.slice(0,a.index):n,u=[];if(o){if(!i.plainObjects&&r.call(Object.prototype,o)&&!i.allowPrototypes)return;u.push(o)}for(var l=0;null!==(a=s.exec(n))&&l<i.depth;){if(l+=1,!i.plainObjects&&r.call(Object.prototype,a[1].slice(1,-1))&&!i.allowPrototypes)return;u.push(a[1])}return a&&u.push("["+n.slice(a.index)+"]"),function(e,t,i){for(var n=t,r=e.length-1;r>=0;--r){var s,a=e[r];if("[]"===a&&i.parseArrays)s=[].concat(n);else{s=i.plainObjects?Object.create(null):{};var o="["===a.charAt(0)&&"]"===a.charAt(a.length-1)?a.slice(1,-1):a,u=parseInt(o,10);i.parseArrays||""!==o?!isNaN(u)&&a!==o&&String(u)===o&&u>=0&&i.parseArrays&&u<=i.arrayLimit?(s=[])[u]=n:s[o]=n:s={0:n}}n=s}return n}(u,t,i)}};e.exports=function(e,t){var i=t?n.assign({},t):{};if(null!==i.decoder&&void 0!==i.decoder&&"function"!=typeof i.decoder)throw new TypeError("Decoder has to be a function.");if(i.ignoreQueryPrefix=!0===i.ignoreQueryPrefix,i.delimiter="string"==typeof i.delimiter||n.isRegExp(i.delimiter)?i.delimiter:s.delimiter,i.depth="number"==typeof i.depth?i.depth:s.depth,i.arrayLimit="number"==typeof i.arrayLimit?i.arrayLimit:s.arrayLimit,i.parseArrays=!1!==i.parseArrays,i.decoder="function"==typeof i.decoder?i.decoder:s.decoder,i.allowDots=void 0===i.allowDots?s.allowDots:!!i.allowDots,i.plainObjects="boolean"==typeof i.plainObjects?i.plainObjects:s.plainObjects,i.allowPrototypes="boolean"==typeof i.allowPrototypes?i.allowPrototypes:s.allowPrototypes,i.parameterLimit="number"==typeof i.parameterLimit?i.parameterLimit:s.parameterLimit,i.strictNullHandling="boolean"==typeof i.strictNullHandling?i.strictNullHandling:s.strictNullHandling,void 0!==i.charset&&"utf-8"!==i.charset&&"iso-8859-1"!==i.charset)throw new Error("The charset option must be either utf-8, iso-8859-1, or undefined");if(void 0===i.charset&&(i.charset=s.charset),""===e||null===e||void 0===e)return i.plainObjects?Object.create(null):{};for(var o="string"==typeof e?function(e,t){var i,a={},o=t.ignoreQueryPrefix?e.replace(/^\?/,""):e,u=t.parameterLimit===1/0?void 0:t.parameterLimit,l=o.split(t.delimiter,u),c=-1,d=t.charset;if(t.charsetSentinel)for(i=0;i<l.length;++i)0===l[i].indexOf("utf8=")&&("utf8=%E2%9C%93"===l[i]?d="utf-8":"utf8=%26%2310003%3B"===l[i]&&(d="iso-8859-1"),c=i,i=l.length);for(i=0;i<l.length;++i)if(i!==c){var h,f,p=l[i],v=p.indexOf("]="),m=-1===v?p.indexOf("="):v+1;-1===m?(h=t.decoder(p,s.decoder,d),f=t.strictNullHandling?null:""):(h=t.decoder(p.slice(0,m),s.decoder,d),f=t.decoder(p.slice(m+1),s.decoder,d)),f&&t.interpretNumericEntities&&"iso-8859-1"===d&&(f=f.replace(/&#(\d+);/g,function(e,t){return String.fromCharCode(parseInt(t,10))})),r.call(a,h)?a[h]=n.combine(a[h],f):a[h]=f}return a}(e,i):e,u=i.plainObjects?Object.create(null):{},l=Object.keys(o),c=0;c<l.length;++c){var d=l[c],h=a(d,o[d],i);u=n.merge(u,h,i)}return n.compact(u)}},EKQv:function(e,t,i){"use strict";var n=i("0S+L"),r=i("5//h"),s=i("hqYC"),a=i("R2v8"),o=n({initialize:function(e){this.id=this.name=e},push:function(e){this.trigger("message",e)},isUnused:function(){return 0===this.countListeners("message")}});r(o.prototype,s),r(o,{HANDSHAKE:"/meta/handshake",CONNECT:"/meta/connect",SUBSCRIBE:"/meta/subscribe",UNSUBSCRIBE:"/meta/unsubscribe",DISCONNECT:"/meta/disconnect",META:"meta",SERVICE:"service",expand:function(e){var t=this.parse(e),i=["/**",e],n=t.slice();n[n.length-1]="*",i.push(this.unparse(n));for(var r=1,s=t.length;r<s;r++)(n=t.slice(0,r)).push("**"),i.push(this.unparse(n));return i},isValid:function(e){return a.CHANNEL_NAME.test(e)||a.CHANNEL_PATTERN.test(e)},parse:function(e){return this.isValid(e)?e.split("/").slice(1):null},unparse:function(e){return"/"+e.join("/")},isMeta:function(e){var t=this.parse(e);return t?t[0]===this.META:null},isService:function(e){var t=this.parse(e);return t?t[0]===this.SERVICE:null},isSubscribable:function(e){return this.isValid(e)?!this.isMeta(e)&&!this.isService(e):null},Set:n({initialize:function(){this._channels={}},getKeys:function(){var e=[];for(var t in this._channels)e.push(t);return e},remove:function(e){delete this._channels[e]},hasSubscription:function(e){return this._channels.hasOwnProperty(e)},subscribe:function(e,t){for(var i,n=0,r=e.length;n<r;n++){i=e[n],(this._channels[i]=this._channels[i]||new o(i)).bind("message",t)}},unsubscribe:function(e,t){var i=this._channels[e];return!!i&&(i.unbind("message",t),!!i.isUnused()&&(this.remove(e),!0))},distributeMessage:function(e){for(var t=o.expand(e.channel),i=0,n=t.length;i<n;i++){var r=this._channels[t[i]];r&&r.trigger("message",e)}}})}),e.exports=o},EVVm:function(e,t,i){"use strict";(function(t){var n=i("0S+L"),r=i("Imbr"),s=i("BhNM"),a=i("5//h"),o=i("Rvdv"),u=a(n(i("Zki9"),{encode:function(e){return"message="+encodeURIComponent(o(e))},request:function(e){var i,n=t.XDomainRequest?XDomainRequest:XMLHttpRequest,r=new n,a=++u._id,o=this._dispatcher.headers,l=this;if(r.open("POST",s.stringify(this.endpoint),!0),r.setRequestHeader){r.setRequestHeader("Pragma","no-cache");for(i in o)o.hasOwnProperty(i)&&r.setRequestHeader(i,o[i])}var c=function(){if(!r)return!1;u._pending.remove(a),r.onload=r.onerror=r.ontimeout=r.onprogress=null,r=null};return r.onload=function(){var t;try{t=JSON.parse(r.responseText)}catch(e){}c(),t?l._receive(t):l._handleError(e)},r.onerror=r.ontimeout=function(){c(),l._handleError(e)},r.onprogress=function(){},n===t.XDomainRequest&&u._pending.add({id:a,xhr:r}),r.send(this.encode(e)),r}}),{_id:0,_pending:new r,isUsable:function(e,i,n,r){if(s.isSameOrigin(i))return n.call(r,!1);if(t.XDomainRequest)return n.call(r,i.protocol===location.protocol);if(t.XMLHttpRequest){var a=new XMLHttpRequest;return n.call(r,void 0!==a.withCredentials)}return n.call(r,!1)}});e.exports=u}).call(t,i("DuR2"))},FbBY:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAAXNSR0IArs4c6QAABFVJREFUSA3tVl9oW1UY/51zc3OTJlmTNOu2/kmJlLnOWtaWiQ4VbaeCgz6sPonCQKfTPeiTgpuwV/FFJlRkIOxhe3EIY/gycRZ1UHRaZRtqrekWltUl68j65zb33uQev5Nkt02aJlVLX/TAId+95/t+v+/7ne+eE4Z/MN7vedoXnLqzV4sE98G0buuLi+cOzXw3BgaxVji2Vsd7fh/5+wY0Mz9iC9Zuw04wBk0RaBWcnUeAv/rS7fGb93xr/fJai5VrJ/w9A5qRPwfOR3nY/2Dw1NHuxcHWLsPvHuCCbbbv2uePb+3dXBn3r56HMBQYwa74cfS9Ux1I8BH0jn6I3pPV18vfOlKfHerrHDiQfsbfNi+sWRJiuRYcYmpUeyh1VX2u/6B+VPPaFmywvE1geZoKTQZ7+ifvjsQ3yqGuYf3YphY7I31oFrBUjQwP+Ezcb1/8IGA7xB/7+p/v7NJP7T6cRGDnPGBSQNmgvnHTtCmjBWKSbeQnVk6GWYIRZDO5UMpammrx0bjuxeSFIP74shFzCRdc9LowOBP5+CUPJl+OYc+bf6J7X4qqkZE0JK6L4dqFEK58FkEm7i7whmImHtg/g9ieDJCjikrulF0hDArDrasBjJ+OYPpHH4wFXkjJRd3oEJumYrXtmEN0MIP2vlkCIRRJSFNwjrETLbj8aRjR3QvY9QIlRQvJH/z44lgbuvc34JFXklQsxTjkkltA22RBkLAmkSr0zEpisDtv72309F95Kieyb3i82UfVBto+iz5IUlFicDfD5bNNuPTJFjzxVhKxxzKUdRGdYDB1MYiv3mtB/4tp9AynYdMWlYSXzGBUmk0Rv3wewfjJJhhzDAqRs2s7nz3jnk8OC3owLPIUS2HSytIejqUEtisK2ptt5Cip5cNF+55MEbCVx8PNDF6KLyu65OzWBH5Nc0zqeagE4UJWCRsJDbmyPIveUpUkrXgp5y3UJcb1clLpJZu6magS0jep4D4StLTDctkZhV5lOSpVRkhi2oGiqI6PY/BwDne5ia2cgadV6rVqtUhpGbZF8kgxiyw3QL5VMQsdLzEIz2GpMOT+BQ5MI9dkIvraNFwdWaprZcXyndJqIPr6TeSCJhoPJiVu3bEqMaPstJiOUJTAtutQIlKs6ohKyELj/eTbYULrWKTOra7M8mxWJRbUbfrXYTx55AY88yqyEz6iXbl7spWycS/UGTcG370B/dsQ7PyqsA638x07b0qGJJk904zsz35YKRViVp6L1YfQFdw60glXiwHzd2/VBCsjVyUuOFIzGRMNBFRPOgF7jsP4bS2+xRTqalKfdKmWv+Nbl3gJdn2t/4nXV88aaP8tqeX5t6EVK0SnMrq9mKCvfoMGp2NIUdhEVsNhK+LrqX1yrWNSLiLextTTj+vfj0DfYKkFhHPglyqW21155dU7nyv968lT7u/iwlJsGCuJqQkK/9Qr+SmeixzdXSuvyFrUxf8cS+R/AYhkdZms13ayAAAAAElFTkSuQmCC"},Gu7T:function(e,t,i){"use strict";t.__esModule=!0;var n,r=i("c/Tr"),s=(n=r)&&n.__esModule?n:{default:n};t.default=function(e){if(Array.isArray(e)){for(var t=0,i=Array(e.length);t<e.length;t++)i[t]=e[t];return i}return(0,s.default)(e)}},I9oS:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAAAXNSR0IArs4c6QAAA9RJREFUaAXVmjFsEzEUhv2cFEgoQ7MhBpYOTJ1AMMIAC1SFpRMNAkRRxzIwgVQJJgY6VqpUEClTF6gQSxnKiujUiaELA+qWDi1JoUnM+1+5k3O95OK0TXyWovPdPdvfb/vu7PdC6giSmZ7O1cvl60Y1rqmGumCUGiZSQ8qYM1I90bYxaouU2lBa/SClVzOFwheana0etnmus7tkpqaG6tWdMVNXY4rUDWNM3qUmIqooo1Yoo5YzucFlmpvbcikf2DoLMJOT+dqf6hNu/ClD7/dwUFuXRxazzZ3wKnsy95rm5ysu1XQswCwtZfY+f3pIDTPDU+SsSyOd2jLMptE0M3BzdIHGx+udlOtIgCkWz9WU+cg9frGTSg9rwyOyllV0m0qlX0l1JQr4e3/iMtXMh+Pq9VaAMhpZunPi7eK3Vja4rtvdrBWLd6muvvYaHkxoE22DoR1jyxFAwYZpLLYr3Kt7mvREtlR6H9derACZNuh5Y07FFer1NX4mdk1GXY2bTgcEyANrGt/7MW3adQyeiSzpS9EHu+kZwKtS3jbH9JpsB5h0Dx0qbMxo2zYJwHu+V69KG6LTPNjAaNuHU0i+sNXKhm9Tx4ZFXqZSLj8cfLHDEcDywHd4CJCphKXM/yQjgIVZ7ffOTx4i57UNjYyozIP9Ua2/WVBmfT2oO/boah9XCdZO2dOD57EAlBGQVWUX8Kgc8FQoyC8QEtdocM3VPihnH9HRYMY1ESBLYtvCIQ/4INn54Fr0aNvY+ahd0nnArLEZwXo+qYB397EHYXYtOynHzYgPYnga5cGuZRvoA1EXDGDX2MN2UdaPIszOI6CG/aBxpwC7Fu+Be1kvSoBdh64PL5AcIfh7EC4lHIt6Y64VXBppTcyu4TFLKz/YNa/mNtIqAOwavsq0CgA7j4BeTasAsGvxEsPRmrLEe4IK2LW4uNlLnDJ+bM1WwC7fAbi4uxVgyuWwqJ0PL0Yyto2dj5glngbMIkD8811+D2QbySIAg3xScrWPqw9bSjDjnuyJkdm7N/HMNMwL5H1PpOn5wLvFl+AMlxISXGDvl/fw8NBxICTgDAXAz4LgQnDD1yMYA58QGEMBOJHICAcXkPcx8dxfA6PN1iQAYR2JjHg4lfhh3RS2SOipSQCUwftrODLCandtpf3Mg0WYYkJOBwQAFH54UvSon9B222CJiw3AJlYAbiAigshIP0cCbbeLzoAz/A7gJC75HuRLFABRPodZW04hezTwYGdvjV5Rmh7jbWDfO8q81M1toK1oKKlVOx2NgF04tX81sEUgn9o/e0SFiJg+/t3mHy+0s6Xj+Cx7AAAAAElFTkSuQmCC"},IEpp:function(e,t){e.exports=function(e){function t(n){if(i[n])return i[n].exports;var r=i[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var i={};return t.m=e,t.c=i,t.d=function(e,i,n){t.o(e,i)||Object.defineProperty(e,i,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var i=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(i,"a",i),i},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="dist/",t(t.s=0)}([function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,r=i(1),s=(n=r)&&n.__esModule?n:{default:n};t.default=s.default},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},r={name:"vodal",props:{show:{type:Boolean,required:!0},width:{type:Number,default:400},height:{type:Number,default:240},duration:{type:Number,default:300},measure:{type:String,default:"px"},animation:{type:String,default:"zoom"},mask:{type:Boolean,default:!0},closeButton:{type:Boolean,default:!0},closeOnEsc:{type:Boolean,default:!1},closeOnClickMask:{type:Boolean,default:!0},className:{type:String,default:""},customStyles:{type:Object,default:function(){return{}}},customMaskStyles:{type:Object,default:function(){return{}}}},computed:{style:function(){return{animationDuration:this.duration+"ms"}},dialogStyle:function(){return n({width:this.width+this.measure,height:this.height+this.measure,animationDuration:this.duration+"ms"},this.customStyles)}},watch:{show:function(e){var t=this;e&&this.$nextTick(function(){t.$el.focus()})}},methods:{onEsc:function(){this.show&&this.closeOnEsc&&this.$emit("hide")},onClickMask:function(){this.$emit("clickMask"),this.closeOnClickMask&&this.$emit("hide")}}},s={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("transition",{attrs:{name:"vodal-fade"}},[i("div",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"show"}],class:["vodal",e.className],style:e.style,attrs:{tabindex:"-1"},on:{keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"esc",27,t.key))return null;e.onEsc(t)}}},[e.mask?i("div",{staticClass:"vodal-mask",style:e.customMaskStyles,on:{click:e.onClickMask}}):e._e(),e._v(" "),i("transition",{attrs:{name:"vodal-"+e.animation}},[i("div",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"show"}],staticClass:"vodal-dialog",style:e.dialogStyle},[e.closeButton?i("span",{staticClass:"vodal-close",on:{click:function(t){e.$emit("hide")}}}):e._e(),e._v(" "),e._t("default")],2)])],1)])},staticRenderFns:[]},a=i(2)(r,s,!1,null,null,null);t.default=a.exports},function(e,t){e.exports=function(e,t,i,n,r,s){var a,o=e=e||{},u=typeof e.default;"object"!==u&&"function"!==u||(a=e,o=e.default);var l,c="function"==typeof o?o.options:o;if(t&&(c.render=t.render,c.staticRenderFns=t.staticRenderFns,c._compiled=!0),i&&(c.functional=!0),r&&(c._scopeId=r),s?(l=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),n&&n.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(s)},c._ssrRegister=l):n&&(l=n),l){var d=c.functional,h=d?c.render:c.beforeCreate;d?(c._injectStyles=l,c.render=function(e,t){return l.call(t),h(e,t)}):c.beforeCreate=h?[].concat(h,l):[l]}return{esModule:a,exports:o,options:c}}}])},ILD9:function(e,t,i){(function(t){var i,n;n=function(){return function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){if(!u&&("function"==typeof i&&i))return i(o,!0);if(a)return a(o,!0);var l=new Error("Cannot find module '"+o+"'");throw l.code="MODULE_NOT_FOUND",l}var c=n[o]={exports:{}};t[o][0].call(c.exports,function(e){var i=t[o][1][e];return s(i||e)},c,c.exports,e,t,n,r)}return n[o].exports}for(var a="function"==typeof i&&i,o=0;o<r.length;o++)s(r[o]);return s}({1:[function(e,i,n){(function(t,r){var s,a;s=this,a=function(){"use strict";function i(e){return"function"==typeof e}var n=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},s=0,a=void 0,o=void 0,u=function(e,t){v[s]=e,v[s+1]=t,2===(s+=2)&&(o?o(m):E())};var l="undefined"!=typeof window?window:void 0,c=l||{},d=c.MutationObserver||c.WebKitMutationObserver,h="undefined"==typeof self&&void 0!==t&&"[object process]"==={}.toString.call(t),f="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel;function p(){var e=setTimeout;return function(){return e(m,1)}}var v=new Array(1e3);function m(){for(var e=0;e<s;e+=2){(0,v[e])(v[e+1]),v[e]=void 0,v[e+1]=void 0}s=0}var _,g,A,y,E=void 0;function C(e,t){var i=arguments,n=this,r=new this.constructor(S);void 0===r[b]&&G(r);var s,a=n._state;return a?(s=i[a-1],u(function(){return Q(a,r,s,n._result)})):M(n,r,e,t),r}function w(e){if(e&&"object"==typeof e&&e.constructor===this)return e;var t=new this(S);return x(t,e),t}h?E=function(){return t.nextTick(m)}:d?(g=0,A=new d(m),y=document.createTextNode(""),A.observe(y,{characterData:!0}),E=function(){y.data=g=++g%2}):f?((_=new MessageChannel).port1.onmessage=m,E=function(){return _.port2.postMessage(0)}):E=void 0===l&&"function"==typeof e?function(){try{var t=e("vertx");return void 0!==(a=t.runOnLoop||t.runOnContext)?function(){a(m)}:p()}catch(e){return p()}}():p();var b=Math.random().toString(36).substring(16);function S(){}var k=void 0,I=1,B=2,L=new j;function R(e){try{return e.then}catch(e){return L.error=e,L}}function O(e,t,n){var r,s,a,o;t.constructor===e.constructor&&n===C&&t.constructor.resolve===w?(a=e,(o=t)._state===I?D(a,o._result):o._state===B?P(a,o._result):M(o,void 0,function(e){return x(a,e)},function(e){return P(a,e)})):n===L?(P(e,L.error),L.error=null):void 0===n?D(e,t):i(n)?(r=t,s=n,u(function(e){var t=!1,i=function(e,t,i,n){try{e.call(t,i,n)}catch(e){return e}}(s,r,function(i){t||(t=!0,r!==i?x(e,i):D(e,i))},function(i){t||(t=!0,P(e,i))},e._label);!t&&i&&(t=!0,P(e,i))},e)):D(e,t)}function x(e,t){var i;e===t?P(e,new TypeError("You cannot resolve a promise with itself")):"function"==typeof(i=t)||"object"==typeof i&&null!==i?O(e,t,R(t)):D(e,t)}function T(e){e._onerror&&e._onerror(e._result),N(e)}function D(e,t){e._state===k&&(e._result=t,e._state=I,0!==e._subscribers.length&&u(N,e))}function P(e,t){e._state===k&&(e._state=B,e._result=t,u(T,e))}function M(e,t,i,n){var r=e._subscribers,s=r.length;e._onerror=null,r[s]=t,r[s+I]=i,r[s+B]=n,0===s&&e._state&&u(N,e)}function N(e){var t=e._subscribers,i=e._state;if(0!==t.length){for(var n=void 0,r=void 0,s=e._result,a=0;a<t.length;a+=3)n=t[a],r=t[a+i],n?Q(i,n,r,s):r(s);e._subscribers.length=0}}function j(){this.error=null}var U=new j;function Q(e,t,n,r){var s=i(n),a=void 0,o=void 0,u=void 0,l=void 0;if(s){if((a=function(e,t){try{return e(t)}catch(e){return U.error=e,U}}(n,r))===U?(l=!0,o=a.error,a.error=null):u=!0,t===a)return void P(t,new TypeError("A promises callback cannot return that same promise."))}else a=r,u=!0;t._state!==k||(s&&u?x(t,a):l?P(t,o):e===I?D(t,a):e===B&&P(t,a))}var F=0;function G(e){e[b]=F++,e._state=void 0,e._result=void 0,e._subscribers=[]}function V(e,t){this._instanceConstructor=e,this.promise=new e(S),this.promise[b]||G(this.promise),n(t)?(this._input=t,this.length=t.length,this._remaining=t.length,this._result=new Array(this.length),0===this.length?D(this.promise,this._result):(this.length=this.length||0,this._enumerate(),0===this._remaining&&D(this.promise,this._result))):P(this.promise,new Error("Array Methods must be provided an Array"))}function q(e){this[b]=F++,this._result=this._state=void 0,this._subscribers=[],S!==e&&("function"!=typeof e&&function(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}(),this instanceof q?function(e,t){try{t(function(t){x(e,t)},function(t){P(e,t)})}catch(t){P(e,t)}}(this,e):function(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}())}return V.prototype._enumerate=function(){for(var e=this.length,t=this._input,i=0;this._state===k&&i<e;i++)this._eachEntry(t[i],i)},V.prototype._eachEntry=function(e,t){var i=this._instanceConstructor,n=i.resolve;if(n===w){var r=R(e);if(r===C&&e._state!==k)this._settledAt(e._state,t,e._result);else if("function"!=typeof r)this._remaining--,this._result[t]=e;else if(i===q){var s=new i(S);O(s,e,r),this._willSettleAt(s,t)}else this._willSettleAt(new i(function(t){return t(e)}),t)}else this._willSettleAt(n(e),t)},V.prototype._settledAt=function(e,t,i){var n=this.promise;n._state===k&&(this._remaining--,e===B?P(n,i):this._result[t]=i),0===this._remaining&&D(n,this._result)},V.prototype._willSettleAt=function(e,t){var i=this;M(e,void 0,function(e){return i._settledAt(I,t,e)},function(e){return i._settledAt(B,t,e)})},q.all=function(e){return new V(this,e).promise},q.race=function(e){var t=this;return n(e)?new t(function(i,n){for(var r=e.length,s=0;s<r;s++)t.resolve(e[s]).then(i,n)}):new t(function(e,t){return t(new TypeError("You must pass an array to race."))})},q.resolve=w,q.reject=function(e){var t=new this(S);return P(t,e),t},q._setScheduler=function(e){o=e},q._setAsap=function(e){u=e},q._asap=u,q.prototype={constructor:q,then:C,catch:function(e){return this.then(null,e)}},q.polyfill=function(){var e=void 0;if(void 0!==r)e=r;else if("undefined"!=typeof self)e=self;else try{e=Function("return this")()}catch(e){throw new Error("polyfill failed because global object is unavailable in this environment")}var t=e.Promise;if(t){var i=null;try{i=Object.prototype.toString.call(t.resolve())}catch(e){}if("[object Promise]"===i&&!t.cast)return}e.Promise=q},q.Promise=q,q},"object"==typeof n&&void 0!==i?i.exports=a():s.ES6Promise=a()}).call(this,e("_process"),void 0!==t?t:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{_process:3}],2:[function(e,t,i){function n(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function r(e){return"function"==typeof e}function s(e){return"object"==typeof e&&null!==e}function a(e){return void 0===e}t.exports=n,n.EventEmitter=n,n.prototype._events=void 0,n.prototype._maxListeners=void 0,n.defaultMaxListeners=10,n.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},n.prototype.emit=function(e){var t,i,n,o,u,l;if(this._events||(this._events={}),"error"===e&&(!this._events.error||s(this._events.error)&&!this._events.error.length)){if((t=arguments[1])instanceof Error)throw t;var c=new Error('Uncaught, unspecified "error" event. ('+t+")");throw c.context=t,c}if(a(i=this._events[e]))return!1;if(r(i))switch(arguments.length){case 1:i.call(this);break;case 2:i.call(this,arguments[1]);break;case 3:i.call(this,arguments[1],arguments[2]);break;default:o=Array.prototype.slice.call(arguments,1),i.apply(this,o)}else if(s(i))for(o=Array.prototype.slice.call(arguments,1),n=(l=i.slice()).length,u=0;u<n;u++)l[u].apply(this,o);return!0},n.prototype.addListener=function(e,t){var i;if(!r(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,r(t.listener)?t.listener:t),this._events[e]?s(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,s(this._events[e])&&!this._events[e].warned&&(i=a(this._maxListeners)?n.defaultMaxListeners:this._maxListeners)&&i>0&&this._events[e].length>i&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace()),this},n.prototype.on=n.prototype.addListener,n.prototype.once=function(e,t){if(!r(t))throw TypeError("listener must be a function");var i=!1;function n(){this.removeListener(e,n),i||(i=!0,t.apply(this,arguments))}return n.listener=t,this.on(e,n),this},n.prototype.removeListener=function(e,t){var i,n,a,o;if(!r(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(a=(i=this._events[e]).length,n=-1,i===t||r(i.listener)&&i.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(s(i)){for(o=a;o-- >0;)if(i[o]===t||i[o].listener&&i[o].listener===t){n=o;break}if(n<0)return this;1===i.length?(i.length=0,delete this._events[e]):i.splice(n,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},n.prototype.removeAllListeners=function(e){var t,i;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(r(i=this._events[e]))this.removeListener(e,i);else if(i)for(;i.length;)this.removeListener(e,i[i.length-1]);return delete this._events[e],this},n.prototype.listeners=function(e){return this._events&&this._events[e]?r(this._events[e])?[this._events[e]]:this._events[e].slice():[]},n.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(r(t))return 1;if(t)return t.length}return 0},n.listenerCount=function(e,t){return e.listenerCount(t)}},{}],3:[function(e,t,i){var n,r,s=t.exports={};function a(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function u(e){if(n===setTimeout)return setTimeout(e,0);if((n===a||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:a}catch(e){n=a}try{r="function"==typeof clearTimeout?clearTimeout:o}catch(e){r=o}}();var l,c=[],d=!1,h=-1;function f(){d&&l&&(d=!1,l.length?c=l.concat(c):h=-1,c.length&&p())}function p(){if(!d){var e=u(f);d=!0;for(var t=c.length;t;){for(l=c,c=[];++h<t;)l&&l[h].run();h=-1,t=c.length}l=null,d=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===o||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function v(e,t){this.fun=e,this.array=t}function m(){}s.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)t[i-1]=arguments[i];c.push(new v(e,t)),1!==c.length||d||u(p)},v.prototype.run=function(){this.fun.apply(null,this.array)},s.title="browser",s.browser=!0,s.env={},s.argv=[],s.version="",s.versions={},s.on=m,s.addListener=m,s.once=m,s.off=m,s.removeListener=m,s.removeAllListeners=m,s.emit=m,s.prependListener=m,s.prependOnceListener=m,s.listeners=function(e){return[]},s.binding=function(e){throw new Error("process.binding is not supported")},s.cwd=function(){return"/"},s.chdir=function(e){throw new Error("process.chdir is not supported")},s.umask=function(){return 0}},{}],4:[function(e,t,i){var n=arguments[3],r=arguments[4],s=arguments[5],a=JSON.stringify;t.exports=function(e,t){for(var i,o=Object.keys(s),u=0,l=o.length;u<l;u++){var c=o[u],d=s[c].exports;if(d===e||d&&d.default===e){i=c;break}}if(!i){i=Math.floor(Math.pow(16,8)*Math.random()).toString(16);var h={};for(u=0,l=o.length;u<l;u++){h[c=o[u]]=c}r[i]=[Function(["require","module","exports"],"("+e+")(self)"),h]}var f=Math.floor(Math.pow(16,8)*Math.random()).toString(16),p={};p[i]=i,r[f]=[Function(["require"],"var f = require("+a(i)+");(f.default ? f.default : f)(self);"),p];var v={};!function e(t){v[t]=!0;for(var i in r[t][1]){var n=r[t][1][i];v[n]||e(n)}}(f);var m="("+n+")({"+Object.keys(v).map(function(e){return a(e)+":["+r[e][0]+","+a(r[e][1])+"]"}).join(",")+"},{},["+a(f)+"])",_=window.URL||window.webkitURL||window.mozURL||window.msURL,g=new Blob([m],{type:"text/javascript"});if(t&&t.bare)return g;var A=_.createObjectURL(g),y=new Worker(A);return y.objectURL=A,y}},{}],5:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.createDefaultConfig=function(){return Object.assign({},n)};var n=i.defaultConfig={enableWorker:!1,enableStashBuffer:!0,stashInitialSize:void 0,isLive:!1,lazyLoad:!0,lazyLoadMaxDuration:180,lazyLoadRecoverDuration:30,deferLoadAfterSourceOpen:!0,autoCleanupMaxBackwardDuration:180,autoCleanupMinBackwardDuration:120,statisticsInfoReportInterval:600,fixAudioTimestampGap:!0,accurateSeek:!1,seekType:"range",seekParamStart:"bstart",seekParamEnd:"bend",rangeLoadZeroStart:!1,customSeekHandler:void 0,reuseRedirectedURL:!1}},{}],6:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n,r=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),s=e("../io/io-controller.js"),a=(n=s)&&n.__esModule?n:{default:n},o=e("../config.js");var u=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return r(e,null,[{key:"supportMSEH264Playback",value:function(){return window.MediaSource&&window.MediaSource.isTypeSupported('video/mp4; codecs="avc1.42E01E,mp4a.40.2"')}},{key:"supportNetworkStreamIO",value:function(){var e=new a.default({},(0,o.createDefaultConfig)()),t=e.loaderType;return e.destroy(),"fetch-stream-loader"==t||"xhr-moz-chunked-loader"==t}},{key:"getNetworkLoaderTypeName",value:function(){var e=new a.default({},(0,o.createDefaultConfig)()),t=e.loaderType;return e.destroy(),t}},{key:"supportNativeMediaPlayback",value:function(t){void 0==e.videoElement&&(e.videoElement=window.document.createElement("video"));var i=e.videoElement.canPlayType(t);return"probably"===i||"maybe"==i}},{key:"getFeatureList",value:function(){var t={mseFlvPlayback:!1,mseLiveFlvPlayback:!1,networkStreamIO:!1,networkLoaderName:"",nativeMP4H264Playback:!1,nativeWebmVP8Playback:!1,nativeWebmVP9Playback:!1};return t.mseFlvPlayback=e.supportMSEH264Playback(),t.networkStreamIO=e.supportNetworkStreamIO(),t.networkLoaderName=e.getNetworkLoaderTypeName(),t.mseLiveFlvPlayback=t.mseFlvPlayback&&t.networkStreamIO,t.nativeMP4H264Playback=e.supportNativeMediaPlayback('video/mp4; codecs="avc1.42001E, mp4a.40.2"'),t.nativeWebmVP8Playback=e.supportNativeMediaPlayback('video/webm; codecs="vp8.0, vorbis"'),t.nativeWebmVP9Playback=e.supportNativeMediaPlayback('video/webm; codecs="vp9"'),t}}]),e}();i.default=u},{"../config.js":5,"../io/io-controller.js":23}],7:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}();var r=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.mimeType=null,this.duration=null,this.hasAudio=null,this.hasVideo=null,this.audioCodec=null,this.videoCodec=null,this.audioDataRate=null,this.videoDataRate=null,this.audioSampleRate=null,this.audioChannelCount=null,this.width=null,this.height=null,this.fps=null,this.profile=null,this.level=null,this.refFrames=null,this.chromaFormat=null,this.sarNum=null,this.sarDen=null,this.metadata=null,this.segments=null,this.segmentCount=null,this.hasKeyframesIndex=null,this.keyframesIndex=null}return n(e,[{key:"isComplete",value:function(){var e=!1===this.hasAudio||!0===this.hasAudio&&null!=this.audioCodec&&null!=this.audioSampleRate&&null!=this.audioChannelCount,t=!1===this.hasVideo||!0===this.hasVideo&&null!=this.videoCodec&&null!=this.width&&null!=this.height&&null!=this.fps&&null!=this.profile&&null!=this.level&&null!=this.refFrames&&null!=this.chromaFormat&&null!=this.sarNum&&null!=this.sarDen;return null!=this.mimeType&&null!=this.duration&&null!=this.metadata&&null!=this.hasKeyframesIndex&&e&&t}},{key:"isSeekable",value:function(){return!0===this.hasKeyframesIndex}},{key:"getNearestKeyframe",value:function(e){if(null==this.keyframesIndex)return null;var t=this.keyframesIndex,i=this._search(t.times,e);return{index:i,milliseconds:t.times[i],fileposition:t.filepositions[i]}}},{key:"_search",value:function(e,t){var i=0,n=e.length-1,r=0,s=0,a=n;for(t<e[0]&&(i=0,s=a+1);s<=a;){if((r=s+Math.floor((a-s)/2))===n||t>=e[r]&&t<e[r+1]){i=r;break}e[r]<t?s=r+1:a=r-1}return i}}]),e}();i.default=r},{}],8:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}();function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}i.SampleInfo=function e(t,i,n,s,a){r(this,e),this.dts=t,this.pts=i,this.duration=n,this.originalDts=s,this.isSyncPoint=a,this.fileposition=null},i.MediaSegmentInfo=function(){function e(){r(this,e),this.beginDts=0,this.endDts=0,this.beginPts=0,this.endPts=0,this.originalBeginDts=0,this.originalEndDts=0,this.syncPoints=[],this.firstSample=null,this.lastSample=null}return n(e,[{key:"appendSyncPoint",value:function(e){e.isSyncPoint=!0,this.syncPoints.push(e)}}]),e}(),i.IDRSampleList=function(){function e(){r(this,e),this._list=[]}return n(e,[{key:"clear",value:function(){this._list=[]}},{key:"appendArray",value:function(e){var t=this._list;0!==e.length&&(t.length>0&&e[0].originalDts<t[t.length-1].originalDts&&this.clear(),Array.prototype.push.apply(t,e))}},{key:"getLastSyncPointBeforeDts",value:function(e){if(0==this._list.length)return null;var t=this._list,i=0,n=t.length-1,r=0,s=0,a=n;for(e<t[0].dts&&(i=0,s=a+1);s<=a;){if((r=s+Math.floor((a-s)/2))===n||e>=t[r].dts&&e<t[r+1].dts){i=r;break}t[r].dts<e?s=r+1:a=r-1}return this._list[i]}}]),e}(),i.MediaSegmentInfoList=function(){function e(t){r(this,e),this._type=t,this._list=[],this._lastAppendLocation=-1}return n(e,[{key:"isEmpty",value:function(){return 0===this._list.length}},{key:"clear",value:function(){this._list=[],this._lastAppendLocation=-1}},{key:"_searchNearestSegmentBefore",value:function(e){var t=this._list;if(0===t.length)return-2;var i=t.length-1,n=0,r=0,s=i,a=0;if(e<t[0].originalBeginDts)return a=-1;for(;r<=s;){if((n=r+Math.floor((s-r)/2))===i||e>t[n].lastSample.originalDts&&e<t[n+1].originalBeginDts){a=n;break}t[n].originalBeginDts<e?r=n+1:s=n-1}return a}},{key:"_searchNearestSegmentAfter",value:function(e){return this._searchNearestSegmentBefore(e)+1}},{key:"append",value:function(e){var t=this._list,i=e,n=this._lastAppendLocation,r=0;-1!==n&&n<t.length&&i.originalBeginDts>=t[n].lastSample.originalDts&&(n===t.length-1||n<t.length-1&&i.originalBeginDts<t[n+1].originalBeginDts)?r=n+1:t.length>0&&(r=this._searchNearestSegmentBefore(i.originalBeginDts)+1),this._lastAppendLocation=r,this._list.splice(r,0,i)}},{key:"getLastSegmentBefore",value:function(e){var t=this._searchNearestSegmentBefore(e);return t>=0?this._list[t]:null}},{key:"getLastSampleBefore",value:function(e){var t=this.getLastSegmentBefore(e);return null!=t?t.lastSample:null}},{key:"getLastSyncPointBefore",value:function(e){for(var t=this._searchNearestSegmentBefore(e),i=this._list[t].syncPoints;0===i.length&&t>0;)t--,i=this._list[t].syncPoints;return i.length>0?i[i.length-1]:null}},{key:"type",get:function(){return this._type}},{key:"length",get:function(){return this._list.length}}]),e}()},{}],9:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),r=c(e("events")),s=c(e("../utils/logger.js")),a=c(e("../utils/browser.js")),o=c(e("./mse-events.js")),u=e("./media-segment-info.js"),l=e("../utils/exception.js");function c(e){return e&&e.__esModule?e:{default:e}}var d=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.TAG="MSEController",this._config=t,this._emitter=new r.default,this._config.isLive&&void 0==this._config.autoCleanupSourceBuffer&&(this._config.autoCleanupSourceBuffer=!0),this.e={onSourceOpen:this._onSourceOpen.bind(this),onSourceEnded:this._onSourceEnded.bind(this),onSourceClose:this._onSourceClose.bind(this),onSourceBufferError:this._onSourceBufferError.bind(this),onSourceBufferUpdateEnd:this._onSourceBufferUpdateEnd.bind(this)},this._mediaSource=null,this._mediaSourceObjectURL=null,this._mediaElement=null,this._isBufferFull=!1,this._hasPendingEos=!1,this._requireSetMediaDuration=!1,this._pendingMediaDuration=0,this._pendingSourceBufferInit=[],this._mimeTypes={video:null,audio:null},this._sourceBuffers={video:null,audio:null},this._lastInitSegments={video:null,audio:null},this._pendingSegments={video:[],audio:[]},this._pendingRemoveRanges={video:[],audio:[]},this._idrList=new u.IDRSampleList}return n(e,[{key:"destroy",value:function(){(this._mediaElement||this._mediaSource)&&this.detachMediaElement(),this.e=null,this._emitter.removeAllListeners(),this._emitter=null}},{key:"on",value:function(e,t){this._emitter.addListener(e,t)}},{key:"off",value:function(e,t){this._emitter.removeListener(e,t)}},{key:"attachMediaElement",value:function(e){if(this._mediaSource)throw new l.IllegalStateException("MediaSource has been attached to an HTMLMediaElement!");var t=this._mediaSource=new window.MediaSource;t.addEventListener("sourceopen",this.e.onSourceOpen),t.addEventListener("sourceended",this.e.onSourceEnded),t.addEventListener("sourceclose",this.e.onSourceClose),this._mediaElement=e,this._mediaSourceObjectURL=window.URL.createObjectURL(this._mediaSource),e.src=this._mediaSourceObjectURL}},{key:"detachMediaElement",value:function(){if(this._mediaSource){var e=this._mediaSource;for(var t in this._sourceBuffers){var i=this._pendingSegments[t];i.splice(0,i.length),this._pendingSegments[t]=null,this._pendingRemoveRanges[t]=null,this._lastInitSegments[t]=null;var n=this._sourceBuffers[t];n&&("closed"!==e.readyState&&(e.removeSourceBuffer(n),n.removeEventListener("error",this.e.onSourceBufferError),n.removeEventListener("updateend",this.e.onSourceBufferUpdateEnd)),this._mimeTypes[t]=null,this._sourceBuffers[t]=null)}if("open"===e.readyState)try{e.endOfStream()}catch(e){s.default.e(this.TAG,e.message)}e.removeEventListener("sourceopen",this.e.onSourceOpen),e.removeEventListener("sourceended",this.e.onSourceEnded),e.removeEventListener("sourceclose",this.e.onSourceClose),this._pendingSourceBufferInit=[],this._isBufferFull=!1,this._idrList.clear(),this._mediaSource=null}this._mediaElement&&(this._mediaElement.src="",this._mediaElement.removeAttribute("src"),this._mediaElement=null),this._mediaSourceObjectURL&&(window.URL.revokeObjectURL(this._mediaSourceObjectURL),this._mediaSourceObjectURL=null)}},{key:"appendInitSegment",value:function(e,t){if(!this._mediaSource||"open"!==this._mediaSource.readyState)return this._pendingSourceBufferInit.push(e),void this._pendingSegments[e.type].push(e);var i=e,n=""+i.container;i.codec&&i.codec.length>0&&(n+=";codecs="+i.codec);var r=!1;if(s.default.v(this.TAG,"Received Initialization Segment, mimeType: "+n),this._lastInitSegments[i.type]=i,n!==this._mimeTypes[i.type]){if(this._mimeTypes[i.type])s.default.v(this.TAG,"Notice: "+i.type+" mimeType changed, origin: "+this._mimeTypes[i.type]+", target: "+n);else{r=!0;try{var u=this._sourceBuffers[i.type]=this._mediaSource.addSourceBuffer(n);u.addEventListener("error",this.e.onSourceBufferError),u.addEventListener("updateend",this.e.onSourceBufferUpdateEnd)}catch(e){return s.default.e(this.TAG,e.message),void this._emitter.emit(o.default.ERROR,{code:e.code,msg:e.message})}}this._mimeTypes[i.type]=n}t||this._pendingSegments[i.type].push(i),r||this._sourceBuffers[i.type]&&!this._sourceBuffers[i.type].updating&&this._doAppendSegments(),a.default.safari&&"audio/mpeg"===i.container&&i.mediaDuration>0&&(this._requireSetMediaDuration=!0,this._pendingMediaDuration=i.mediaDuration/1e3,this._updateMediaSourceDuration())}},{key:"appendMediaSegment",value:function(e){var t=e;this._pendingSegments[t.type].push(t),this._config.autoCleanupSourceBuffer&&this._needCleanupSourceBuffer()&&this._doCleanupSourceBuffer();var i=this._sourceBuffers[t.type];!i||i.updating||this._hasPendingRemoveRanges()||this._doAppendSegments()}},{key:"seek",value:function(e){for(var t in this._sourceBuffers)if(this._sourceBuffers[t]){var i=this._sourceBuffers[t];if("open"===this._mediaSource.readyState)try{i.abort()}catch(e){s.default.e(this.TAG,e.message)}this._idrList.clear();var n=this._pendingSegments[t];if(n.splice(0,n.length),"closed"!==this._mediaSource.readyState){for(var r=0;r<i.buffered.length;r++){var o=i.buffered.start(r),u=i.buffered.end(r);this._pendingRemoveRanges[t].push({start:o,end:u})}if(i.updating||this._doRemoveRanges(),a.default.safari){var l=this._lastInitSegments[t];l&&(this._pendingSegments[t].push(l),i.updating||this._doAppendSegments())}}}}},{key:"endOfStream",value:function(){var e=this._mediaSource,t=this._sourceBuffers;e&&"open"===e.readyState?t.video&&t.video.updating||t.audio&&t.audio.updating?this._hasPendingEos=!0:(this._hasPendingEos=!1,e.endOfStream()):e&&"closed"===e.readyState&&this._hasPendingSegments()&&(this._hasPendingEos=!0)}},{key:"getNearestKeyframe",value:function(e){return this._idrList.getLastSyncPointBeforeDts(e)}},{key:"_needCleanupSourceBuffer",value:function(){if(!this._config.autoCleanupSourceBuffer)return!1;var e=this._mediaElement.currentTime;for(var t in this._sourceBuffers){var i=this._sourceBuffers[t];if(i){var n=i.buffered;if(n.length>=1&&e-n.start(0)>=this._config.autoCleanupMaxBackwardDuration)return!0}}return!1}},{key:"_doCleanupSourceBuffer",value:function(){var e=this._mediaElement.currentTime;for(var t in this._sourceBuffers){var i=this._sourceBuffers[t];if(i){for(var n=i.buffered,r=!1,s=0;s<n.length;s++){var a=n.start(s),o=n.end(s);if(a<=e&&e<o+3){if(e-a>=this._config.autoCleanupMaxBackwardDuration){r=!0;var u=e-this._config.autoCleanupMinBackwardDuration;this._pendingRemoveRanges[t].push({start:a,end:u})}}else o<e&&(r=!0,this._pendingRemoveRanges[t].push({start:a,end:o}))}r&&!i.updating&&this._doRemoveRanges()}}}},{key:"_updateMediaSourceDuration",value:function(){var e=this._sourceBuffers;if(0!==this._mediaElement.readyState&&"open"===this._mediaSource.readyState&&!(e.video&&e.video.updating||e.audio&&e.audio.updating)){var t=this._mediaSource.duration,i=this._pendingMediaDuration;i>0&&(isNaN(t)||i>t)&&(s.default.v(this.TAG,"Update MediaSource duration from "+t+" to "+i),this._mediaSource.duration=i),this._requireSetMediaDuration=!1,this._pendingMediaDuration=0}}},{key:"_doRemoveRanges",value:function(){for(var e in this._pendingRemoveRanges)if(this._sourceBuffers[e]&&!this._sourceBuffers[e].updating)for(var t=this._sourceBuffers[e],i=this._pendingRemoveRanges[e];i.length&&!t.updating;){var n=i.shift();t.remove(n.start,n.end)}}},{key:"_doAppendSegments",value:function(){var e=this._pendingSegments;for(var t in e)if(this._sourceBuffers[t]&&!this._sourceBuffers[t].updating&&e[t].length>0){var i=e[t].shift();if(i.timestampOffset){var n=this._sourceBuffers[t].timestampOffset,r=i.timestampOffset/1e3;Math.abs(n-r)>.1&&(s.default.v(this.TAG,"Update MPEG audio timestampOffset from "+n+" to "+r),this._sourceBuffers[t].timestampOffset=r),delete i.timestampOffset}if(!i.data||0===i.data.byteLength)continue;try{this._sourceBuffers[t].appendBuffer(i.data),this._isBufferFull=!1,"video"===t&&i.hasOwnProperty("info")&&this._idrList.appendArray(i.info.syncPoints)}catch(e){this._pendingSegments[t].unshift(i),22===e.code?(this._isBufferFull||this._emitter.emit(o.default.BUFFER_FULL),this._isBufferFull=!0):(s.default.e(this.TAG,e.message),this._emitter.emit(o.default.ERROR,{code:e.code,msg:e.message}))}}}},{key:"_onSourceOpen",value:function(){if(s.default.v(this.TAG,"MediaSource onSourceOpen"),this._mediaSource.removeEventListener("sourceopen",this.e.onSourceOpen),this._pendingSourceBufferInit.length>0)for(var e=this._pendingSourceBufferInit;e.length;){var t=e.shift();this.appendInitSegment(t,!0)}this._hasPendingSegments()&&this._doAppendSegments(),this._emitter.emit(o.default.SOURCE_OPEN)}},{key:"_onSourceEnded",value:function(){s.default.v(this.TAG,"MediaSource onSourceEnded")}},{key:"_onSourceClose",value:function(){s.default.v(this.TAG,"MediaSource onSourceClose"),this._mediaSource&&null!=this.e&&(this._mediaSource.removeEventListener("sourceopen",this.e.onSourceOpen),this._mediaSource.removeEventListener("sourceended",this.e.onSourceEnded),this._mediaSource.removeEventListener("sourceclose",this.e.onSourceClose))}},{key:"_hasPendingSegments",value:function(){var e=this._pendingSegments;return e.video.length>0||e.audio.length>0}},{key:"_hasPendingRemoveRanges",value:function(){var e=this._pendingRemoveRanges;return e.video.length>0||e.audio.length>0}},{key:"_onSourceBufferUpdateEnd",value:function(){this._requireSetMediaDuration?this._updateMediaSourceDuration():this._hasPendingRemoveRanges()?this._doRemoveRanges():this._hasPendingSegments()?this._doAppendSegments():this._hasPendingEos&&this.endOfStream(),this._emitter.emit(o.default.UPDATE_END)}},{key:"_onSourceBufferError",value:function(e){s.default.e(this.TAG,"SourceBuffer Error: "+e)}}]),e}();i.default=d},{"../utils/browser.js":39,"../utils/exception.js":40,"../utils/logger.js":41,"./media-segment-info.js":8,"./mse-events.js":10,events:2}],10:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});i.default={ERROR:"error",SOURCE_OPEN:"source_open",UPDATE_END:"update_end",BUFFER_FULL:"buffer_full"}},{}],11:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),r=d(e("events")),s=d(e("../utils/logger.js")),a=d(e("../utils/logging-control.js")),o=d(e("./transmuxing-controller.js")),u=d(e("./transmuxing-events.js")),l=d(e("./transmuxing-worker.js")),c=d(e("./media-info.js"));function d(e){return e&&e.__esModule?e:{default:e}}var h=function(){function t(i,n){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this.TAG="Transmuxer",this._emitter=new r.default,n.enableWorker&&"undefined"!=typeof Worker)try{var c=e("webworkify");this._worker=c(l.default),this._workerDestroying=!1,this._worker.addEventListener("message",this._onWorkerMessage.bind(this)),this._worker.postMessage({cmd:"init",param:[i,n]}),this.e={onLoggingConfigChanged:this._onLoggingConfigChanged.bind(this)},a.default.registerListener(this.e.onLoggingConfigChanged),this._worker.postMessage({cmd:"logging_config",param:a.default.getConfig()})}catch(e){s.default.e(this.TAG,"Error while initialize transmuxing worker, fallback to inline transmuxing"),this._worker=null,this._controller=new o.default(i,n)}else this._controller=new o.default(i,n);if(this._controller){var d=this._controller;d.on(u.default.IO_ERROR,this._onIOError.bind(this)),d.on(u.default.DEMUX_ERROR,this._onDemuxError.bind(this)),d.on(u.default.INIT_SEGMENT,this._onInitSegment.bind(this)),d.on(u.default.MEDIA_SEGMENT,this._onMediaSegment.bind(this)),d.on(u.default.LOADING_COMPLETE,this._onLoadingComplete.bind(this)),d.on(u.default.RECOVERED_EARLY_EOF,this._onRecoveredEarlyEof.bind(this)),d.on(u.default.MEDIA_INFO,this._onMediaInfo.bind(this)),d.on(u.default.STATISTICS_INFO,this._onStatisticsInfo.bind(this)),d.on(u.default.RECOMMEND_SEEKPOINT,this._onRecommendSeekpoint.bind(this))}}return n(t,[{key:"destroy",value:function(){this._worker?this._workerDestroying||(this._workerDestroying=!0,this._worker.postMessage({cmd:"destroy"}),a.default.removeListener(this.e.onLoggingConfigChanged),this.e=null):(this._controller.destroy(),this._controller=null),this._emitter.removeAllListeners(),this._emitter=null}},{key:"on",value:function(e,t){this._emitter.addListener(e,t)}},{key:"off",value:function(e,t){this._emitter.removeListener(e,t)}},{key:"hasWorker",value:function(){return null!=this._worker}},{key:"open",value:function(){this._worker?this._worker.postMessage({cmd:"start"}):this._controller.start()}},{key:"close",value:function(){this._worker?this._worker.postMessage({cmd:"stop"}):this._controller.stop()}},{key:"seek",value:function(e){this._worker?this._worker.postMessage({cmd:"seek",param:e}):this._controller.seek(e)}},{key:"pause",value:function(){this._worker?this._worker.postMessage({cmd:"pause"}):this._controller.pause()}},{key:"resume",value:function(){this._worker?this._worker.postMessage({cmd:"resume"}):this._controller.resume()}},{key:"_onInitSegment",value:function(e,t){var i=this;Promise.resolve().then(function(){i._emitter.emit(u.default.INIT_SEGMENT,e,t)})}},{key:"_onMediaSegment",value:function(e,t){var i=this;Promise.resolve().then(function(){i._emitter.emit(u.default.MEDIA_SEGMENT,e,t)})}},{key:"_onLoadingComplete",value:function(){var e=this;Promise.resolve().then(function(){e._emitter.emit(u.default.LOADING_COMPLETE)})}},{key:"_onRecoveredEarlyEof",value:function(){var e=this;Promise.resolve().then(function(){e._emitter.emit(u.default.RECOVERED_EARLY_EOF)})}},{key:"_onMediaInfo",value:function(e){var t=this;Promise.resolve().then(function(){t._emitter.emit(u.default.MEDIA_INFO,e)})}},{key:"_onStatisticsInfo",value:function(e){var t=this;Promise.resolve().then(function(){t._emitter.emit(u.default.STATISTICS_INFO,e)})}},{key:"_onIOError",value:function(e,t){var i=this;Promise.resolve().then(function(){i._emitter.emit(u.default.IO_ERROR,e,t)})}},{key:"_onDemuxError",value:function(e,t){var i=this;Promise.resolve().then(function(){i._emitter.emit(u.default.DEMUX_ERROR,e,t)})}},{key:"_onRecommendSeekpoint",value:function(e){var t=this;Promise.resolve().then(function(){t._emitter.emit(u.default.RECOMMEND_SEEKPOINT,e)})}},{key:"_onLoggingConfigChanged",value:function(e){this._worker&&this._worker.postMessage({cmd:"logging_config",param:e})}},{key:"_onWorkerMessage",value:function(e){var t=e.data,i=t.data;if("destroyed"===t.msg||this._workerDestroying)return this._workerDestroying=!1,this._worker.terminate(),void(this._worker=null);switch(t.msg){case u.default.INIT_SEGMENT:case u.default.MEDIA_SEGMENT:this._emitter.emit(t.msg,i.type,i.data);break;case u.default.LOADING_COMPLETE:case u.default.RECOVERED_EARLY_EOF:this._emitter.emit(t.msg);break;case u.default.MEDIA_INFO:Object.setPrototypeOf(i,c.default.prototype),this._emitter.emit(t.msg,i);break;case u.default.STATISTICS_INFO:this._emitter.emit(t.msg,i);break;case u.default.IO_ERROR:case u.default.DEMUX_ERROR:this._emitter.emit(t.msg,i.type,i.info);break;case u.default.RECOMMEND_SEEKPOINT:this._emitter.emit(t.msg,i);break;case"logcat_callback":s.default.emitter.emit("log",i.type,i.logcat)}}}]),t}();i.default=h},{"../utils/logger.js":41,"../utils/logging-control.js":42,"./media-info.js":7,"./transmuxing-controller.js":12,"./transmuxing-events.js":13,"./transmuxing-worker.js":14,events:2,webworkify:4}],12:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),r=f(e("events")),s=f(e("../utils/logger.js")),a=f(e("../utils/browser.js")),o=f(e("./media-info.js")),u=f(e("../demux/flv-demuxer.js")),l=f(e("../remux/mp4-remuxer.js")),c=f(e("../demux/demux-errors.js")),d=f(e("../io/io-controller.js")),h=f(e("./transmuxing-events.js"));e("../io/loader.js");function f(e){return e&&e.__esModule?e:{default:e}}var p=function(){function e(t,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.TAG="TransmuxingController",this._emitter=new r.default,this._config=i,t.segments||(t.segments=[{duration:t.duration,filesize:t.filesize,url:t.url}]),"boolean"!=typeof t.cors&&(t.cors=!0),"boolean"!=typeof t.withCredentials&&(t.withCredentials=!1),this._mediaDataSource=t,this._currentSegmentIndex=0;var n=0;this._mediaDataSource.segments.forEach(function(e){e.timestampBase=n,n+=e.duration,e.cors=t.cors,e.withCredentials=t.withCredentials,i.referrerPolicy&&(e.referrerPolicy=i.referrerPolicy)}),isNaN(n)||this._mediaDataSource.duration===n||(this._mediaDataSource.duration=n),this._mediaInfo=null,this._demuxer=null,this._remuxer=null,this._ioctl=null,this._pendingSeekTime=null,this._pendingResolveSeekPoint=null,this._statisticsReporter=null}return n(e,[{key:"destroy",value:function(){this._mediaInfo=null,this._mediaDataSource=null,this._statisticsReporter&&this._disableStatisticsReporter(),this._ioctl&&(this._ioctl.destroy(),this._ioctl=null),this._demuxer&&(this._demuxer.destroy(),this._demuxer=null),this._remuxer&&(this._remuxer.destroy(),this._remuxer=null),this._emitter.removeAllListeners(),this._emitter=null}},{key:"on",value:function(e,t){this._emitter.addListener(e,t)}},{key:"off",value:function(e,t){this._emitter.removeListener(e,t)}},{key:"start",value:function(){this._loadSegment(0),this._enableStatisticsReporter()}},{key:"_loadSegment",value:function(e,t){this._currentSegmentIndex=e;var i=this._mediaDataSource.segments[e],n=this._ioctl=new d.default(i,this._config,e);n.onError=this._onIOException.bind(this),n.onSeeked=this._onIOSeeked.bind(this),n.onComplete=this._onIOComplete.bind(this),n.onRedirect=this._onIORedirect.bind(this),n.onRecoveredEarlyEof=this._onIORecoveredEarlyEof.bind(this),t?this._demuxer.bindDataSource(this._ioctl):n.onDataArrival=this._onInitChunkArrival.bind(this),n.open(t)}},{key:"stop",value:function(){this._internalAbort(),this._disableStatisticsReporter()}},{key:"_internalAbort",value:function(){this._ioctl&&(this._ioctl.destroy(),this._ioctl=null)}},{key:"pause",value:function(){this._ioctl&&this._ioctl.isWorking()&&(this._ioctl.pause(),this._disableStatisticsReporter())}},{key:"resume",value:function(){this._ioctl&&this._ioctl.isPaused()&&(this._ioctl.resume(),this._enableStatisticsReporter())}},{key:"seek",value:function(e){if(null!=this._mediaInfo&&this._mediaInfo.isSeekable()){var t=this._searchSegmentIndexContains(e);if(t===this._currentSegmentIndex){var i=this._mediaInfo.segments[t];if(void 0==i)this._pendingSeekTime=e;else{var n=i.getNearestKeyframe(e);this._remuxer.seek(n.milliseconds),this._ioctl.seek(n.fileposition),this._pendingResolveSeekPoint=n.milliseconds}}else{var r=this._mediaInfo.segments[t];if(void 0==r)this._pendingSeekTime=e,this._internalAbort(),this._remuxer.seek(),this._remuxer.insertDiscontinuity(),this._loadSegment(t);else{var s=r.getNearestKeyframe(e);this._internalAbort(),this._remuxer.seek(e),this._remuxer.insertDiscontinuity(),this._demuxer.resetMediaInfo(),this._demuxer.timestampBase=this._mediaDataSource.segments[t].timestampBase,this._loadSegment(t,s.fileposition),this._pendingResolveSeekPoint=s.milliseconds,this._reportSegmentMediaInfo(t)}}this._enableStatisticsReporter()}}},{key:"_searchSegmentIndexContains",value:function(e){for(var t=this._mediaDataSource.segments,i=t.length-1,n=0;n<t.length;n++)if(e<t[n].timestampBase){i=n-1;break}return i}},{key:"_onInitChunkArrival",value:function(e,t){var i=this,n=null,r=0;if(t>0)this._demuxer.bindDataSource(this._ioctl),this._demuxer.timestampBase=this._mediaDataSource.segments[this._currentSegmentIndex].timestampBase,r=this._demuxer.parseChunks(e,t);else if((n=u.default.probe(e)).match){this._demuxer=new u.default(n,this._config),this._remuxer||(this._remuxer=new l.default(this._config));var a=this._mediaDataSource;void 0==a.duration||isNaN(a.duration)||(this._demuxer.overridedDuration=a.duration),"boolean"==typeof a.hasAudio&&(this._demuxer.overridedHasAudio=a.hasAudio),"boolean"==typeof a.hasVideo&&(this._demuxer.overridedHasVideo=a.hasVideo),this._demuxer.timestampBase=a.segments[this._currentSegmentIndex].timestampBase,this._demuxer.onError=this._onDemuxException.bind(this),this._demuxer.onMediaInfo=this._onMediaInfo.bind(this),this._remuxer.bindDataSource(this._demuxer.bindDataSource(this._ioctl)),this._remuxer.onInitSegment=this._onRemuxerInitSegmentArrival.bind(this),this._remuxer.onMediaSegment=this._onRemuxerMediaSegmentArrival.bind(this),r=this._demuxer.parseChunks(e,t)}else n=null,s.default.e(this.TAG,"Non-FLV, Unsupported media type!"),Promise.resolve().then(function(){i._internalAbort()}),this._emitter.emit(h.default.DEMUX_ERROR,c.default.FORMAT_UNSUPPORTED,"Non-FLV, Unsupported media type"),r=0;return r}},{key:"_onMediaInfo",value:function(e){var t=this;null==this._mediaInfo&&(this._mediaInfo=Object.assign({},e),this._mediaInfo.keyframesIndex=null,this._mediaInfo.segments=[],this._mediaInfo.segmentCount=this._mediaDataSource.segments.length,Object.setPrototypeOf(this._mediaInfo,o.default.prototype));var i=Object.assign({},e);Object.setPrototypeOf(i,o.default.prototype),this._mediaInfo.segments[this._currentSegmentIndex]=i,this._reportSegmentMediaInfo(this._currentSegmentIndex),null!=this._pendingSeekTime&&Promise.resolve().then(function(){var e=t._pendingSeekTime;t._pendingSeekTime=null,t.seek(e)})}},{key:"_onIOSeeked",value:function(){this._remuxer.insertDiscontinuity()}},{key:"_onIOComplete",value:function(e){var t=e+1;t<this._mediaDataSource.segments.length?(this._internalAbort(),this._loadSegment(t)):(this._remuxer.flushStashedSamples(),this._emitter.emit(h.default.LOADING_COMPLETE),this._disableStatisticsReporter())}},{key:"_onIORedirect",value:function(e){var t=this._ioctl.extraData;this._mediaDataSource.segments[t].redirectedURL=e}},{key:"_onIORecoveredEarlyEof",value:function(){this._emitter.emit(h.default.RECOVERED_EARLY_EOF)}},{key:"_onIOException",value:function(e,t){s.default.e(this.TAG,"IOException: type = "+e+", code = "+t.code+", msg = "+t.msg),this._emitter.emit(h.default.IO_ERROR,e,t),this._disableStatisticsReporter()}},{key:"_onDemuxException",value:function(e,t){s.default.e(this.TAG,"DemuxException: type = "+e+", info = "+t),this._emitter.emit(h.default.DEMUX_ERROR,e,t)}},{key:"_onRemuxerInitSegmentArrival",value:function(e,t){this._emitter.emit(h.default.INIT_SEGMENT,e,t)}},{key:"_onRemuxerMediaSegmentArrival",value:function(e,t){if(null==this._pendingSeekTime&&(this._emitter.emit(h.default.MEDIA_SEGMENT,e,t),null!=this._pendingResolveSeekPoint&&"video"===e)){var i=t.info.syncPoints,n=this._pendingResolveSeekPoint;this._pendingResolveSeekPoint=null,a.default.safari&&i.length>0&&i[0].originalDts===n&&(n=i[0].pts),this._emitter.emit(h.default.RECOMMEND_SEEKPOINT,n)}}},{key:"_enableStatisticsReporter",value:function(){null==this._statisticsReporter&&(this._statisticsReporter=self.setInterval(this._reportStatisticsInfo.bind(this),this._config.statisticsInfoReportInterval))}},{key:"_disableStatisticsReporter",value:function(){this._statisticsReporter&&(self.clearInterval(this._statisticsReporter),this._statisticsReporter=null)}},{key:"_reportSegmentMediaInfo",value:function(e){var t=this._mediaInfo.segments[e],i=Object.assign({},t);i.duration=this._mediaInfo.duration,i.segmentCount=this._mediaInfo.segmentCount,delete i.segments,delete i.keyframesIndex,this._emitter.emit(h.default.MEDIA_INFO,i)}},{key:"_reportStatisticsInfo",value:function(){var e={};e.url=this._ioctl.currentURL,e.hasRedirect=this._ioctl.hasRedirect,e.hasRedirect&&(e.redirectedURL=this._ioctl.currentRedirectedURL),e.speed=this._ioctl.currentSpeed,e.loaderType=this._ioctl.loaderType,e.currentSegmentIndex=this._currentSegmentIndex,e.totalSegmentCount=this._mediaDataSource.segments.length,this._emitter.emit(h.default.STATISTICS_INFO,e)}}]),e}();i.default=p},{"../demux/demux-errors.js":16,"../demux/flv-demuxer.js":18,"../io/io-controller.js":23,"../io/loader.js":24,"../remux/mp4-remuxer.js":38,"../utils/browser.js":39,"../utils/logger.js":41,"./media-info.js":7,"./transmuxing-events.js":13,events:2}],13:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});i.default={IO_ERROR:"io_error",DEMUX_ERROR:"demux_error",INIT_SEGMENT:"init_segment",MEDIA_SEGMENT:"media_segment",LOADING_COMPLETE:"loading_complete",RECOVERED_EARLY_EOF:"recovered_early_eof",MEDIA_INFO:"media_info",STATISTICS_INFO:"statistics_info",RECOMMEND_SEEKPOINT:"recommend_seekpoint"}},{}],14:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});o(e("../utils/logger.js"));var n=o(e("../utils/logging-control.js")),r=o(e("../utils/polyfill.js")),s=o(e("./transmuxing-controller.js")),a=o(e("./transmuxing-events.js"));function o(e){return e&&e.__esModule?e:{default:e}}i.default=function(e){var t=null,i=function(t,i){e.postMessage({msg:"logcat_callback",data:{type:t,logcat:i}})}.bind(this);r.default.install(),e.addEventListener("message",function(r){switch(r.data.cmd){case"init":(t=new s.default(r.data.param[0],r.data.param[1])).on(a.default.IO_ERROR,function(t,i){e.postMessage({msg:a.default.IO_ERROR,data:{type:t,info:i}})}.bind(this)),t.on(a.default.DEMUX_ERROR,function(t,i){e.postMessage({msg:a.default.DEMUX_ERROR,data:{type:t,info:i}})}.bind(this)),t.on(a.default.INIT_SEGMENT,function(t,i){var n={msg:a.default.INIT_SEGMENT,data:{type:t,data:i}};e.postMessage(n,[i.data])}.bind(this)),t.on(a.default.MEDIA_SEGMENT,function(t,i){var n={msg:a.default.MEDIA_SEGMENT,data:{type:t,data:i}};e.postMessage(n,[i.data])}.bind(this)),t.on(a.default.LOADING_COMPLETE,function(){var t={msg:a.default.LOADING_COMPLETE};e.postMessage(t)}.bind(this)),t.on(a.default.RECOVERED_EARLY_EOF,function(){var t={msg:a.default.RECOVERED_EARLY_EOF};e.postMessage(t)}.bind(this)),t.on(a.default.MEDIA_INFO,function(t){var i={msg:a.default.MEDIA_INFO,data:t};e.postMessage(i)}.bind(this)),t.on(a.default.STATISTICS_INFO,function(t){var i={msg:a.default.STATISTICS_INFO,data:t};e.postMessage(i)}.bind(this)),t.on(a.default.RECOMMEND_SEEKPOINT,function(t){e.postMessage({msg:a.default.RECOMMEND_SEEKPOINT,data:t})}.bind(this));break;case"destroy":t&&(t.destroy(),t=null),e.postMessage({msg:"destroyed"});break;case"start":t.start();break;case"stop":t.stop();break;case"seek":t.seek(r.data.param);break;case"pause":t.pause();break;case"resume":t.resume();break;case"logging_config":var o=r.data.param;n.default.applyConfig(o),!0===o.enableCallback?n.default.addLogListener(i):n.default.removeLogListener(i)}})}},{"../utils/logger.js":41,"../utils/logging-control.js":42,"../utils/polyfill.js":43,"./transmuxing-controller.js":12,"./transmuxing-events.js":13}],15:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),r=o(e("../utils/logger.js")),s=o(e("../utils/utf8-conv.js")),a=e("../utils/exception.js");function o(e){return e&&e.__esModule?e:{default:e}}var u,l=(u=new ArrayBuffer(2),new DataView(u).setInt16(0,256,!0),256===new Int16Array(u)[0]),c=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return n(e,null,[{key:"parseScriptData",value:function(t,i,n){var s={};try{var a=e.parseValue(t,i,n),o=e.parseValue(t,i+a.size,n-a.size);s[a.data]=o.data}catch(e){r.default.e("AMF",e.toString())}return s}},{key:"parseObject",value:function(t,i,n){if(n<3)throw new a.IllegalStateException("Data not enough when parse ScriptDataObject");var r=e.parseString(t,i,n),s=e.parseValue(t,i+r.size,n-r.size),o=s.objectEnd;return{data:{name:r.data,value:s.data},size:r.size+s.size,objectEnd:o}}},{key:"parseVariable",value:function(t,i,n){return e.parseObject(t,i,n)}},{key:"parseString",value:function(e,t,i){if(i<2)throw new a.IllegalStateException("Data not enough when parse String");var n=new DataView(e,t,i).getUint16(0,!l);return{data:n>0?(0,s.default)(new Uint8Array(e,t+2,n)):"",size:2+n}}},{key:"parseLongString",value:function(e,t,i){if(i<4)throw new a.IllegalStateException("Data not enough when parse LongString");var n=new DataView(e,t,i).getUint32(0,!l);return{data:n>0?(0,s.default)(new Uint8Array(e,t+4,n)):"",size:4+n}}},{key:"parseDate",value:function(e,t,i){if(i<10)throw new a.IllegalStateException("Data size invalid when parse Date");var n=new DataView(e,t,i),r=n.getFloat64(0,!l),s=n.getInt16(8,!l);return{data:new Date(r+=60*s*1e3),size:10}}},{key:"parseValue",value:function(t,i,n){if(n<1)throw new a.IllegalStateException("Data not enough when parse Value");var s=new DataView(t,i,n),o=1,u=s.getUint8(0),c=void 0,d=!1;try{switch(u){case 0:c=s.getFloat64(1,!l),o+=8;break;case 1:c=!!s.getUint8(1),o+=1;break;case 2:var h=e.parseString(t,i+1,n-1);c=h.data,o+=h.size;break;case 3:c={};var f=0;for(9==(16777215&s.getUint32(n-4,!l))&&(f=3);o<n-4;){var p=e.parseObject(t,i+o,n-o-f);if(p.objectEnd)break;c[p.data.name]=p.data.value,o+=p.size}if(o<=n-3)9===(16777215&s.getUint32(o-1,!l))&&(o+=3);break;case 8:c={},o+=4;var v=0;for(9==(16777215&s.getUint32(n-4,!l))&&(v=3);o<n-8;){var m=e.parseVariable(t,i+o,n-o-v);if(m.objectEnd)break;c[m.data.name]=m.data.value,o+=m.size}if(o<=n-3)9===(16777215&s.getUint32(o-1,!l))&&(o+=3);break;case 9:c=void 0,o=1,d=!0;break;case 10:c=[];var _=s.getUint32(1,!l);o+=4;for(var g=0;g<_;g++){var A=e.parseValue(t,i+o,n-o);c.push(A.data),o+=A.size}break;case 11:var y=e.parseDate(t,i+1,n-1);c=y.data,o+=y.size;break;case 12:var E=e.parseString(t,i+1,n-1);c=E.data,o+=E.size;break;default:o=n,r.default.w("AMF","Unsupported AMF value type "+u)}}catch(e){r.default.e("AMF",e.toString())}return{data:c,size:o,objectEnd:d}}}]),e}();i.default=c},{"../utils/exception.js":40,"../utils/logger.js":41,"../utils/utf8-conv.js":44}],16:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});i.default={OK:"OK",FORMAT_ERROR:"FormatError",FORMAT_UNSUPPORTED:"FormatUnsupported",CODEC_UNSUPPORTED:"CodecUnsupported"}},{}],17:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),r=e("../utils/exception.js");var s=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.TAG="ExpGolomb",this._buffer=t,this._buffer_index=0,this._total_bytes=t.byteLength,this._total_bits=8*t.byteLength,this._current_word=0,this._current_word_bits_left=0}return n(e,[{key:"destroy",value:function(){this._buffer=null}},{key:"_fillCurrentWord",value:function(){var e=this._total_bytes-this._buffer_index;if(e<=0)throw new r.IllegalStateException("ExpGolomb: _fillCurrentWord() but no bytes available");var t=Math.min(4,e),i=new Uint8Array(4);i.set(this._buffer.subarray(this._buffer_index,this._buffer_index+t)),this._current_word=new DataView(i.buffer).getUint32(0,!1),this._buffer_index+=t,this._current_word_bits_left=8*t}},{key:"readBits",value:function(e){if(e>32)throw new r.InvalidArgumentException("ExpGolomb: readBits() bits exceeded max 32bits!");if(e<=this._current_word_bits_left){var t=this._current_word>>>32-e;return this._current_word<<=e,this._current_word_bits_left-=e,t}var i=this._current_word_bits_left?this._current_word:0;i>>>=32-this._current_word_bits_left;var n=e-this._current_word_bits_left;this._fillCurrentWord();var s=Math.min(n,this._current_word_bits_left),a=this._current_word>>>32-s;return this._current_word<<=s,this._current_word_bits_left-=s,i=i<<s|a}},{key:"readBool",value:function(){return 1===this.readBits(1)}},{key:"readByte",value:function(){return this.readBits(8)}},{key:"_skipLeadingZero",value:function(){var e=void 0;for(e=0;e<this._current_word_bits_left;e++)if(0!=(this._current_word&2147483648>>>e))return this._current_word<<=e,this._current_word_bits_left-=e,e;return this._fillCurrentWord(),e+this._skipLeadingZero()}},{key:"readUEG",value:function(){var e=this._skipLeadingZero();return this.readBits(e+1)-1}},{key:"readSEG",value:function(){var e=this.readUEG();return 1&e?e+1>>>1:-1*(e>>>1)}}]),e}();i.default=s},{"../utils/exception.js":40}],18:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),s=d(e("../utils/logger.js")),a=d(e("./amf-parser.js")),o=d(e("./sps-parser.js")),u=d(e("./demux-errors.js")),l=d(e("../core/media-info.js")),c=e("../utils/exception.js");function d(e){return e&&e.__esModule?e:{default:e}}var h=function(){function e(t,i){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.TAG="FLVDemuxer",this._config=i,this._onError=null,this._onMediaInfo=null,this._onTrackMetadata=null,this._onDataAvailable=null,this._dataOffset=t.dataOffset,this._firstParse=!0,this._dispatch=!1,this._hasAudio=t.hasAudioTrack,this._hasVideo=t.hasVideoTrack,this._hasAudioFlagOverrided=!1,this._hasVideoFlagOverrided=!1,this._audioInitialMetadataDispatched=!1,this._videoInitialMetadataDispatched=!1,this._mediaInfo=new l.default,this._mediaInfo.hasAudio=this._hasAudio,this._mediaInfo.hasVideo=this._hasVideo,this._metadata=null,this._audioMetadata=null,this._videoMetadata=null,this._naluLengthSize=4,this._timestampBase=0,this._timescale=1e3,this._duration=0,this._durationOverrided=!1,this._referenceFrameRate={fixed:!0,fps:23.976,fps_num:23976,fps_den:1e3},this._flvSoundRateTable=[5500,11025,22050,44100,48e3],this._mpegSamplingRates=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],this._mpegAudioV10SampleRateTable=[44100,48e3,32e3,0],this._mpegAudioV20SampleRateTable=[22050,24e3,16e3,0],this._mpegAudioV25SampleRateTable=[11025,12e3,8e3,0],this._mpegAudioL1BitRateTable=[0,32,64,96,128,160,192,224,256,288,320,352,384,416,448,-1],this._mpegAudioL2BitRateTable=[0,32,48,56,64,80,96,112,128,160,192,224,256,320,384,-1],this._mpegAudioL3BitRateTable=[0,32,40,48,56,64,80,96,112,128,160,192,224,256,320,-1],this._videoTrack={type:"video",id:1,sequenceNumber:0,samples:[],length:0},this._audioTrack={type:"audio",id:2,sequenceNumber:0,samples:[],length:0},this._littleEndian=(n=new ArrayBuffer(2),new DataView(n).setInt16(0,256,!0),256===new Int16Array(n)[0])}return r(e,[{key:"destroy",value:function(){this._mediaInfo=null,this._metadata=null,this._audioMetadata=null,this._videoMetadata=null,this._videoTrack=null,this._audioTrack=null,this._onError=null,this._onMediaInfo=null,this._onTrackMetadata=null,this._onDataAvailable=null}},{key:"bindDataSource",value:function(e){return e.onDataArrival=this.parseChunks.bind(this),this}},{key:"resetMediaInfo",value:function(){this._mediaInfo=new l.default}},{key:"_isInitialMetadataDispatched",value:function(){return this._hasAudio&&this._hasVideo?this._audioInitialMetadataDispatched&&this._videoInitialMetadataDispatched:this._hasAudio&&!this._hasVideo?this._audioInitialMetadataDispatched:!(this._hasAudio||!this._hasVideo)&&this._videoInitialMetadataDispatched}},{key:"parseChunks",value:function(t,i){if(!(this._onError&&this._onMediaInfo&&this._onTrackMetadata&&this._onDataAvailable))throw new c.IllegalStateException("Flv: onError & onMediaInfo & onTrackMetadata & onDataAvailable callback must be specified");var n=0,r=this._littleEndian;if(0===i){if(!(t.byteLength>13))return 0;n=e.probe(t).dataOffset}this._firstParse&&(this._firstParse=!1,i+n!==this._dataOffset&&s.default.w(this.TAG,"First time parsing but chunk byteStart invalid!"),0!==new DataView(t,n).getUint32(0,!r)&&s.default.w(this.TAG,"PrevTagSize0 !== 0 !!!"),n+=4);for(;n<t.byteLength;){this._dispatch=!0;var a=new DataView(t,n);if(n+11+4>t.byteLength)break;var o=a.getUint8(0),u=16777215&a.getUint32(0,!r);if(n+11+u+4>t.byteLength)break;if(8===o||9===o||18===o){var l=a.getUint8(4),d=a.getUint8(5),h=a.getUint8(6)|d<<8|l<<16|a.getUint8(7)<<24;0!==(16777215&a.getUint32(7,!r))&&s.default.w(this.TAG,"Meet tag which has StreamID != 0!");var f=n+11;switch(o){case 8:this._parseAudioData(t,f,u,h);break;case 9:this._parseVideoData(t,f,u,h,i+n);break;case 18:this._parseScriptData(t,f,u)}var p=a.getUint32(11+u,!r);p!==11+u&&s.default.w(this.TAG,"Invalid PrevTagSize "+p),n+=11+u+4}else s.default.w(this.TAG,"Unsupported tag type "+o+", skipped"),n+=11+u+4}return this._isInitialMetadataDispatched()&&this._dispatch&&(this._audioTrack.length||this._videoTrack.length)&&this._onDataAvailable(this._audioTrack,this._videoTrack),n}},{key:"_parseScriptData",value:function(e,t,i){var r=a.default.parseScriptData(e,t,i);if(r.hasOwnProperty("onMetaData")){if(null==r.onMetaData||"object"!==n(r.onMetaData))return void s.default.w(this.TAG,"Invalid onMetaData structure!");this._metadata&&s.default.w(this.TAG,"Found another onMetaData tag!"),this._metadata=r;var o=this._metadata.onMetaData;if("boolean"==typeof o.hasAudio&&!1===this._hasAudioFlagOverrided&&(this._hasAudio=o.hasAudio,this._mediaInfo.hasAudio=this._hasAudio),"boolean"==typeof o.hasVideo&&!1===this._hasVideoFlagOverrided&&(this._hasVideo=o.hasVideo,this._mediaInfo.hasVideo=this._hasVideo),"number"==typeof o.audiodatarate&&(this._mediaInfo.audioDataRate=o.audiodatarate),"number"==typeof o.videodatarate&&(this._mediaInfo.videoDataRate=o.videodatarate),"number"==typeof o.width&&(this._mediaInfo.width=o.width),"number"==typeof o.height&&(this._mediaInfo.height=o.height),"number"==typeof o.duration){if(!this._durationOverrided){var u=Math.floor(o.duration*this._timescale);this._duration=u,this._mediaInfo.duration=u}}else this._mediaInfo.duration=0;if("number"==typeof o.framerate){var l=Math.floor(1e3*o.framerate);if(l>0){var c=l/1e3;this._referenceFrameRate.fixed=!0,this._referenceFrameRate.fps=c,this._referenceFrameRate.fps_num=l,this._referenceFrameRate.fps_den=1e3,this._mediaInfo.fps=c}}if("object"===n(o.keyframes)){this._mediaInfo.hasKeyframesIndex=!0;var d=o.keyframes;this._mediaInfo.keyframesIndex=this._parseKeyframesIndex(d),o.keyframes=null}else this._mediaInfo.hasKeyframesIndex=!1;this._dispatch=!1,this._mediaInfo.metadata=o,s.default.v(this.TAG,"Parsed onMetaData"),this._mediaInfo.isComplete()&&this._onMediaInfo(this._mediaInfo)}}},{key:"_parseKeyframesIndex",value:function(e){for(var t=[],i=[],n=1;n<e.times.length;n++){var r=this._timestampBase+Math.floor(1e3*e.times[n]);t.push(r),i.push(e.filepositions[n])}return{times:t,filepositions:i}}},{key:"_parseAudioData",value:function(e,t,i,n){if(i<=1)s.default.w(this.TAG,"Flv: Invalid audio packet, missing SoundData payload!");else if(!0!==this._hasAudioFlagOverrided||!1!==this._hasAudio){this._littleEndian;var r=new DataView(e,t,i).getUint8(0),a=r>>>4;if(2===a||10===a){var o=0,l=(12&r)>>>2;if(l>=0&&l<=4){o=this._flvSoundRateTable[l];var c=1&r,d=this._audioMetadata,h=this._audioTrack;if(d||(!1===this._hasAudio&&!1===this._hasAudioFlagOverrided&&(this._hasAudio=!0,this._mediaInfo.hasAudio=!0),(d=this._audioMetadata={}).type="audio",d.id=h.id,d.timescale=this._timescale,d.duration=this._duration,d.audioSampleRate=o,d.channelCount=0===c?1:2),10===a){var f=this._parseAACAudioData(e,t+1,i-1);if(void 0==f)return;if(0===f.packetType){d.config&&s.default.w(this.TAG,"Found another AudioSpecificConfig!");var p=f.data;d.audioSampleRate=p.samplingRate,d.channelCount=p.channelCount,d.codec=p.codec,d.originalCodec=p.originalCodec,d.config=p.config,d.refSampleDuration=1024/d.audioSampleRate*d.timescale,s.default.v(this.TAG,"Parsed AudioSpecificConfig"),this._isInitialMetadataDispatched()?this._dispatch&&(this._audioTrack.length||this._videoTrack.length)&&this._onDataAvailable(this._audioTrack,this._videoTrack):this._audioInitialMetadataDispatched=!0,this._dispatch=!1,this._onTrackMetadata("audio",d);var v=this._mediaInfo;v.audioCodec=d.originalCodec,v.audioSampleRate=d.audioSampleRate,v.audioChannelCount=d.channelCount,v.hasVideo?null!=v.videoCodec&&(v.mimeType='video/x-flv; codecs="'+v.videoCodec+","+v.audioCodec+'"'):v.mimeType='video/x-flv; codecs="'+v.audioCodec+'"',v.isComplete()&&this._onMediaInfo(v)}else if(1===f.packetType){var m=this._timestampBase+n,_={unit:f.data,length:f.data.byteLength,dts:m,pts:m};h.samples.push(_),h.length+=f.data.length}else s.default.e(this.TAG,"Flv: Unsupported AAC data type "+f.packetType)}else if(2===a){if(!d.codec){var g=this._parseMP3AudioData(e,t+1,i-1,!0);if(void 0==g)return;d.audioSampleRate=g.samplingRate,d.channelCount=g.channelCount,d.codec=g.codec,d.originalCodec=g.originalCodec,d.refSampleDuration=1152/d.audioSampleRate*d.timescale,s.default.v(this.TAG,"Parsed MPEG Audio Frame Header"),this._audioInitialMetadataDispatched=!0,this._onTrackMetadata("audio",d);var A=this._mediaInfo;A.audioCodec=d.codec,A.audioSampleRate=d.audioSampleRate,A.audioChannelCount=d.channelCount,A.audioDataRate=g.bitRate,A.hasVideo?null!=A.videoCodec&&(A.mimeType='video/x-flv; codecs="'+A.videoCodec+","+A.audioCodec+'"'):A.mimeType='video/x-flv; codecs="'+A.audioCodec+'"',A.isComplete()&&this._onMediaInfo(A)}var y=this._parseMP3AudioData(e,t+1,i-1,!1);if(void 0==y)return;var E=this._timestampBase+n,C={unit:y,length:y.byteLength,dts:E,pts:E};h.samples.push(C),h.length+=y.length}}else this._onError(u.default.FORMAT_ERROR,"Flv: Invalid audio sample rate idx: "+l)}else this._onError(u.default.CODEC_UNSUPPORTED,"Flv: Unsupported audio codec idx: "+a)}}},{key:"_parseAACAudioData",value:function(e,t,i){if(!(i<=1)){var n={},r=new Uint8Array(e,t,i);return n.packetType=r[0],0===r[0]?n.data=this._parseAACAudioSpecificConfig(e,t+1,i-1):n.data=r.subarray(1),n}s.default.w(this.TAG,"Flv: Invalid AAC packet, missing AACPacketType or/and Data!")}},{key:"_parseAACAudioSpecificConfig",value:function(e,t,i){var n,r,s=new Uint8Array(e,t,i),a=null,o=0,l=null;if(o=n=s[0]>>>3,(r=(7&s[0])<<1|s[1]>>>7)<0||r>=this._mpegSamplingRates.length)this._onError(u.default.FORMAT_ERROR,"Flv: AAC invalid sampling frequency index!");else{var c=this._mpegSamplingRates[r],d=(120&s[1])>>>3;if(!(d<0||d>=8)){5===o&&(l=(7&s[1])<<1|s[2]>>>7,(124&s[2])>>>2);var h=self.navigator.userAgent.toLowerCase();return-1!==h.indexOf("firefox")?r>=6?(o=5,a=new Array(4),l=r-3):(o=2,a=new Array(2),l=r):-1!==h.indexOf("android")?(o=2,a=new Array(2),l=r):(o=5,l=r,a=new Array(4),r>=6?l=r-3:1===d&&(o=2,a=new Array(2),l=r)),a[0]=o<<3,a[0]|=(15&r)>>>1,a[1]=(15&r)<<7,a[1]|=(15&d)<<3,5===o&&(a[1]|=(15&l)>>>1,a[2]=(1&l)<<7,a[2]|=8,a[3]=0),{config:a,samplingRate:c,channelCount:d,codec:"mp4a.40."+o,originalCodec:"mp4a.40."+n}}this._onError(u.default.FORMAT_ERROR,"Flv: AAC invalid channel configuration")}}},{key:"_parseMP3AudioData",value:function(e,t,i,n){if(!(i<4)){this._littleEndian;var r=new Uint8Array(e,t,i),a=null;if(n){if(255!==r[0])return;var o=r[1]>>>3&3,u=(6&r[1])>>1,l=(240&r[2])>>>4,c=(12&r[2])>>>2,d=3!==(r[3]>>>6&3)?2:1,h=0,f=0;switch(o){case 0:h=this._mpegAudioV25SampleRateTable[c];break;case 2:h=this._mpegAudioV20SampleRateTable[c];break;case 3:h=this._mpegAudioV10SampleRateTable[c]}switch(u){case 1:34,l<this._mpegAudioL3BitRateTable.length&&(f=this._mpegAudioL3BitRateTable[l]);break;case 2:33,l<this._mpegAudioL2BitRateTable.length&&(f=this._mpegAudioL2BitRateTable[l]);break;case 3:32,l<this._mpegAudioL1BitRateTable.length&&(f=this._mpegAudioL1BitRateTable[l])}a={bitRate:f,samplingRate:h,channelCount:d,codec:"mp3",originalCodec:"mp3"}}else a=r;return a}s.default.w(this.TAG,"Flv: Invalid MP3 packet, header missing!")}},{key:"_parseVideoData",value:function(e,t,i,n,r){if(i<=1)s.default.w(this.TAG,"Flv: Invalid video packet, missing VideoData payload!");else if(!0!==this._hasVideoFlagOverrided||!1!==this._hasVideo){var a=new Uint8Array(e,t,i)[0],o=(240&a)>>>4,l=15&a;7===l?this._parseAVCVideoPacket(e,t+1,i-1,n,r,o):this._onError(u.default.CODEC_UNSUPPORTED,"Flv: Unsupported codec in video frame: "+l)}}},{key:"_parseAVCVideoPacket",value:function(e,t,i,n,r,a){if(i<4)s.default.w(this.TAG,"Flv: Invalid AVC packet, missing AVCPacketType or/and CompositionTime");else{var o=this._littleEndian,l=new DataView(e,t,i),c=l.getUint8(0),d=(16777215&l.getUint32(0,!o))<<8>>8;if(0===c)this._parseAVCDecoderConfigurationRecord(e,t+4,i-4);else if(1===c)this._parseAVCVideoData(e,t+4,i-4,n,r,a,d);else if(2!==c)return void this._onError(u.default.FORMAT_ERROR,"Flv: Invalid video packet type "+c)}}},{key:"_parseAVCDecoderConfigurationRecord",value:function(e,t,i){if(i<7)s.default.w(this.TAG,"Flv: Invalid AVCDecoderConfigurationRecord, lack of data!");else{var n=this._videoMetadata,r=this._videoTrack,a=this._littleEndian,l=new DataView(e,t,i);n?void 0!==n.avcc&&s.default.w(this.TAG,"Found another AVCDecoderConfigurationRecord!"):(!1===this._hasVideo&&!1===this._hasVideoFlagOverrided&&(this._hasVideo=!0,this._mediaInfo.hasVideo=!0),(n=this._videoMetadata={}).type="video",n.id=r.id,n.timescale=this._timescale,n.duration=this._duration);var c=l.getUint8(0),d=l.getUint8(1);l.getUint8(2),l.getUint8(3);if(1===c&&0!==d)if(this._naluLengthSize=1+(3&l.getUint8(4)),3===this._naluLengthSize||4===this._naluLengthSize){var h=31&l.getUint8(5);if(0!==h){h>1&&s.default.w(this.TAG,"Flv: Strange AVCDecoderConfigurationRecord: SPS Count = "+h);for(var f=6,p=0;p<h;p++){var v=l.getUint16(f,!a);if(f+=2,0!==v){var m=new Uint8Array(e,t+f,v);f+=v;var _=o.default.parseSPS(m);if(0===p){n.codecWidth=_.codec_size.width,n.codecHeight=_.codec_size.height,n.presentWidth=_.present_size.width,n.presentHeight=_.present_size.height,n.profile=_.profile_string,n.level=_.level_string,n.bitDepth=_.bit_depth,n.chromaFormat=_.chroma_format,n.sarRatio=_.sar_ratio,n.frameRate=_.frame_rate,!1!==_.frame_rate.fixed&&0!==_.frame_rate.fps_num&&0!==_.frame_rate.fps_den||(n.frameRate=this._referenceFrameRate);var g=n.frameRate.fps_den,A=n.frameRate.fps_num;n.refSampleDuration=n.timescale*(g/A);for(var y=m.subarray(1,4),E="avc1.",C=0;C<3;C++){var w=y[C].toString(16);w.length<2&&(w="0"+w),E+=w}n.codec=E;var b=this._mediaInfo;b.width=n.codecWidth,b.height=n.codecHeight,b.fps=n.frameRate.fps,b.profile=n.profile,b.level=n.level,b.refFrames=_.ref_frames,b.chromaFormat=_.chroma_format_string,b.sarNum=n.sarRatio.width,b.sarDen=n.sarRatio.height,b.videoCodec=E,b.hasAudio?null!=b.audioCodec&&(b.mimeType='video/x-flv; codecs="'+b.videoCodec+","+b.audioCodec+'"'):b.mimeType='video/x-flv; codecs="'+b.videoCodec+'"',b.isComplete()&&this._onMediaInfo(b)}}}var S=l.getUint8(f);if(0!==S){S>1&&s.default.w(this.TAG,"Flv: Strange AVCDecoderConfigurationRecord: PPS Count = "+S),f++;for(var k=0;k<S;k++){var I=l.getUint16(f,!a);f+=2,0!==I&&(f+=I)}n.avcc=new Uint8Array(i),n.avcc.set(new Uint8Array(e,t,i),0),s.default.v(this.TAG,"Parsed AVCDecoderConfigurationRecord"),this._isInitialMetadataDispatched()?this._dispatch&&(this._audioTrack.length||this._videoTrack.length)&&this._onDataAvailable(this._audioTrack,this._videoTrack):this._videoInitialMetadataDispatched=!0,this._dispatch=!1,this._onTrackMetadata("video",n)}else this._onError(u.default.FORMAT_ERROR,"Flv: Invalid AVCDecoderConfigurationRecord: No PPS")}else this._onError(u.default.FORMAT_ERROR,"Flv: Invalid AVCDecoderConfigurationRecord: No SPS")}else this._onError(u.default.FORMAT_ERROR,"Flv: Strange NaluLengthSizeMinusOne: "+(this._naluLengthSize-1));else this._onError(u.default.FORMAT_ERROR,"Flv: Invalid AVCDecoderConfigurationRecord")}}},{key:"_parseAVCVideoData",value:function(e,t,i,n,r,a,o){for(var u=this._littleEndian,l=new DataView(e,t,i),c=[],d=0,h=0,f=this._naluLengthSize,p=this._timestampBase+n,v=1===a;h<i;){if(h+4>=i){s.default.w(this.TAG,"Malformed Nalu near timestamp "+p+", offset = "+h+", dataSize = "+i);break}var m=l.getUint32(h,!u);if(3===f&&(m>>>=8),m>i-f)return void s.default.w(this.TAG,"Malformed Nalus near timestamp "+p+", NaluSize > DataSize!");var _=31&l.getUint8(h+f);5===_&&(v=!0);var g=new Uint8Array(e,t+h,f+m),A={type:_,data:g};c.push(A),d+=g.byteLength,h+=f+m}if(c.length){var y=this._videoTrack,E={units:c,length:d,isKeyframe:v,dts:p,cts:o,pts:p+o};v&&(E.fileposition=r),y.samples.push(E),y.length+=d}}},{key:"onTrackMetadata",get:function(){return this._onTrackMetadata},set:function(e){this._onTrackMetadata=e}},{key:"onMediaInfo",get:function(){return this._onMediaInfo},set:function(e){this._onMediaInfo=e}},{key:"onError",get:function(){return this._onError},set:function(e){this._onError=e}},{key:"onDataAvailable",get:function(){return this._onDataAvailable},set:function(e){this._onDataAvailable=e}},{key:"timestampBase",get:function(){return this._timestampBase},set:function(e){this._timestampBase=e}},{key:"overridedDuration",get:function(){return this._duration},set:function(e){this._durationOverrided=!0,this._duration=e,this._mediaInfo.duration=e}},{key:"overridedHasAudio",set:function(e){this._hasAudioFlagOverrided=!0,this._hasAudio=e,this._mediaInfo.hasAudio=e}},{key:"overridedHasVideo",set:function(e){this._hasVideoFlagOverrided=!0,this._hasVideo=e,this._mediaInfo.hasVideo=e}}],[{key:"probe",value:function(e){var t=new Uint8Array(e),i={match:!1};if(70!==t[0]||76!==t[1]||86!==t[2]||1!==t[3])return i;var n,r,s=(4&t[4])>>>2!=0,a=0!=(1&t[4]),o=(n=t)[r=5]<<24|n[r+1]<<16|n[r+2]<<8|n[r+3];return o<9?i:{match:!0,consumed:o,dataOffset:o,hasAudioTrack:s,hasVideoTrack:a}}}]),e}();i.default=h},{"../core/media-info.js":7,"../utils/exception.js":40,"../utils/logger.js":41,"./amf-parser.js":15,"./demux-errors.js":16,"./sps-parser.js":19}],19:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n,r=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),s=e("./exp-golomb.js"),a=(n=s)&&n.__esModule?n:{default:n};var o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return r(e,null,[{key:"_ebsp2rbsp",value:function(e){for(var t=e,i=t.byteLength,n=new Uint8Array(i),r=0,s=0;s<i;s++)s>=2&&3===t[s]&&0===t[s-1]&&0===t[s-2]||(n[r]=t[s],r++);return new Uint8Array(n.buffer,0,r)}},{key:"parseSPS",value:function(t){var i=e._ebsp2rbsp(t),n=new a.default(i);n.readByte();var r=n.readByte();n.readByte();var s=n.readByte();n.readUEG();var o=e.getProfileString(r),u=e.getLevelString(s),l=1,c=420,d=8;if((100===r||110===r||122===r||244===r||44===r||83===r||86===r||118===r||128===r||138===r||144===r)&&(3===(l=n.readUEG())&&n.readBits(1),l<=3&&(c=[0,420,422,444][l]),d=n.readUEG()+8,n.readUEG(),n.readBits(1),n.readBool()))for(var h=3!==l?8:12,f=0;f<h;f++)n.readBool()&&(f<6?e._skipScalingList(n,16):e._skipScalingList(n,64));n.readUEG();var p=n.readUEG();if(0===p)n.readUEG();else if(1===p){n.readBits(1),n.readSEG(),n.readSEG();for(var v=n.readUEG(),m=0;m<v;m++)n.readSEG()}var _=n.readUEG();n.readBits(1);var g=n.readUEG(),A=n.readUEG(),y=n.readBits(1);0===y&&n.readBits(1),n.readBits(1);var E=0,C=0,w=0,b=0;n.readBool()&&(E=n.readUEG(),C=n.readUEG(),w=n.readUEG(),b=n.readUEG());var S=1,k=1,I=0,B=!0,L=0,R=0;if(n.readBool()){if(n.readBool()){var O=n.readByte();O>0&&O<16?(S=[1,12,10,16,40,24,20,32,80,18,15,64,160,4,3,2][O-1],k=[1,11,11,11,33,11,11,11,33,11,11,33,99,3,2,1][O-1]):255===O&&(S=n.readByte()<<8|n.readByte(),k=n.readByte()<<8|n.readByte())}if(n.readBool()&&n.readBool(),n.readBool()&&(n.readBits(4),n.readBool()&&n.readBits(24)),n.readBool()&&(n.readUEG(),n.readUEG()),n.readBool()){var x=n.readBits(32),T=n.readBits(32);B=n.readBool(),I=(L=T)/(R=2*x)}}var D=1;1===S&&1===k||(D=S/k);var P=0,M=0;0===l?(P=1,M=2-y):(P=3===l?1:2,M=(1===l?2:1)*(2-y));var N=16*(g+1),j=16*(A+1)*(2-y);N-=(E+C)*P,j-=(w+b)*M;var U=Math.ceil(N*D);return n.destroy(),n=null,{profile_string:o,level_string:u,bit_depth:d,ref_frames:_,chroma_format:c,chroma_format_string:e.getChromaFormatString(c),frame_rate:{fixed:B,fps:I,fps_den:R,fps_num:L},sar_ratio:{width:S,height:k},codec_size:{width:N,height:j},present_size:{width:U,height:j}}}},{key:"_skipScalingList",value:function(e,t){for(var i=8,n=8,r=0;r<t;r++)0!==n&&(n=(i+e.readSEG()+256)%256),i=0===n?i:n}},{key:"getProfileString",value:function(e){switch(e){case 66:return"Baseline";case 77:return"Main";case 88:return"Extended";case 100:return"High";case 110:return"High10";case 122:return"High422";case 244:return"High444";default:return"Unknown"}}},{key:"getLevelString",value:function(e){return(e/10).toFixed(1)}},{key:"getChromaFormatString",value:function(e){switch(e){case 420:return"4:2:0";case 422:return"4:2:2";case 444:return"4:4:4";default:return"Unknown"}}}]),e}();i.default=o},{"./exp-golomb.js":17}],20:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=h(e("./utils/polyfill.js")),s=h(e("./core/features.js")),a=h(e("./player/flv-player.js")),o=h(e("./player/native-player.js")),u=h(e("./player/player-events.js")),l=e("./player/player-errors.js"),c=h(e("./utils/logging-control.js")),d=e("./utils/exception.js");function h(e){return e&&e.__esModule?e:{default:e}}r.default.install();var f={};f.createPlayer=function(e,t){var i=e;if(null==i||"object"!==(void 0===i?"undefined":n(i)))throw new d.InvalidArgumentException("MediaDataSource must be an javascript object!");if(!i.hasOwnProperty("type"))throw new d.InvalidArgumentException("MediaDataSource must has type field to indicate video file type!");switch(i.type){case"flv":return new a.default(i,t);default:return new o.default(i,t)}},f.isSupported=function(){return s.default.supportMSEH264Playback()},f.getFeatureList=function(){return s.default.getFeatureList()},f.Events=u.default,f.ErrorTypes=l.ErrorTypes,f.ErrorDetails=l.ErrorDetails,f.FlvPlayer=a.default,f.NativePlayer=o.default,f.LoggingControl=c.default,Object.defineProperty(f,"version",{enumerable:!0,get:function(){return"1.4.0"}}),i.default=f},{"./core/features.js":6,"./player/flv-player.js":32,"./player/native-player.js":33,"./player/player-errors.js":34,"./player/player-events.js":35,"./utils/exception.js":40,"./utils/logging-control.js":42,"./utils/polyfill.js":43}],21:[function(e,t,i){"use strict";t.exports=e("./flv.js").default},{"./flv.js":20}],22:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),s=(u(e("../utils/logger.js")),u(e("../utils/browser.js"))),a=e("./loader.js"),o=e("../utils/exception.js");function u(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(e,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,"fetch-stream-loader"));return n.TAG="FetchStreamLoader",n._seekHandler=e,n._config=i,n._needStash=!0,n._requestAbort=!1,n._contentLength=null,n._receivedLength=0,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.BaseLoader),r(t,null,[{key:"isSupported",value:function(){try{var e=s.default.msedge&&s.default.version.minor>=15048,t=!s.default.msedge||e;return self.fetch&&self.ReadableStream&&t}catch(e){return!1}}}]),r(t,[{key:"destroy",value:function(){this.isWorking()&&this.abort(),function e(t,i,n){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,i);if(void 0===r){var s=Object.getPrototypeOf(t);return null===s?void 0:e(s,i,n)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(n):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"destroy",this).call(this)}},{key:"open",value:function(e,t){var i=this;this._dataSource=e,this._range=t;var r=e.url;this._config.reuseRedirectedURL&&void 0!=e.redirectedURL&&(r=e.redirectedURL);var s=this._seekHandler.getConfig(r,t),u=new self.Headers;if("object"===n(s.headers)){var l=s.headers;for(var c in l)l.hasOwnProperty(c)&&u.append(c,l[c])}var d={method:"GET",headers:u,mode:"cors",cache:"default",referrerPolicy:"no-referrer-when-downgrade"};!1===e.cors&&(d.mode="same-origin"),e.withCredentials&&(d.credentials="include"),e.referrerPolicy&&(d.referrerPolicy=e.referrerPolicy),this._status=a.LoaderStatus.kConnecting,self.fetch(s.url,d).then(function(e){if(i._requestAbort)return i._requestAbort=!1,void(i._status=a.LoaderStatus.kIdle);if(e.ok&&e.status>=200&&e.status<=299){if(e.url!==s.url&&i._onURLRedirect){var t=i._seekHandler.removeURLParameters(e.url);i._onURLRedirect(t)}var n=e.headers.get("Content-Length");return null!=n&&(i._contentLength=parseInt(n),0!==i._contentLength&&i._onContentLengthKnown&&i._onContentLengthKnown(i._contentLength)),i._pump.call(i,e.body.getReader())}if(i._status=a.LoaderStatus.kError,!i._onError)throw new o.RuntimeException("FetchStreamLoader: Http code invalid, "+e.status+" "+e.statusText);i._onError(a.LoaderErrors.HTTP_STATUS_CODE_INVALID,{code:e.status,msg:e.statusText})}).catch(function(e){if(i._status=a.LoaderStatus.kError,!i._onError)throw e;i._onError(a.LoaderErrors.EXCEPTION,{code:-1,msg:e.message})})}},{key:"abort",value:function(){this._requestAbort=!0}},{key:"_pump",value:function(e){var t=this;return e.read().then(function(i){if(i.done)t._status=a.LoaderStatus.kComplete,t._onComplete&&t._onComplete(t._range.from,t._range.from+t._receivedLength-1);else{if(!0===t._requestAbort)return t._requestAbort=!1,t._status=a.LoaderStatus.kComplete,e.cancel();t._status=a.LoaderStatus.kBuffering;var n=i.value.buffer,r=t._range.from+t._receivedLength;t._receivedLength+=n.byteLength,t._onDataArrival&&t._onDataArrival(n,r,t._receivedLength),t._pump(e)}}).catch(function(e){if(11!==e.code||!s.default.msedge){t._status=a.LoaderStatus.kError;var i=0,n=null;if(19!==e.code&&"network error"!==e.message||!(null===t._contentLength||null!==t._contentLength&&t._receivedLength<t._contentLength)?(i=a.LoaderErrors.EXCEPTION,n={code:e.code,msg:e.message}):(i=a.LoaderErrors.EARLY_EOF,n={code:e.code,msg:"Fetch stream meet Early-EOF"}),!t._onError)throw new o.RuntimeException(n.msg);t._onError(i,n)}})}}]),t}();i.default=l},{"../utils/browser.js":39,"../utils/exception.js":40,"../utils/logger.js":41,"./loader.js":24}],23:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),r=p(e("../utils/logger.js")),s=p(e("./speed-sampler.js")),a=e("./loader.js"),o=p(e("./fetch-stream-loader.js")),u=p(e("./xhr-moz-chunked-loader.js")),l=(p(e("./xhr-msstream-loader.js")),p(e("./xhr-range-loader.js"))),c=p(e("./websocket-loader.js")),d=p(e("./range-seek-handler.js")),h=p(e("./param-seek-handler.js")),f=e("../utils/exception.js");function p(e){return e&&e.__esModule?e:{default:e}}var v=function(){function e(t,i,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.TAG="IOController",this._config=i,this._extraData=n,this._stashInitialSize=393216,void 0!=i.stashInitialSize&&i.stashInitialSize>0&&(this._stashInitialSize=i.stashInitialSize),this._stashUsed=0,this._stashSize=this._stashInitialSize,this._bufferSize=3145728,this._stashBuffer=new ArrayBuffer(this._bufferSize),this._stashByteStart=0,this._enableStash=!0,!1===i.enableStashBuffer&&(this._enableStash=!1),this._loader=null,this._loaderClass=null,this._seekHandler=null,this._dataSource=t,this._isWebSocketURL=/wss?:\/\/(.+?)/.test(t.url),this._refTotalLength=t.filesize?t.filesize:null,this._totalLength=this._refTotalLength,this._fullRequestFlag=!1,this._currentRange=null,this._redirectedURL=null,this._speedNormalized=0,this._speedSampler=new s.default,this._speedNormalizeList=[64,128,256,384,512,768,1024,1536,2048,3072,4096],this._isEarlyEofReconnecting=!1,this._paused=!1,this._resumeFrom=0,this._onDataArrival=null,this._onSeeked=null,this._onError=null,this._onComplete=null,this._onRedirect=null,this._onRecoveredEarlyEof=null,this._selectSeekHandler(),this._selectLoader(),this._createLoader()}return n(e,[{key:"destroy",value:function(){this._loader.isWorking()&&this._loader.abort(),this._loader.destroy(),this._loader=null,this._loaderClass=null,this._dataSource=null,this._stashBuffer=null,this._stashUsed=this._stashSize=this._bufferSize=this._stashByteStart=0,this._currentRange=null,this._speedSampler=null,this._isEarlyEofReconnecting=!1,this._onDataArrival=null,this._onSeeked=null,this._onError=null,this._onComplete=null,this._onRedirect=null,this._onRecoveredEarlyEof=null,this._extraData=null}},{key:"isWorking",value:function(){return this._loader&&this._loader.isWorking()&&!this._paused}},{key:"isPaused",value:function(){return this._paused}},{key:"_selectSeekHandler",value:function(){var e=this._config;if("range"===e.seekType)this._seekHandler=new d.default(this._config.rangeLoadZeroStart);else if("param"===e.seekType){var t=e.seekParamStart||"bstart",i=e.seekParamEnd||"bend";this._seekHandler=new h.default(t,i)}else{if("custom"!==e.seekType)throw new f.InvalidArgumentException("Invalid seekType in config: "+e.seekType);if("function"!=typeof e.customSeekHandler)throw new f.InvalidArgumentException("Custom seekType specified in config but invalid customSeekHandler!");this._seekHandler=new e.customSeekHandler}}},{key:"_selectLoader",value:function(){if(this._isWebSocketURL)this._loaderClass=c.default;else if(o.default.isSupported())this._loaderClass=o.default;else if(u.default.isSupported())this._loaderClass=u.default;else{if(!l.default.isSupported())throw new f.RuntimeException("Your browser doesn't support xhr with arraybuffer responseType!");this._loaderClass=l.default}}},{key:"_createLoader",value:function(){this._loader=new this._loaderClass(this._seekHandler,this._config),!1===this._loader.needStashBuffer&&(this._enableStash=!1),this._loader.onContentLengthKnown=this._onContentLengthKnown.bind(this),this._loader.onURLRedirect=this._onURLRedirect.bind(this),this._loader.onDataArrival=this._onLoaderChunkArrival.bind(this),this._loader.onComplete=this._onLoaderComplete.bind(this),this._loader.onError=this._onLoaderError.bind(this)}},{key:"open",value:function(e){this._currentRange={from:0,to:-1},e&&(this._currentRange.from=e),this._speedSampler.reset(),e||(this._fullRequestFlag=!0),this._loader.open(this._dataSource,Object.assign({},this._currentRange))}},{key:"abort",value:function(){this._loader.abort(),this._paused&&(this._paused=!1,this._resumeFrom=0)}},{key:"pause",value:function(){this.isWorking()&&(this._loader.abort(),0!==this._stashUsed?(this._resumeFrom=this._stashByteStart,this._currentRange.to=this._stashByteStart-1):this._resumeFrom=this._currentRange.to+1,this._stashUsed=0,this._stashByteStart=0,this._paused=!0)}},{key:"resume",value:function(){if(this._paused){this._paused=!1;var e=this._resumeFrom;this._resumeFrom=0,this._internalSeek(e,!0)}}},{key:"seek",value:function(e){this._paused=!1,this._stashUsed=0,this._stashByteStart=0,this._internalSeek(e,!0)}},{key:"_internalSeek",value:function(e,t){this._loader.isWorking()&&this._loader.abort(),this._flushStashBuffer(t),this._loader.destroy(),this._loader=null;var i={from:e,to:-1};this._currentRange={from:i.from,to:-1},this._speedSampler.reset(),this._stashSize=this._stashInitialSize,this._createLoader(),this._loader.open(this._dataSource,i),this._onSeeked&&this._onSeeked()}},{key:"updateUrl",value:function(e){if(!e||"string"!=typeof e||0===e.length)throw new f.InvalidArgumentException("Url must be a non-empty string!");this._dataSource.url=e}},{key:"_expandBuffer",value:function(e){for(var t=this._stashSize;t+1048576<e;)t*=2;if((t+=1048576)!==this._bufferSize){var i=new ArrayBuffer(t);if(this._stashUsed>0){var n=new Uint8Array(this._stashBuffer,0,this._stashUsed);new Uint8Array(i,0,t).set(n,0)}this._stashBuffer=i,this._bufferSize=t}}},{key:"_normalizeSpeed",value:function(e){var t=this._speedNormalizeList,i=t.length-1,n=0,r=0,s=i;if(e<t[0])return t[0];for(;r<=s;){if((n=r+Math.floor((s-r)/2))===i||e>=t[n]&&e<t[n+1])return t[n];t[n]<e?r=n+1:s=n-1}}},{key:"_adjustStashSize",value:function(e){var t=0;(t=this._config.isLive?e:e<512?e:e>=512&&e<=1024?Math.floor(1.5*e):2*e)>8192&&(t=8192);var i=1024*t+1048576;this._bufferSize<i&&this._expandBuffer(i),this._stashSize=1024*t}},{key:"_dispatchChunks",value:function(e,t){return this._currentRange.to=t+e.byteLength-1,this._onDataArrival(e,t)}},{key:"_onURLRedirect",value:function(e){this._redirectedURL=e,this._onRedirect&&this._onRedirect(e)}},{key:"_onContentLengthKnown",value:function(e){e&&this._fullRequestFlag&&(this._totalLength=e,this._fullRequestFlag=!1)}},{key:"_onLoaderChunkArrival",value:function(e,t,i){if(!this._onDataArrival)throw new f.IllegalStateException("IOController: No existing consumer (onDataArrival) callback!");if(!this._paused){this._isEarlyEofReconnecting&&(this._isEarlyEofReconnecting=!1,this._onRecoveredEarlyEof&&this._onRecoveredEarlyEof()),this._speedSampler.addBytes(e.byteLength);var n=this._speedSampler.lastSecondKBps;if(0!==n){var r=this._normalizeSpeed(n);this._speedNormalized!==r&&(this._speedNormalized=r,this._adjustStashSize(r))}if(this._enableStash)if(0===this._stashUsed&&0===this._stashByteStart&&(this._stashByteStart=t),this._stashUsed+e.byteLength<=this._stashSize){new Uint8Array(this._stashBuffer,0,this._stashSize).set(new Uint8Array(e),this._stashUsed),this._stashUsed+=e.byteLength}else{var s=new Uint8Array(this._stashBuffer,0,this._bufferSize);if(this._stashUsed>0){var a=this._stashBuffer.slice(0,this._stashUsed),o=this._dispatchChunks(a,this._stashByteStart);if(o<a.byteLength){if(o>0){var u=new Uint8Array(a,o);s.set(u,0),this._stashUsed=u.byteLength,this._stashByteStart+=o}}else this._stashUsed=0,this._stashByteStart+=o;this._stashUsed+e.byteLength>this._bufferSize&&(this._expandBuffer(this._stashUsed+e.byteLength),s=new Uint8Array(this._stashBuffer,0,this._bufferSize)),s.set(new Uint8Array(e),this._stashUsed),this._stashUsed+=e.byteLength}else{var l=this._dispatchChunks(e,t);if(l<e.byteLength){var c=e.byteLength-l;c>this._bufferSize&&(this._expandBuffer(c),s=new Uint8Array(this._stashBuffer,0,this._bufferSize)),s.set(new Uint8Array(e,l),0),this._stashUsed+=c,this._stashByteStart=t+l}}}else if(0===this._stashUsed){var d=this._dispatchChunks(e,t);if(d<e.byteLength){var h=e.byteLength-d;h>this._bufferSize&&this._expandBuffer(h),new Uint8Array(this._stashBuffer,0,this._bufferSize).set(new Uint8Array(e,d),0),this._stashUsed+=h,this._stashByteStart=t+d}}else{this._stashUsed+e.byteLength>this._bufferSize&&this._expandBuffer(this._stashUsed+e.byteLength);var p=new Uint8Array(this._stashBuffer,0,this._bufferSize);p.set(new Uint8Array(e),this._stashUsed),this._stashUsed+=e.byteLength;var v=this._dispatchChunks(this._stashBuffer.slice(0,this._stashUsed),this._stashByteStart);if(v<this._stashUsed&&v>0){var m=new Uint8Array(this._stashBuffer,v);p.set(m,0)}this._stashUsed-=v,this._stashByteStart+=v}}}},{key:"_flushStashBuffer",value:function(e){if(this._stashUsed>0){var t=this._stashBuffer.slice(0,this._stashUsed),i=this._dispatchChunks(t,this._stashByteStart),n=t.byteLength-i;if(i<t.byteLength){if(!e){if(i>0){var s=new Uint8Array(this._stashBuffer,0,this._bufferSize),a=new Uint8Array(t,i);s.set(a,0),this._stashUsed=a.byteLength,this._stashByteStart+=i}return 0}r.default.w(this.TAG,n+" bytes unconsumed data remain when flush buffer, dropped")}return this._stashUsed=0,this._stashByteStart=0,n}return 0}},{key:"_onLoaderComplete",value:function(e,t){this._flushStashBuffer(!0),this._onComplete&&this._onComplete(this._extraData)}},{key:"_onLoaderError",value:function(e,t){switch(r.default.e(this.TAG,"Loader error, code = "+t.code+", msg = "+t.msg),this._flushStashBuffer(!1),this._isEarlyEofReconnecting&&(this._isEarlyEofReconnecting=!1,e=a.LoaderErrors.UNRECOVERABLE_EARLY_EOF),e){case a.LoaderErrors.EARLY_EOF:if(!this._config.isLive&&this._totalLength){var i=this._currentRange.to+1;return void(i<this._totalLength&&(r.default.w(this.TAG,"Connection lost, trying reconnect..."),this._isEarlyEofReconnecting=!0,this._internalSeek(i,!1)))}e=a.LoaderErrors.UNRECOVERABLE_EARLY_EOF;break;case a.LoaderErrors.UNRECOVERABLE_EARLY_EOF:case a.LoaderErrors.CONNECTING_TIMEOUT:case a.LoaderErrors.HTTP_STATUS_CODE_INVALID:case a.LoaderErrors.EXCEPTION:}if(!this._onError)throw new f.RuntimeException("IOException: "+t.msg);this._onError(e,t)}},{key:"status",get:function(){return this._loader.status}},{key:"extraData",get:function(){return this._extraData},set:function(e){this._extraData=e}},{key:"onDataArrival",get:function(){return this._onDataArrival},set:function(e){this._onDataArrival=e}},{key:"onSeeked",get:function(){return this._onSeeked},set:function(e){this._onSeeked=e}},{key:"onError",get:function(){return this._onError},set:function(e){this._onError=e}},{key:"onComplete",get:function(){return this._onComplete},set:function(e){this._onComplete=e}},{key:"onRedirect",get:function(){return this._onRedirect},set:function(e){this._onRedirect=e}},{key:"onRecoveredEarlyEof",get:function(){return this._onRecoveredEarlyEof},set:function(e){this._onRecoveredEarlyEof=e}},{key:"currentURL",get:function(){return this._dataSource.url}},{key:"hasRedirect",get:function(){return null!=this._redirectedURL||void 0!=this._dataSource.redirectedURL}},{key:"currentRedirectedURL",get:function(){return this._redirectedURL||this._dataSource.redirectedURL}},{key:"currentSpeed",get:function(){return this._loaderClass===l.default?this._loader.currentSpeed:this._speedSampler.lastSecondKBps}},{key:"loaderType",get:function(){return this._loader.type}}]),e}();i.default=v},{"../utils/exception.js":40,"../utils/logger.js":41,"./fetch-stream-loader.js":22,"./loader.js":24,"./param-seek-handler.js":25,"./range-seek-handler.js":26,"./speed-sampler.js":27,"./websocket-loader.js":28,"./xhr-moz-chunked-loader.js":29,"./xhr-msstream-loader.js":30,"./xhr-range-loader.js":31}],24:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.BaseLoader=i.LoaderErrors=i.LoaderStatus=void 0;var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),r=e("../utils/exception.js");var s=i.LoaderStatus={kIdle:0,kConnecting:1,kBuffering:2,kError:3,kComplete:4};i.LoaderErrors={OK:"OK",EXCEPTION:"Exception",HTTP_STATUS_CODE_INVALID:"HttpStatusCodeInvalid",CONNECTING_TIMEOUT:"ConnectingTimeout",EARLY_EOF:"EarlyEof",UNRECOVERABLE_EARLY_EOF:"UnrecoverableEarlyEof"},i.BaseLoader=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._type=t||"undefined",this._status=s.kIdle,this._needStash=!1,this._onContentLengthKnown=null,this._onURLRedirect=null,this._onDataArrival=null,this._onError=null,this._onComplete=null}return n(e,[{key:"destroy",value:function(){this._status=s.kIdle,this._onContentLengthKnown=null,this._onURLRedirect=null,this._onDataArrival=null,this._onError=null,this._onComplete=null}},{key:"isWorking",value:function(){return this._status===s.kConnecting||this._status===s.kBuffering}},{key:"open",value:function(e,t){throw new r.NotImplementedException("Unimplemented abstract function!")}},{key:"abort",value:function(){throw new r.NotImplementedException("Unimplemented abstract function!")}},{key:"type",get:function(){return this._type}},{key:"status",get:function(){return this._status}},{key:"needStashBuffer",get:function(){return this._needStash}},{key:"onContentLengthKnown",get:function(){return this._onContentLengthKnown},set:function(e){this._onContentLengthKnown=e}},{key:"onURLRedirect",get:function(){return this._onURLRedirect},set:function(e){this._onURLRedirect=e}},{key:"onDataArrival",get:function(){return this._onDataArrival},set:function(e){this._onDataArrival=e}},{key:"onError",get:function(){return this._onError},set:function(e){this._onError=e}},{key:"onComplete",get:function(){return this._onComplete},set:function(e){this._onComplete=e}}]),e}()},{"../utils/exception.js":40}],25:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}();var r=function(){function e(t,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._startName=t,this._endName=i}return n(e,[{key:"getConfig",value:function(e,t){var i=e;if(0!==t.from||-1!==t.to){var n=!0;-1===i.indexOf("?")&&(i+="?",n=!1),n&&(i+="&"),i+=this._startName+"="+t.from.toString(),-1!==t.to&&(i+="&"+this._endName+"="+t.to.toString())}return{url:i,headers:{}}}},{key:"removeURLParameters",value:function(e){var t=e.split("?")[0],i=void 0,n=e.indexOf("?");-1!==n&&(i=e.substring(n+1));var r="";if(void 0!=i&&i.length>0)for(var s=i.split("&"),a=0;a<s.length;a++){var o=s[a].split("="),u=a>0;o[0]!==this._startName&&o[0]!==this._endName&&(u&&(r+="&"),r+=s[a])}return 0===r.length?t:t+"?"+r}}]),e}();i.default=r},{}],26:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}();var r=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._zeroStart=t||!1}return n(e,[{key:"getConfig",value:function(e,t){var i={};if(0!==t.from||-1!==t.to){var n=void 0;n=-1!==t.to?"bytes="+t.from.toString()+"-"+t.to.toString():"bytes="+t.from.toString()+"-",i.Range=n}else this._zeroStart&&(i.Range="bytes=0-");return{url:e,headers:i}}},{key:"removeURLParameters",value:function(e){return e}}]),e}();i.default=r},{}],27:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}();var r=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._firstCheckpoint=0,this._lastCheckpoint=0,this._intervalBytes=0,this._totalBytes=0,this._lastSecondBytes=0,self.performance&&self.performance.now?this._now=self.performance.now.bind(self.performance):this._now=Date.now}return n(e,[{key:"reset",value:function(){this._firstCheckpoint=this._lastCheckpoint=0,this._totalBytes=this._intervalBytes=0,this._lastSecondBytes=0}},{key:"addBytes",value:function(e){0===this._firstCheckpoint?(this._firstCheckpoint=this._now(),this._lastCheckpoint=this._firstCheckpoint,this._intervalBytes+=e,this._totalBytes+=e):this._now()-this._lastCheckpoint<1e3?(this._intervalBytes+=e,this._totalBytes+=e):(this._lastSecondBytes=this._intervalBytes,this._intervalBytes=e,this._totalBytes+=e,this._lastCheckpoint=this._now())}},{key:"currentKBps",get:function(){this.addBytes(0);var e=(this._now()-this._lastCheckpoint)/1e3;return 0==e&&(e=1),this._intervalBytes/e/1024}},{key:"lastSecondKBps",get:function(){return this.addBytes(0),0!==this._lastSecondBytes?this._lastSecondBytes/1024:this._now()-this._lastCheckpoint>=500?this.currentKBps:0}},{key:"averageKBps",get:function(){var e=(this._now()-this._firstCheckpoint)/1e3;return this._totalBytes/e/1024}}]),e}();i.default=r},{}],28:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n,r=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),s=e("../utils/logger.js"),a=((n=s)&&n.__esModule,e("./loader.js")),o=e("../utils/exception.js");var u=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,"websocket-loader"));return e.TAG="WebSocketLoader",e._needStash=!0,e._ws=null,e._requestAbort=!1,e._receivedLength=0,e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.BaseLoader),r(t,null,[{key:"isSupported",value:function(){try{return void 0!==self.WebSocket}catch(e){return!1}}}]),r(t,[{key:"destroy",value:function(){this._ws&&this.abort(),function e(t,i,n){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,i);if(void 0===r){var s=Object.getPrototypeOf(t);return null===s?void 0:e(s,i,n)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(n):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"destroy",this).call(this)}},{key:"open",value:function(e){try{var t=this._ws=new self.WebSocket(e.url);t.binaryType="arraybuffer",t.onopen=this._onWebSocketOpen.bind(this),t.onclose=this._onWebSocketClose.bind(this),t.onmessage=this._onWebSocketMessage.bind(this),t.onerror=this._onWebSocketError.bind(this),this._status=a.LoaderStatus.kConnecting}catch(e){this._status=a.LoaderStatus.kError;var i={code:e.code,msg:e.message};if(!this._onError)throw new o.RuntimeException(i.msg);this._onError(a.LoaderErrors.EXCEPTION,i)}}},{key:"abort",value:function(){var e=this._ws;!e||0!==e.readyState&&1!==e.readyState||(this._requestAbort=!0,e.close()),this._ws=null,this._status=a.LoaderStatus.kComplete}},{key:"_onWebSocketOpen",value:function(e){this._status=a.LoaderStatus.kBuffering}},{key:"_onWebSocketClose",value:function(e){!0!==this._requestAbort?(this._status=a.LoaderStatus.kComplete,this._onComplete&&this._onComplete(0,this._receivedLength-1)):this._requestAbort=!1}},{key:"_onWebSocketMessage",value:function(e){var t=this;if(e.data instanceof ArrayBuffer)this._dispatchArrayBuffer(e.data);else if(e.data instanceof Blob){var i=new FileReader;i.onload=function(){t._dispatchArrayBuffer(i.result)},i.readAsArrayBuffer(e.data)}else{this._status=a.LoaderStatus.kError;var n={code:-1,msg:"Unsupported WebSocket message type: "+e.data.constructor.name};if(!this._onError)throw new o.RuntimeException(n.msg);this._onError(a.LoaderErrors.EXCEPTION,n)}}},{key:"_dispatchArrayBuffer",value:function(e){var t=e,i=this._receivedLength;this._receivedLength+=t.byteLength,this._onDataArrival&&this._onDataArrival(t,i,this._receivedLength)}},{key:"_onWebSocketError",value:function(e){this._status=a.LoaderStatus.kError;var t={code:e.code,msg:e.message};if(!this._onError)throw new o.RuntimeException(t.msg);this._onError(a.LoaderErrors.EXCEPTION,t)}}]),t}();i.default=u},{"../utils/exception.js":40,"../utils/logger.js":41,"./loader.js":24}],29:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n,r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),a=e("../utils/logger.js"),o=(n=a)&&n.__esModule?n:{default:n},u=e("./loader.js"),l=e("../utils/exception.js");var c=function(e){function t(e,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,"xhr-moz-chunked-loader"));return n.TAG="MozChunkedLoader",n._seekHandler=e,n._config=i,n._needStash=!0,n._xhr=null,n._requestAbort=!1,n._contentLength=null,n._receivedLength=0,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,u.BaseLoader),s(t,null,[{key:"isSupported",value:function(){try{var e=new XMLHttpRequest;return e.open("GET","https://example.com",!0),e.responseType="moz-chunked-arraybuffer","moz-chunked-arraybuffer"===e.responseType}catch(e){return o.default.w("MozChunkedLoader",e.message),!1}}}]),s(t,[{key:"destroy",value:function(){this.isWorking()&&this.abort(),this._xhr&&(this._xhr.onreadystatechange=null,this._xhr.onprogress=null,this._xhr.onloadend=null,this._xhr.onerror=null,this._xhr=null),function e(t,i,n){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,i);if(void 0===r){var s=Object.getPrototypeOf(t);return null===s?void 0:e(s,i,n)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(n):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"destroy",this).call(this)}},{key:"open",value:function(e,t){this._dataSource=e,this._range=t;var i=e.url;this._config.reuseRedirectedURL&&void 0!=e.redirectedURL&&(i=e.redirectedURL);var n=this._seekHandler.getConfig(i,t);this._requestURL=n.url;var s=this._xhr=new XMLHttpRequest;if(s.open("GET",n.url,!0),s.responseType="moz-chunked-arraybuffer",s.onreadystatechange=this._onReadyStateChange.bind(this),s.onprogress=this._onProgress.bind(this),s.onloadend=this._onLoadEnd.bind(this),s.onerror=this._onXhrError.bind(this),e.withCredentials&&(s.withCredentials=!0),"object"===r(n.headers)){var a=n.headers;for(var o in a)a.hasOwnProperty(o)&&s.setRequestHeader(o,a[o])}this._status=u.LoaderStatus.kConnecting,s.send()}},{key:"abort",value:function(){this._requestAbort=!0,this._xhr&&this._xhr.abort(),this._status=u.LoaderStatus.kComplete}},{key:"_onReadyStateChange",value:function(e){var t=e.target;if(2===t.readyState){if(void 0!=t.responseURL&&t.responseURL!==this._requestURL&&this._onURLRedirect){var i=this._seekHandler.removeURLParameters(t.responseURL);this._onURLRedirect(i)}if(0!==t.status&&(t.status<200||t.status>299)){if(this._status=u.LoaderStatus.kError,!this._onError)throw new l.RuntimeException("MozChunkedLoader: Http code invalid, "+t.status+" "+t.statusText);this._onError(u.LoaderErrors.HTTP_STATUS_CODE_INVALID,{code:t.status,msg:t.statusText})}else this._status=u.LoaderStatus.kBuffering}}},{key:"_onProgress",value:function(e){if(this._status!==u.LoaderStatus.kError){null===this._contentLength&&null!==e.total&&0!==e.total&&(this._contentLength=e.total,this._onContentLengthKnown&&this._onContentLengthKnown(this._contentLength));var t=e.target.response,i=this._range.from+this._receivedLength;this._receivedLength+=t.byteLength,this._onDataArrival&&this._onDataArrival(t,i,this._receivedLength)}}},{key:"_onLoadEnd",value:function(e){!0!==this._requestAbort?this._status!==u.LoaderStatus.kError&&(this._status=u.LoaderStatus.kComplete,this._onComplete&&this._onComplete(this._range.from,this._range.from+this._receivedLength-1)):this._requestAbort=!1}},{key:"_onXhrError",value:function(e){this._status=u.LoaderStatus.kError;var t=0,i=null;if(this._contentLength&&e.loaded<this._contentLength?(t=u.LoaderErrors.EARLY_EOF,i={code:-1,msg:"Moz-Chunked stream meet Early-Eof"}):(t=u.LoaderErrors.EXCEPTION,i={code:-1,msg:e.constructor.name+" "+e.type}),!this._onError)throw new l.RuntimeException(i.msg);this._onError(t,i)}}]),t}();i.default=c},{"../utils/exception.js":40,"../utils/logger.js":41,"./loader.js":24}],30:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n,r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),a=e("../utils/logger.js"),o=(n=a)&&n.__esModule?n:{default:n},u=e("./loader.js"),l=e("../utils/exception.js");var c=function(e){function t(e,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,"xhr-msstream-loader"));return n.TAG="MSStreamLoader",n._seekHandler=e,n._config=i,n._needStash=!0,n._xhr=null,n._reader=null,n._totalRange=null,n._currentRange=null,n._currentRequestURL=null,n._currentRedirectedURL=null,n._contentLength=null,n._receivedLength=0,n._bufferLimit=16777216,n._lastTimeBufferSize=0,n._isReconnecting=!1,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,u.BaseLoader),s(t,null,[{key:"isSupported",value:function(){try{if(void 0===self.MSStream||void 0===self.MSStreamReader)return!1;var e=new XMLHttpRequest;return e.open("GET","https://example.com",!0),e.responseType="ms-stream","ms-stream"===e.responseType}catch(e){return o.default.w("MSStreamLoader",e.message),!1}}}]),s(t,[{key:"destroy",value:function(){this.isWorking()&&this.abort(),this._reader&&(this._reader.onprogress=null,this._reader.onload=null,this._reader.onerror=null,this._reader=null),this._xhr&&(this._xhr.onreadystatechange=null,this._xhr=null),function e(t,i,n){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,i);if(void 0===r){var s=Object.getPrototypeOf(t);return null===s?void 0:e(s,i,n)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(n):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"destroy",this).call(this)}},{key:"open",value:function(e,t){this._internalOpen(e,t,!1)}},{key:"_internalOpen",value:function(e,t,i){this._dataSource=e,i?this._currentRange=t:this._totalRange=t;var n=e.url;this._config.reuseRedirectedURL&&(void 0!=this._currentRedirectedURL?n=this._currentRedirectedURL:void 0!=e.redirectedURL&&(n=e.redirectedURL));var s=this._seekHandler.getConfig(n,t);this._currentRequestURL=s.url;var a=this._reader=new self.MSStreamReader;a.onprogress=this._msrOnProgress.bind(this),a.onload=this._msrOnLoad.bind(this),a.onerror=this._msrOnError.bind(this);var o=this._xhr=new XMLHttpRequest;if(o.open("GET",s.url,!0),o.responseType="ms-stream",o.onreadystatechange=this._xhrOnReadyStateChange.bind(this),o.onerror=this._xhrOnError.bind(this),e.withCredentials&&(o.withCredentials=!0),"object"===r(s.headers)){var l=s.headers;for(var c in l)l.hasOwnProperty(c)&&o.setRequestHeader(c,l[c])}this._isReconnecting?this._isReconnecting=!1:this._status=u.LoaderStatus.kConnecting,o.send()}},{key:"abort",value:function(){this._internalAbort(),this._status=u.LoaderStatus.kComplete}},{key:"_internalAbort",value:function(){this._reader&&(1===this._reader.readyState&&this._reader.abort(),this._reader.onprogress=null,this._reader.onload=null,this._reader.onerror=null,this._reader=null),this._xhr&&(this._xhr.abort(),this._xhr.onreadystatechange=null,this._xhr=null)}},{key:"_xhrOnReadyStateChange",value:function(e){var t=e.target;if(2===t.readyState)if(t.status>=200&&t.status<=299){if(this._status=u.LoaderStatus.kBuffering,void 0!=t.responseURL){var i=this._seekHandler.removeURLParameters(t.responseURL);t.responseURL!==this._currentRequestURL&&i!==this._currentRedirectedURL&&(this._currentRedirectedURL=i,this._onURLRedirect&&this._onURLRedirect(i))}var n=t.getResponseHeader("Content-Length");if(null!=n&&null==this._contentLength){var r=parseInt(n);r>0&&(this._contentLength=r,this._onContentLengthKnown&&this._onContentLengthKnown(this._contentLength))}}else{if(this._status=u.LoaderStatus.kError,!this._onError)throw new l.RuntimeException("MSStreamLoader: Http code invalid, "+t.status+" "+t.statusText);this._onError(u.LoaderErrors.HTTP_STATUS_CODE_INVALID,{code:t.status,msg:t.statusText})}else if(3===t.readyState&&t.status>=200&&t.status<=299){this._status=u.LoaderStatus.kBuffering;var s=t.response;this._reader.readAsArrayBuffer(s)}}},{key:"_xhrOnError",value:function(e){this._status=u.LoaderStatus.kError;var t=u.LoaderErrors.EXCEPTION,i={code:-1,msg:e.constructor.name+" "+e.type};if(!this._onError)throw new l.RuntimeException(i.msg);this._onError(t,i)}},{key:"_msrOnProgress",value:function(e){var t=e.target.result;if(null!=t){var i=t.slice(this._lastTimeBufferSize);this._lastTimeBufferSize=t.byteLength;var n=this._totalRange.from+this._receivedLength;this._receivedLength+=i.byteLength,this._onDataArrival&&this._onDataArrival(i,n,this._receivedLength),t.byteLength>=this._bufferLimit&&(o.default.v(this.TAG,"MSStream buffer exceeded max size near "+(n+i.byteLength)+", reconnecting..."),this._doReconnectIfNeeded())}else this._doReconnectIfNeeded()}},{key:"_doReconnectIfNeeded",value:function(){if(null==this._contentLength||this._receivedLength<this._contentLength){this._isReconnecting=!0,this._lastTimeBufferSize=0,this._internalAbort();var e={from:this._totalRange.from+this._receivedLength,to:-1};this._internalOpen(this._dataSource,e,!0)}}},{key:"_msrOnLoad",value:function(e){this._status=u.LoaderStatus.kComplete,this._onComplete&&this._onComplete(this._totalRange.from,this._totalRange.from+this._receivedLength-1)}},{key:"_msrOnError",value:function(e){this._status=u.LoaderStatus.kError;var t=0,i=null;if(this._contentLength&&this._receivedLength<this._contentLength?(t=u.LoaderErrors.EARLY_EOF,i={code:-1,msg:"MSStream meet Early-Eof"}):(t=u.LoaderErrors.EARLY_EOF,i={code:-1,msg:e.constructor.name+" "+e.type}),!this._onError)throw new l.RuntimeException(i.msg);this._onError(t,i)}}]),t}();i.default=c},{"../utils/exception.js":40,"../utils/logger.js":41,"./loader.js":24}],31:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),s=l(e("../utils/logger.js")),a=l(e("./speed-sampler.js")),o=e("./loader.js"),u=e("../utils/exception.js");function l(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(e,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,"xhr-range-loader"));return n.TAG="RangeLoader",n._seekHandler=e,n._config=i,n._needStash=!1,n._chunkSizeKBList=[128,256,384,512,768,1024,1536,2048,3072,4096,5120,6144,7168,8192],n._currentChunkSizeKB=384,n._currentSpeedNormalized=0,n._zeroSpeedChunkCount=0,n._xhr=null,n._speedSampler=new a.default,n._requestAbort=!1,n._waitForTotalLength=!1,n._totalLengthReceived=!1,n._currentRequestURL=null,n._currentRedirectedURL=null,n._currentRequestRange=null,n._totalLength=null,n._contentLength=null,n._receivedLength=0,n._lastTimeLoaded=0,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.BaseLoader),r(t,null,[{key:"isSupported",value:function(){try{var e=new XMLHttpRequest;return e.open("GET","https://example.com",!0),e.responseType="arraybuffer","arraybuffer"===e.responseType}catch(e){return s.default.w("RangeLoader",e.message),!1}}}]),r(t,[{key:"destroy",value:function(){this.isWorking()&&this.abort(),this._xhr&&(this._xhr.onreadystatechange=null,this._xhr.onprogress=null,this._xhr.onload=null,this._xhr.onerror=null,this._xhr=null),function e(t,i,n){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,i);if(void 0===r){var s=Object.getPrototypeOf(t);return null===s?void 0:e(s,i,n)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(n):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"destroy",this).call(this)}},{key:"open",value:function(e,t){this._dataSource=e,this._range=t,this._status=o.LoaderStatus.kConnecting;var i=!1;void 0!=this._dataSource.filesize&&0!==this._dataSource.filesize&&(i=!0,this._totalLength=this._dataSource.filesize),this._totalLengthReceived||i?this._openSubRange():(this._waitForTotalLength=!0,this._internalOpen(this._dataSource,{from:0,to:-1}))}},{key:"_openSubRange",value:function(){var e=1024*this._currentChunkSizeKB,t=this._range.from+this._receivedLength,i=t+e;null!=this._contentLength&&i-this._range.from>=this._contentLength&&(i=this._range.from+this._contentLength-1),this._currentRequestRange={from:t,to:i},this._internalOpen(this._dataSource,this._currentRequestRange)}},{key:"_internalOpen",value:function(e,t){this._lastTimeLoaded=0;var i=e.url;this._config.reuseRedirectedURL&&(void 0!=this._currentRedirectedURL?i=this._currentRedirectedURL:void 0!=e.redirectedURL&&(i=e.redirectedURL));var r=this._seekHandler.getConfig(i,t);this._currentRequestURL=r.url;var s=this._xhr=new XMLHttpRequest;if(s.open("GET",r.url,!0),s.responseType="arraybuffer",s.onreadystatechange=this._onReadyStateChange.bind(this),s.onprogress=this._onProgress.bind(this),s.onload=this._onLoad.bind(this),s.onerror=this._onXhrError.bind(this),e.withCredentials&&(s.withCredentials=!0),"object"===n(r.headers)){var a=r.headers;for(var o in a)a.hasOwnProperty(o)&&s.setRequestHeader(o,a[o])}s.send()}},{key:"abort",value:function(){this._requestAbort=!0,this._internalAbort(),this._status=o.LoaderStatus.kComplete}},{key:"_internalAbort",value:function(){this._xhr&&(this._xhr.onreadystatechange=null,this._xhr.onprogress=null,this._xhr.onload=null,this._xhr.onerror=null,this._xhr.abort(),this._xhr=null)}},{key:"_onReadyStateChange",value:function(e){var t=e.target;if(2===t.readyState){if(void 0!=t.responseURL){var i=this._seekHandler.removeURLParameters(t.responseURL);t.responseURL!==this._currentRequestURL&&i!==this._currentRedirectedURL&&(this._currentRedirectedURL=i,this._onURLRedirect&&this._onURLRedirect(i))}if(t.status>=200&&t.status<=299){if(this._waitForTotalLength)return;this._status=o.LoaderStatus.kBuffering}else{if(this._status=o.LoaderStatus.kError,!this._onError)throw new u.RuntimeException("RangeLoader: Http code invalid, "+t.status+" "+t.statusText);this._onError(o.LoaderErrors.HTTP_STATUS_CODE_INVALID,{code:t.status,msg:t.statusText})}}}},{key:"_onProgress",value:function(e){if(this._status!==o.LoaderStatus.kError){if(null===this._contentLength){var t=!1;if(this._waitForTotalLength){this._waitForTotalLength=!1,this._totalLengthReceived=!0,t=!0;var i=e.total;this._internalAbort(),null!=i&0!==i&&(this._totalLength=i)}if(-1===this._range.to?this._contentLength=this._totalLength-this._range.from:this._contentLength=this._range.to-this._range.from+1,t)return void this._openSubRange();this._onContentLengthKnown&&this._onContentLengthKnown(this._contentLength)}var n=e.loaded-this._lastTimeLoaded;this._lastTimeLoaded=e.loaded,this._speedSampler.addBytes(n)}}},{key:"_normalizeSpeed",value:function(e){var t=this._chunkSizeKBList,i=t.length-1,n=0,r=0,s=i;if(e<t[0])return t[0];for(;r<=s;){if((n=r+Math.floor((s-r)/2))===i||e>=t[n]&&e<t[n+1])return t[n];t[n]<e?r=n+1:s=n-1}}},{key:"_onLoad",value:function(e){if(this._status!==o.LoaderStatus.kError)if(this._waitForTotalLength)this._waitForTotalLength=!1;else{this._lastTimeLoaded=0;var t=this._speedSampler.lastSecondKBps;if(0===t&&(this._zeroSpeedChunkCount++,this._zeroSpeedChunkCount>=3&&(t=this._speedSampler.currentKBps)),0!==t){var i=this._normalizeSpeed(t);this._currentSpeedNormalized!==i&&(this._currentSpeedNormalized=i,this._currentChunkSizeKB=i)}var n=e.target.response,r=this._range.from+this._receivedLength;this._receivedLength+=n.byteLength;var s=!1;null!=this._contentLength&&this._receivedLength<this._contentLength?this._openSubRange():s=!0,this._onDataArrival&&this._onDataArrival(n,r,this._receivedLength),s&&(this._status=o.LoaderStatus.kComplete,this._onComplete&&this._onComplete(this._range.from,this._range.from+this._receivedLength-1))}}},{key:"_onXhrError",value:function(e){this._status=o.LoaderStatus.kError;var t=0,i=null;if(this._contentLength&&this._receivedLength>0&&this._receivedLength<this._contentLength?(t=o.LoaderErrors.EARLY_EOF,i={code:-1,msg:"RangeLoader meet Early-Eof"}):(t=o.LoaderErrors.EXCEPTION,i={code:-1,msg:e.constructor.name+" "+e.type}),!this._onError)throw new u.RuntimeException(i.msg);this._onError(t,i)}},{key:"currentSpeed",get:function(){return this._speedSampler.lastSecondKBps}}]),t}();i.default=c},{"../utils/exception.js":40,"../utils/logger.js":41,"./loader.js":24,"./speed-sampler.js":27}],32:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),s=m(e("events")),a=m(e("../utils/logger.js")),o=m(e("../utils/browser.js")),u=m(e("./player-events.js")),l=m(e("../core/transmuxer.js")),c=m(e("../core/transmuxing-events.js")),d=m(e("../core/mse-controller.js")),h=m(e("../core/mse-events.js")),f=e("./player-errors.js"),p=e("../config.js"),v=e("../utils/exception.js");function m(e){return e&&e.__esModule?e:{default:e}}var _=function(){function e(t,i){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.TAG="FlvPlayer",this._type="FlvPlayer",this._emitter=new s.default,this._config=(0,p.createDefaultConfig)(),"object"===(void 0===i?"undefined":n(i))&&Object.assign(this._config,i),"flv"!==t.type.toLowerCase())throw new v.InvalidArgumentException("FlvPlayer requires an flv MediaDataSource input!");!0===t.isLive&&(this._config.isLive=!0),this.e={onvLoadedMetadata:this._onvLoadedMetadata.bind(this),onvSeeking:this._onvSeeking.bind(this),onvCanPlay:this._onvCanPlay.bind(this),onvStalled:this._onvStalled.bind(this),onvProgress:this._onvProgress.bind(this)},self.performance&&self.performance.now?this._now=self.performance.now.bind(self.performance):this._now=Date.now,this._pendingSeekTime=null,this._requestSetTime=!1,this._seekpointRecord=null,this._progressChecker=null,this._mediaDataSource=t,this._mediaElement=null,this._msectl=null,this._transmuxer=null,this._mseSourceOpened=!1,this._hasPendingLoad=!1,this._receivedCanPlay=!1,this._mediaInfo=null,this._statisticsInfo=null;var r=o.default.chrome&&(o.default.version.major<50||50===o.default.version.major&&o.default.version.build<2661);this._alwaysSeekKeyframe=!!(r||o.default.msedge||o.default.msie),this._alwaysSeekKeyframe&&(this._config.accurateSeek=!1)}return r(e,[{key:"destroy",value:function(){null!=this._progressChecker&&(window.clearInterval(this._progressChecker),this._progressChecker=null),this._transmuxer&&this.unload(),this._mediaElement&&this.detachMediaElement(),this.e=null,this._mediaDataSource=null,this._emitter.removeAllListeners(),this._emitter=null}},{key:"on",value:function(e,t){var i=this;e===u.default.MEDIA_INFO?null!=this._mediaInfo&&Promise.resolve().then(function(){i._emitter.emit(u.default.MEDIA_INFO,i.mediaInfo)}):e===u.default.STATISTICS_INFO&&null!=this._statisticsInfo&&Promise.resolve().then(function(){i._emitter.emit(u.default.STATISTICS_INFO,i.statisticsInfo)}),this._emitter.addListener(e,t)}},{key:"off",value:function(e,t){this._emitter.removeListener(e,t)}},{key:"attachMediaElement",value:function(e){var t=this;if(this._mediaElement=e,e.addEventListener("loadedmetadata",this.e.onvLoadedMetadata),e.addEventListener("seeking",this.e.onvSeeking),e.addEventListener("canplay",this.e.onvCanPlay),e.addEventListener("stalled",this.e.onvStalled),e.addEventListener("progress",this.e.onvProgress),this._msectl=new d.default(this._config),this._msectl.on(h.default.UPDATE_END,this._onmseUpdateEnd.bind(this)),this._msectl.on(h.default.BUFFER_FULL,this._onmseBufferFull.bind(this)),this._msectl.on(h.default.SOURCE_OPEN,function(){t._mseSourceOpened=!0,t._hasPendingLoad&&(t._hasPendingLoad=!1,t.load())}),this._msectl.on(h.default.ERROR,function(e){t._emitter.emit(u.default.ERROR,f.ErrorTypes.MEDIA_ERROR,f.ErrorDetails.MEDIA_MSE_ERROR,e)}),this._msectl.attachMediaElement(e),null!=this._pendingSeekTime)try{e.currentTime=this._pendingSeekTime,this._pendingSeekTime=null}catch(e){}}},{key:"detachMediaElement",value:function(){this._mediaElement&&(this._msectl.detachMediaElement(),this._mediaElement.removeEventListener("loadedmetadata",this.e.onvLoadedMetadata),this._mediaElement.removeEventListener("seeking",this.e.onvSeeking),this._mediaElement.removeEventListener("canplay",this.e.onvCanPlay),this._mediaElement.removeEventListener("stalled",this.e.onvStalled),this._mediaElement.removeEventListener("progress",this.e.onvProgress),this._mediaElement=null),this._msectl&&(this._msectl.destroy(),this._msectl=null)}},{key:"load",value:function(){var e=this;if(!this._mediaElement)throw new v.IllegalStateException("HTMLMediaElement must be attached before load()!");if(this._transmuxer)throw new v.IllegalStateException("FlvPlayer.load() has been called, please call unload() first!");this._hasPendingLoad||(this._config.deferLoadAfterSourceOpen&&!1===this._mseSourceOpened?this._hasPendingLoad=!0:(this._mediaElement.readyState>0&&(this._requestSetTime=!0,this._mediaElement.currentTime=0),this._transmuxer=new l.default(this._mediaDataSource,this._config),this._transmuxer.on(c.default.INIT_SEGMENT,function(t,i){e._msectl.appendInitSegment(i)}),this._transmuxer.on(c.default.MEDIA_SEGMENT,function(t,i){if(e._msectl.appendMediaSegment(i),e._config.lazyLoad&&!e._config.isLive){var n=e._mediaElement.currentTime;i.info.endDts>=1e3*(n+e._config.lazyLoadMaxDuration)&&null==e._progressChecker&&(a.default.v(e.TAG,"Maximum buffering duration exceeded, suspend transmuxing task"),e._suspendTransmuxer())}}),this._transmuxer.on(c.default.LOADING_COMPLETE,function(){e._msectl.endOfStream(),e._emitter.emit(u.default.LOADING_COMPLETE)}),this._transmuxer.on(c.default.RECOVERED_EARLY_EOF,function(){e._emitter.emit(u.default.RECOVERED_EARLY_EOF)}),this._transmuxer.on(c.default.IO_ERROR,function(t,i){e._emitter.emit(u.default.ERROR,f.ErrorTypes.NETWORK_ERROR,t,i)}),this._transmuxer.on(c.default.DEMUX_ERROR,function(t,i){e._emitter.emit(u.default.ERROR,f.ErrorTypes.MEDIA_ERROR,t,{code:-1,msg:i})}),this._transmuxer.on(c.default.MEDIA_INFO,function(t){e._mediaInfo=t,e._emitter.emit(u.default.MEDIA_INFO,Object.assign({},t))}),this._transmuxer.on(c.default.STATISTICS_INFO,function(t){e._statisticsInfo=e._fillStatisticsInfo(t),e._emitter.emit(u.default.STATISTICS_INFO,Object.assign({},e._statisticsInfo))}),this._transmuxer.on(c.default.RECOMMEND_SEEKPOINT,function(t){e._mediaElement&&!e._config.accurateSeek&&(e._requestSetTime=!0,e._mediaElement.currentTime=t/1e3)}),this._transmuxer.open()))}},{key:"unload",value:function(){this._mediaElement&&this._mediaElement.pause(),this._msectl&&this._msectl.seek(0),this._transmuxer&&(this._transmuxer.close(),this._transmuxer.destroy(),this._transmuxer=null)}},{key:"play",value:function(){return this._mediaElement.play()}},{key:"pause",value:function(){this._mediaElement.pause()}},{key:"_fillStatisticsInfo",value:function(e){if(e.playerType=this._type,!(this._mediaElement instanceof HTMLVideoElement))return e;var t=!0,i=0,n=0;if(this._mediaElement.getVideoPlaybackQuality){var r=this._mediaElement.getVideoPlaybackQuality();i=r.totalVideoFrames,n=r.droppedVideoFrames}else void 0!=this._mediaElement.webkitDecodedFrameCount?(i=this._mediaElement.webkitDecodedFrameCount,n=this._mediaElement.webkitDroppedFrameCount):t=!1;return t&&(e.decodedFrames=i,e.droppedFrames=n),e}},{key:"_onmseUpdateEnd",value:function(){if(this._config.lazyLoad&&!this._config.isLive){for(var e=this._mediaElement.buffered,t=this._mediaElement.currentTime,i=0,n=0;n<e.length;n++){var r=e.start(n),s=e.end(n);if(r<=t&&t<s){r,i=s;break}}i>=t+this._config.lazyLoadMaxDuration&&null==this._progressChecker&&(a.default.v(this.TAG,"Maximum buffering duration exceeded, suspend transmuxing task"),this._suspendTransmuxer())}}},{key:"_onmseBufferFull",value:function(){a.default.v(this.TAG,"MSE SourceBuffer is full, suspend transmuxing task"),null==this._progressChecker&&this._suspendTransmuxer()}},{key:"_suspendTransmuxer",value:function(){this._transmuxer&&(this._transmuxer.pause(),null==this._progressChecker&&(this._progressChecker=window.setInterval(this._checkProgressAndResume.bind(this),1e3)))}},{key:"_checkProgressAndResume",value:function(){for(var e=this._mediaElement.currentTime,t=this._mediaElement.buffered,i=!1,n=0;n<t.length;n++){var r=t.start(n),s=t.end(n);if(e>=r&&e<s){e>=s-this._config.lazyLoadRecoverDuration&&(i=!0);break}}i&&(window.clearInterval(this._progressChecker),this._progressChecker=null,i&&(a.default.v(this.TAG,"Continue loading from paused position"),this._transmuxer.resume()))}},{key:"_isTimepointBuffered",value:function(e){for(var t=this._mediaElement.buffered,i=0;i<t.length;i++){var n=t.start(i),r=t.end(i);if(e>=n&&e<r)return!0}return!1}},{key:"_internalSeek",value:function(e){var t=this._isTimepointBuffered(e),i=!1,n=0;if(e<1&&this._mediaElement.buffered.length>0){var r=this._mediaElement.buffered.start(0);(r<1&&e<r||o.default.safari)&&(i=!0,n=o.default.safari?.1:r)}if(i)this._requestSetTime=!0,this._mediaElement.currentTime=n;else if(t){if(this._alwaysSeekKeyframe){var s=this._msectl.getNearestKeyframe(Math.floor(1e3*e));this._requestSetTime=!0,this._mediaElement.currentTime=null!=s?s.dts/1e3:e}else this._requestSetTime=!0,this._mediaElement.currentTime=e;null!=this._progressChecker&&this._checkProgressAndResume()}else null!=this._progressChecker&&(window.clearInterval(this._progressChecker),this._progressChecker=null),this._msectl.seek(e),this._transmuxer.seek(Math.floor(1e3*e)),this._config.accurateSeek&&(this._requestSetTime=!0,this._mediaElement.currentTime=e)}},{key:"_checkAndApplyUnbufferedSeekpoint",value:function(){if(this._seekpointRecord)if(this._seekpointRecord.recordTime<=this._now()-100){var e=this._mediaElement.currentTime;this._seekpointRecord=null,this._isTimepointBuffered(e)||(null!=this._progressChecker&&(window.clearTimeout(this._progressChecker),this._progressChecker=null),this._msectl.seek(e),this._transmuxer.seek(Math.floor(1e3*e)),this._config.accurateSeek&&(this._requestSetTime=!0,this._mediaElement.currentTime=e))}else window.setTimeout(this._checkAndApplyUnbufferedSeekpoint.bind(this),50)}},{key:"_checkAndResumeStuckPlayback",value:function(e){var t=this._mediaElement;if(e||!this._receivedCanPlay||t.readyState<2){var i=t.buffered;i.length>0&&t.currentTime<i.start(0)&&(a.default.w(this.TAG,"Playback seems stuck at "+t.currentTime+", seek to "+i.start(0)),this._requestSetTime=!0,this._mediaElement.currentTime=i.start(0),this._mediaElement.removeEventListener("progress",this.e.onvProgress))}else this._mediaElement.removeEventListener("progress",this.e.onvProgress)}},{key:"_onvLoadedMetadata",value:function(e){null!=this._pendingSeekTime&&(this._mediaElement.currentTime=this._pendingSeekTime,this._pendingSeekTime=null)}},{key:"_onvSeeking",value:function(e){var t=this._mediaElement.currentTime,i=this._mediaElement.buffered;if(this._requestSetTime)this._requestSetTime=!1;else{if(t<1&&i.length>0){var n=i.start(0);if(n<1&&t<n||o.default.safari)return this._requestSetTime=!0,void(this._mediaElement.currentTime=o.default.safari?.1:n)}if(this._isTimepointBuffered(t)){if(this._alwaysSeekKeyframe){var r=this._msectl.getNearestKeyframe(Math.floor(1e3*t));null!=r&&(this._requestSetTime=!0,this._mediaElement.currentTime=r.dts/1e3)}null!=this._progressChecker&&this._checkProgressAndResume()}else this._seekpointRecord={seekPoint:t,recordTime:this._now()},window.setTimeout(this._checkAndApplyUnbufferedSeekpoint.bind(this),50)}}},{key:"_onvCanPlay",value:function(e){this._receivedCanPlay=!0,this._mediaElement.removeEventListener("canplay",this.e.onvCanPlay)}},{key:"_onvStalled",value:function(e){this._checkAndResumeStuckPlayback(!0)}},{key:"_onvProgress",value:function(e){this._checkAndResumeStuckPlayback()}},{key:"type",get:function(){return this._type}},{key:"buffered",get:function(){return this._mediaElement.buffered}},{key:"duration",get:function(){return this._mediaElement.duration}},{key:"volume",get:function(){return this._mediaElement.volume},set:function(e){this._mediaElement.volume=e}},{key:"muted",get:function(){return this._mediaElement.muted},set:function(e){this._mediaElement.muted=e}},{key:"currentTime",get:function(){return this._mediaElement?this._mediaElement.currentTime:0},set:function(e){this._mediaElement?this._internalSeek(e):this._pendingSeekTime=e}},{key:"mediaInfo",get:function(){return Object.assign({},this._mediaInfo)}},{key:"statisticsInfo",get:function(){return null==this._statisticsInfo&&(this._statisticsInfo={}),this._statisticsInfo=this._fillStatisticsInfo(this._statisticsInfo),Object.assign({},this._statisticsInfo)}}]),e}();i.default=_},{"../config.js":5,"../core/mse-controller.js":9,"../core/mse-events.js":10,"../core/transmuxer.js":11,"../core/transmuxing-events.js":13,"../utils/browser.js":39,"../utils/exception.js":40,"../utils/logger.js":41,"./player-errors.js":34,"./player-events.js":35,events:2}],33:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),s=l(e("events")),a=l(e("./player-events.js")),o=e("../config.js"),u=e("../utils/exception.js");function l(e){return e&&e.__esModule?e:{default:e}}var c=function(){function e(t,i){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.TAG="NativePlayer",this._type="NativePlayer",this._emitter=new s.default,this._config=(0,o.createDefaultConfig)(),"object"===(void 0===i?"undefined":n(i))&&Object.assign(this._config,i),"flv"===t.type.toLowerCase())throw new u.InvalidArgumentException("NativePlayer does't support flv MediaDataSource input!");if(t.hasOwnProperty("segments"))throw new u.InvalidArgumentException("NativePlayer("+t.type+") doesn't support multipart playback!");this.e={onvLoadedMetadata:this._onvLoadedMetadata.bind(this)},this._pendingSeekTime=null,this._statisticsReporter=null,this._mediaDataSource=t,this._mediaElement=null}return r(e,[{key:"destroy",value:function(){this._mediaElement&&(this.unload(),this.detachMediaElement()),this.e=null,this._mediaDataSource=null,this._emitter.removeAllListeners(),this._emitter=null}},{key:"on",value:function(e,t){var i=this;e===a.default.MEDIA_INFO?null!=this._mediaElement&&0!==this._mediaElement.readyState&&Promise.resolve().then(function(){i._emitter.emit(a.default.MEDIA_INFO,i.mediaInfo)}):e===a.default.STATISTICS_INFO&&null!=this._mediaElement&&0!==this._mediaElement.readyState&&Promise.resolve().then(function(){i._emitter.emit(a.default.STATISTICS_INFO,i.statisticsInfo)}),this._emitter.addListener(e,t)}},{key:"off",value:function(e,t){this._emitter.removeListener(e,t)}},{key:"attachMediaElement",value:function(e){if(this._mediaElement=e,e.addEventListener("loadedmetadata",this.e.onvLoadedMetadata),null!=this._pendingSeekTime)try{e.currentTime=this._pendingSeekTime,this._pendingSeekTime=null}catch(e){}}},{key:"detachMediaElement",value:function(){this._mediaElement&&(this._mediaElement.src="",this._mediaElement.removeAttribute("src"),this._mediaElement.removeEventListener("loadedmetadata",this.e.onvLoadedMetadata),this._mediaElement=null),null!=this._statisticsReporter&&(window.clearInterval(this._statisticsReporter),this._statisticsReporter=null)}},{key:"load",value:function(){if(!this._mediaElement)throw new u.IllegalStateException("HTMLMediaElement must be attached before load()!");this._mediaElement.src=this._mediaDataSource.url,this._mediaElement.readyState>0&&(this._mediaElement.currentTime=0),this._mediaElement.preload="auto",this._mediaElement.load(),this._statisticsReporter=window.setInterval(this._reportStatisticsInfo.bind(this),this._config.statisticsInfoReportInterval)}},{key:"unload",value:function(){this._mediaElement&&(this._mediaElement.src="",this._mediaElement.removeAttribute("src")),null!=this._statisticsReporter&&(window.clearInterval(this._statisticsReporter),this._statisticsReporter=null)}},{key:"play",value:function(){return this._mediaElement.play()}},{key:"pause",value:function(){this._mediaElement.pause()}},{key:"_onvLoadedMetadata",value:function(e){null!=this._pendingSeekTime&&(this._mediaElement.currentTime=this._pendingSeekTime,this._pendingSeekTime=null),this._emitter.emit(a.default.MEDIA_INFO,this.mediaInfo)}},{key:"_reportStatisticsInfo",value:function(){this._emitter.emit(a.default.STATISTICS_INFO,this.statisticsInfo)}},{key:"type",get:function(){return this._type}},{key:"buffered",get:function(){return this._mediaElement.buffered}},{key:"duration",get:function(){return this._mediaElement.duration}},{key:"volume",get:function(){return this._mediaElement.volume},set:function(e){this._mediaElement.volume=e}},{key:"muted",get:function(){return this._mediaElement.muted},set:function(e){this._mediaElement.muted=e}},{key:"currentTime",get:function(){return this._mediaElement?this._mediaElement.currentTime:0},set:function(e){this._mediaElement?this._mediaElement.currentTime=e:this._pendingSeekTime=e}},{key:"mediaInfo",get:function(){var e={mimeType:(this._mediaElement instanceof HTMLAudioElement?"audio/":"video/")+this._mediaDataSource.type};return this._mediaElement&&(e.duration=Math.floor(1e3*this._mediaElement.duration),this._mediaElement instanceof HTMLVideoElement&&(e.width=this._mediaElement.videoWidth,e.height=this._mediaElement.videoHeight)),e}},{key:"statisticsInfo",get:function(){var e={playerType:this._type,url:this._mediaDataSource.url};if(!(this._mediaElement instanceof HTMLVideoElement))return e;var t=!0,i=0,n=0;if(this._mediaElement.getVideoPlaybackQuality){var r=this._mediaElement.getVideoPlaybackQuality();i=r.totalVideoFrames,n=r.droppedVideoFrames}else void 0!=this._mediaElement.webkitDecodedFrameCount?(i=this._mediaElement.webkitDecodedFrameCount,n=this._mediaElement.webkitDroppedFrameCount):t=!1;return t&&(e.decodedFrames=i,e.droppedFrames=n),e}}]),e}();i.default=c},{"../config.js":5,"../utils/exception.js":40,"./player-events.js":35,events:2}],34:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.ErrorDetails=i.ErrorTypes=void 0;var n,r=e("../io/loader.js"),s=e("../demux/demux-errors.js"),a=(n=s)&&n.__esModule?n:{default:n};i.ErrorTypes={NETWORK_ERROR:"NetworkError",MEDIA_ERROR:"MediaError",OTHER_ERROR:"OtherError"},i.ErrorDetails={NETWORK_EXCEPTION:r.LoaderErrors.EXCEPTION,NETWORK_STATUS_CODE_INVALID:r.LoaderErrors.HTTP_STATUS_CODE_INVALID,NETWORK_TIMEOUT:r.LoaderErrors.CONNECTING_TIMEOUT,NETWORK_UNRECOVERABLE_EARLY_EOF:r.LoaderErrors.UNRECOVERABLE_EARLY_EOF,MEDIA_MSE_ERROR:"MediaMSEError",MEDIA_FORMAT_ERROR:a.default.FORMAT_ERROR,MEDIA_FORMAT_UNSUPPORTED:a.default.FORMAT_UNSUPPORTED,MEDIA_CODEC_UNSUPPORTED:a.default.CODEC_UNSUPPORTED}},{"../demux/demux-errors.js":16,"../io/loader.js":24}],35:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});i.default={ERROR:"error",LOADING_COMPLETE:"loading_complete",RECOVERED_EARLY_EOF:"recovered_early_eof",MEDIA_INFO:"media_info",STATISTICS_INFO:"statistics_info"}},{}],36:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}();var r=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return n(e,null,[{key:"getSilentFrame",value:function(e,t){if("mp4a.40.2"===e){if(1===t)return new Uint8Array([0,200,0,128,35,128]);if(2===t)return new Uint8Array([33,0,73,144,2,25,0,35,128]);if(3===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,142]);if(4===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,128,44,128,8,2,56]);if(5===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,56]);if(6===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,0,178,0,32,8,224])}else{if(1===t)return new Uint8Array([1,64,34,128,163,78,230,128,186,8,0,0,0,28,6,241,193,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(2===t)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(3===t)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94])}return null}}]),e}();i.default=r},{}],37:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}();var r=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return n(e,null,[{key:"init",value:function(){e.types={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],mvex:[],mvhd:[],sdtp:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[],smhd:[],".mp3":[]};for(var t in e.types)e.types.hasOwnProperty(t)&&(e.types[t]=[t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2),t.charCodeAt(3)]);var i=e.constants={};i.FTYP=new Uint8Array([105,115,111,109,0,0,0,1,105,115,111,109,97,118,99,49]),i.STSD_PREFIX=new Uint8Array([0,0,0,0,0,0,0,1]),i.STTS=new Uint8Array([0,0,0,0,0,0,0,0]),i.STSC=i.STCO=i.STTS,i.STSZ=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),i.HDLR_VIDEO=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),i.HDLR_AUDIO=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]),i.DREF=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),i.SMHD=new Uint8Array([0,0,0,0,0,0,0,0]),i.VMHD=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0])}},{key:"box",value:function(e){for(var t=8,i=null,n=Array.prototype.slice.call(arguments,1),r=n.length,s=0;s<r;s++)t+=n[s].byteLength;(i=new Uint8Array(t))[0]=t>>>24&255,i[1]=t>>>16&255,i[2]=t>>>8&255,i[3]=255&t,i.set(e,4);for(var a=8,o=0;o<r;o++)i.set(n[o],a),a+=n[o].byteLength;return i}},{key:"generateInitSegment",value:function(t){var i=e.box(e.types.ftyp,e.constants.FTYP),n=e.moov(t),r=new Uint8Array(i.byteLength+n.byteLength);return r.set(i,0),r.set(n,i.byteLength),r}},{key:"moov",value:function(t){var i=e.mvhd(t.timescale,t.duration),n=e.trak(t),r=e.mvex(t);return e.box(e.types.moov,i,n,r)}},{key:"mvhd",value:function(t,i){return e.box(e.types.mvhd,new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,t>>>24&255,t>>>16&255,t>>>8&255,255&t,i>>>24&255,i>>>16&255,i>>>8&255,255&i,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]))}},{key:"trak",value:function(t){return e.box(e.types.trak,e.tkhd(t),e.mdia(t))}},{key:"tkhd",value:function(t){var i=t.id,n=t.duration,r=t.presentWidth,s=t.presentHeight;return e.box(e.types.tkhd,new Uint8Array([0,0,0,7,0,0,0,0,0,0,0,0,i>>>24&255,i>>>16&255,i>>>8&255,255&i,0,0,0,0,n>>>24&255,n>>>16&255,n>>>8&255,255&n,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,r>>>8&255,255&r,0,0,s>>>8&255,255&s,0,0]))}},{key:"mdia",value:function(t){return e.box(e.types.mdia,e.mdhd(t),e.hdlr(t),e.minf(t))}},{key:"mdhd",value:function(t){var i=t.timescale,n=t.duration;return e.box(e.types.mdhd,new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,i>>>24&255,i>>>16&255,i>>>8&255,255&i,n>>>24&255,n>>>16&255,n>>>8&255,255&n,85,196,0,0]))}},{key:"hdlr",value:function(t){var i=null;return i="audio"===t.type?e.constants.HDLR_AUDIO:e.constants.HDLR_VIDEO,e.box(e.types.hdlr,i)}},{key:"minf",value:function(t){var i=null;return i="audio"===t.type?e.box(e.types.smhd,e.constants.SMHD):e.box(e.types.vmhd,e.constants.VMHD),e.box(e.types.minf,i,e.dinf(),e.stbl(t))}},{key:"dinf",value:function(){return e.box(e.types.dinf,e.box(e.types.dref,e.constants.DREF))}},{key:"stbl",value:function(t){return e.box(e.types.stbl,e.stsd(t),e.box(e.types.stts,e.constants.STTS),e.box(e.types.stsc,e.constants.STSC),e.box(e.types.stsz,e.constants.STSZ),e.box(e.types.stco,e.constants.STCO))}},{key:"stsd",value:function(t){return"audio"===t.type?"mp3"===t.codec?e.box(e.types.stsd,e.constants.STSD_PREFIX,e.mp3(t)):e.box(e.types.stsd,e.constants.STSD_PREFIX,e.mp4a(t)):e.box(e.types.stsd,e.constants.STSD_PREFIX,e.avc1(t))}},{key:"mp3",value:function(t){var i=t.channelCount,n=t.audioSampleRate,r=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,i,0,16,0,0,0,0,n>>>8&255,255&n,0,0]);return e.box(e.types[".mp3"],r)}},{key:"mp4a",value:function(t){var i=t.channelCount,n=t.audioSampleRate,r=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,i,0,16,0,0,0,0,n>>>8&255,255&n,0,0]);return e.box(e.types.mp4a,r,e.esds(t))}},{key:"esds",value:function(t){var i=t.config||[],n=i.length,r=new Uint8Array([0,0,0,0,3,23+n,0,1,0,4,15+n,64,21,0,0,0,0,0,0,0,0,0,0,0,5].concat([n]).concat(i).concat([6,1,2]));return e.box(e.types.esds,r)}},{key:"avc1",value:function(t){var i=t.avcc,n=t.codecWidth,r=t.codecHeight,s=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,n>>>8&255,255&n,r>>>8&255,255&r,0,72,0,0,0,72,0,0,0,0,0,0,0,1,10,120,113,113,47,102,108,118,46,106,115,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,255,255]);return e.box(e.types.avc1,s,e.box(e.types.avcC,i))}},{key:"mvex",value:function(t){return e.box(e.types.mvex,e.trex(t))}},{key:"trex",value:function(t){var i=t.id,n=new Uint8Array([0,0,0,0,i>>>24&255,i>>>16&255,i>>>8&255,255&i,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]);return e.box(e.types.trex,n)}},{key:"moof",value:function(t,i){return e.box(e.types.moof,e.mfhd(t.sequenceNumber),e.traf(t,i))}},{key:"mfhd",value:function(t){var i=new Uint8Array([0,0,0,0,t>>>24&255,t>>>16&255,t>>>8&255,255&t]);return e.box(e.types.mfhd,i)}},{key:"traf",value:function(t,i){var n=t.id,r=e.box(e.types.tfhd,new Uint8Array([0,0,0,0,n>>>24&255,n>>>16&255,n>>>8&255,255&n])),s=e.box(e.types.tfdt,new Uint8Array([0,0,0,0,i>>>24&255,i>>>16&255,i>>>8&255,255&i])),a=e.sdtp(t),o=e.trun(t,a.byteLength+16+16+8+16+8+8);return e.box(e.types.traf,r,s,o,a)}},{key:"sdtp",value:function(t){for(var i=t.samples||[],n=i.length,r=new Uint8Array(4+n),s=0;s<n;s++){var a=i[s].flags;r[s+4]=a.isLeading<<6|a.dependsOn<<4|a.isDependedOn<<2|a.hasRedundancy}return e.box(e.types.sdtp,r)}},{key:"trun",value:function(t,i){var n=t.samples||[],r=n.length,s=12+16*r,a=new Uint8Array(s);i+=8+s,a.set([0,0,15,1,r>>>24&255,r>>>16&255,r>>>8&255,255&r,i>>>24&255,i>>>16&255,i>>>8&255,255&i],0);for(var o=0;o<r;o++){var u=n[o].duration,l=n[o].size,c=n[o].flags,d=n[o].cts;a.set([u>>>24&255,u>>>16&255,u>>>8&255,255&u,l>>>24&255,l>>>16&255,l>>>8&255,255&l,c.isLeading<<2|c.dependsOn,c.isDependedOn<<6|c.hasRedundancy<<4|c.isNonSync,0,0,d>>>24&255,d>>>16&255,d>>>8&255,255&d],12+16*o)}return e.box(e.types.trun,a)}},{key:"mdat",value:function(t){return e.box(e.types.mdat,t)}}]),e}();r.init(),i.default=r},{}],38:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),r=c(e("../utils/logger.js")),s=c(e("./mp4-generator.js")),a=c(e("./aac-silent.js")),o=c(e("../utils/browser.js")),u=e("../core/media-segment-info.js"),l=e("../utils/exception.js");function c(e){return e&&e.__esModule?e:{default:e}}var d=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.TAG="MP4Remuxer",this._config=t,this._isLive=!0===t.isLive,this._dtsBase=-1,this._dtsBaseInited=!1,this._audioDtsBase=1/0,this._videoDtsBase=1/0,this._audioNextDts=void 0,this._videoNextDts=void 0,this._audioStashedLastSample=null,this._videoStashedLastSample=null,this._audioMeta=null,this._videoMeta=null,this._audioSegmentInfoList=new u.MediaSegmentInfoList("audio"),this._videoSegmentInfoList=new u.MediaSegmentInfoList("video"),this._onInitSegment=null,this._onMediaSegment=null,this._forceFirstIDR=!(!o.default.chrome||!(o.default.version.major<50||50===o.default.version.major&&o.default.version.build<2661)),this._fillSilentAfterSeek=o.default.msedge||o.default.msie,this._mp3UseMpegAudio=!o.default.firefox,this._fillAudioTimestampGap=this._config.fixAudioTimestampGap}return n(e,[{key:"destroy",value:function(){this._dtsBase=-1,this._dtsBaseInited=!1,this._audioMeta=null,this._videoMeta=null,this._audioSegmentInfoList.clear(),this._audioSegmentInfoList=null,this._videoSegmentInfoList.clear(),this._videoSegmentInfoList=null,this._onInitSegment=null,this._onMediaSegment=null}},{key:"bindDataSource",value:function(e){return e.onDataAvailable=this.remux.bind(this),e.onTrackMetadata=this._onTrackMetadataReceived.bind(this),this}},{key:"insertDiscontinuity",value:function(){this._audioNextDts=this._videoNextDts=void 0}},{key:"seek",value:function(e){this._audioStashedLastSample=null,this._videoStashedLastSample=null,this._videoSegmentInfoList.clear(),this._audioSegmentInfoList.clear()}},{key:"remux",value:function(e,t){if(!this._onMediaSegment)throw new l.IllegalStateException("MP4Remuxer: onMediaSegment callback must be specificed!");this._dtsBaseInited||this._calculateDtsBase(e,t),this._remuxVideo(t),this._remuxAudio(e)}},{key:"_onTrackMetadataReceived",value:function(e,t){var i=null,n="mp4",r=t.codec;if("audio"===e)this._audioMeta=t,"mp3"===t.codec&&this._mp3UseMpegAudio?(n="mpeg",r="",i=new Uint8Array):i=s.default.generateInitSegment(t);else{if("video"!==e)return;this._videoMeta=t,i=s.default.generateInitSegment(t)}if(!this._onInitSegment)throw new l.IllegalStateException("MP4Remuxer: onInitSegment callback must be specified!");this._onInitSegment(e,{type:e,data:i.buffer,codec:r,container:e+"/"+n,mediaDuration:t.duration})}},{key:"_calculateDtsBase",value:function(e,t){this._dtsBaseInited||(e.samples&&e.samples.length&&(this._audioDtsBase=e.samples[0].dts),t.samples&&t.samples.length&&(this._videoDtsBase=t.samples[0].dts),this._dtsBase=Math.min(this._audioDtsBase,this._videoDtsBase),this._dtsBaseInited=!0)}},{key:"flushStashedSamples",value:function(){var e=this._videoStashedLastSample,t=this._audioStashedLastSample,i={type:"video",id:1,sequenceNumber:0,samples:[],length:0};null!=e&&(i.samples.push(e),i.length=e.length);var n={type:"audio",id:2,sequenceNumber:0,samples:[],length:0};null!=t&&(n.samples.push(t),n.length=t.length),this._videoStashedLastSample=null,this._audioStashedLastSample=null,this._remuxVideo(i,!0),this._remuxAudio(n,!0)}},{key:"_remuxAudio",value:function(e,t){if(null!=this._audioMeta){var i,n=e,l=n.samples,c=void 0,d=-1,h=this._audioMeta.refSampleDuration,f="mp3"===this._audioMeta.codec&&this._mp3UseMpegAudio,p=this._dtsBaseInited&&void 0===this._audioNextDts,v=!1;if(l&&0!==l.length&&(1!==l.length||t)){var m=0,_=null,g=0;f?(m=0,g=n.length):(m=8,g=8+n.length);var A=null;if(l.length>1&&(g-=(A=l.pop()).length),null!=this._audioStashedLastSample){var y=this._audioStashedLastSample;this._audioStashedLastSample=null,l.unshift(y),g+=y.length}null!=A&&(this._audioStashedLastSample=A);var E=l[0].dts-this._dtsBase;if(this._audioNextDts)c=E-this._audioNextDts;else if(this._audioSegmentInfoList.isEmpty())c=0,this._fillSilentAfterSeek&&!this._videoSegmentInfoList.isEmpty()&&"mp3"!==this._audioMeta.originalCodec&&(v=!0);else{var C=this._audioSegmentInfoList.getLastSampleBefore(E);if(null!=C){var w=E-(C.originalDts+C.duration);w<=3&&(w=0),c=E-(C.dts+C.duration+w)}else c=0}if(v){var b=E-c,S=this._videoSegmentInfoList.getLastSegmentBefore(E);if(null!=S&&S.beginDts<b){var k=a.default.getSilentFrame(this._audioMeta.originalCodec,this._audioMeta.channelCount);if(k){var I=S.beginDts,B=b-S.beginDts;r.default.v(this.TAG,"InsertPrefixSilentAudio: dts: "+I+", duration: "+B),l.unshift({unit:k,dts:I,pts:I}),g+=k.byteLength}}else v=!1}for(var L=[],R=0;R<l.length;R++){var O=l[R],x=O.unit,T=O.dts-this._dtsBase,D=T-c;-1===d&&(d=D);var P=0;if(R!==l.length-1)P=l[R+1].dts-this._dtsBase-c-D;else if(null!=A)P=A.dts-this._dtsBase-c-D;else P=L.length>=1?L[L.length-1].duration:Math.floor(h);var M=!1,N=null;if(P>1.5*h&&"mp3"!==this._audioMeta.codec&&this._fillAudioTimestampGap&&!o.default.safari){M=!0;var j=Math.abs(P-h),U=Math.ceil(j/h),Q=D+h;r.default.w(this.TAG,"Large audio timestamp gap detected, may cause AV sync to drift. Silent frames will be generated to avoid unsync.\ndts: "+(D+P)+" ms, expected: "+(D+Math.round(h))+" ms, delta: "+Math.round(j)+" ms, generate: "+U+" frames");var F=a.default.getSilentFrame(this._audioMeta.originalCodec,this._audioMeta.channelCount);null==F&&(r.default.w(this.TAG,"Unable to generate silent frame for "+this._audioMeta.originalCodec+" with "+this._audioMeta.channelCount+" channels, repeat last frame"),F=x),N=[];for(var G=0;G<U;G++){var V=Math.round(Q);if(N.length>0){var q=N[N.length-1];q.duration=V-q.dts}var z={dts:V,pts:V,cts:0,unit:F,size:F.byteLength,duration:0,originalDts:T,flags:{isLeading:0,dependsOn:1,isDependedOn:0,hasRedundancy:0}};N.push(z),g+=x.byteLength,Q+=h}var K=N[N.length-1];K.duration=D+P-K.dts,P=Math.round(h)}L.push({dts:D,pts:D,cts:0,unit:O.unit,size:O.unit.byteLength,duration:P,originalDts:T,flags:{isLeading:0,dependsOn:1,isDependedOn:0,hasRedundancy:0}}),M&&L.push.apply(L,N)}f?_=new Uint8Array(g):((_=new Uint8Array(g))[0]=g>>>24&255,_[1]=g>>>16&255,_[2]=g>>>8&255,_[3]=255&g,_.set(s.default.types.mdat,4));for(var X=0;X<L.length;X++){var H=L[X].unit;_.set(H,m),m+=H.byteLength}var Y=L[L.length-1];i=Y.dts+Y.duration,this._audioNextDts=i;var W=new u.MediaSegmentInfo;W.beginDts=d,W.endDts=i,W.beginPts=d,W.endPts=i,W.originalBeginDts=L[0].originalDts,W.originalEndDts=Y.originalDts+Y.duration,W.firstSample=new u.SampleInfo(L[0].dts,L[0].pts,L[0].duration,L[0].originalDts,!1),W.lastSample=new u.SampleInfo(Y.dts,Y.pts,Y.duration,Y.originalDts,!1),this._isLive||this._audioSegmentInfoList.append(W),n.samples=L,n.sequenceNumber++;var J=null;J=f?new Uint8Array:s.default.moof(n,d),n.samples=[],n.length=0;var Z={type:"audio",data:this._mergeBoxes(J,_).buffer,sampleCount:L.length,info:W};f&&p&&(Z.timestampOffset=d),this._onMediaSegment("audio",Z)}}}},{key:"_remuxVideo",value:function(e,t){if(null!=this._videoMeta){var i,n,r=e,a=r.samples,o=void 0,l=-1,c=-1;if(a&&0!==a.length&&(1!==a.length||t)){var d=8,h=null,f=8+e.length,p=null;if(a.length>1&&(f-=(p=a.pop()).length),null!=this._videoStashedLastSample){var v=this._videoStashedLastSample;this._videoStashedLastSample=null,a.unshift(v),f+=v.length}null!=p&&(this._videoStashedLastSample=p);var m=a[0].dts-this._dtsBase;if(this._videoNextDts)o=m-this._videoNextDts;else if(this._videoSegmentInfoList.isEmpty())o=0;else{var _=this._videoSegmentInfoList.getLastSampleBefore(m);if(null!=_){var g=m-(_.originalDts+_.duration);g<=3&&(g=0),o=m-(_.dts+_.duration+g)}else o=0}for(var A=new u.MediaSegmentInfo,y=[],E=0;E<a.length;E++){var C=a[E],w=C.dts-this._dtsBase,b=C.isKeyframe,S=w-o,k=C.cts,I=S+k;-1===l&&(l=S,c=I);var B=0;if(E!==a.length-1)B=a[E+1].dts-this._dtsBase-o-S;else if(null!=p)B=p.dts-this._dtsBase-o-S;else B=y.length>=1?y[y.length-1].duration:Math.floor(this._videoMeta.refSampleDuration);if(b){var L=new u.SampleInfo(S,I,B,C.dts,!0);L.fileposition=C.fileposition,A.appendSyncPoint(L)}y.push({dts:S,pts:I,cts:k,units:C.units,size:C.length,isKeyframe:b,duration:B,originalDts:w,flags:{isLeading:0,dependsOn:b?2:1,isDependedOn:b?1:0,hasRedundancy:0,isNonSync:b?0:1}})}(h=new Uint8Array(f))[0]=f>>>24&255,h[1]=f>>>16&255,h[2]=f>>>8&255,h[3]=255&f,h.set(s.default.types.mdat,4);for(var R=0;R<y.length;R++)for(var O=y[R].units;O.length;){var x=O.shift().data;h.set(x,d),d+=x.byteLength}var T=y[y.length-1];if(i=T.dts+T.duration,n=T.pts+T.duration,this._videoNextDts=i,A.beginDts=l,A.endDts=i,A.beginPts=c,A.endPts=n,A.originalBeginDts=y[0].originalDts,A.originalEndDts=T.originalDts+T.duration,A.firstSample=new u.SampleInfo(y[0].dts,y[0].pts,y[0].duration,y[0].originalDts,y[0].isKeyframe),A.lastSample=new u.SampleInfo(T.dts,T.pts,T.duration,T.originalDts,T.isKeyframe),this._isLive||this._videoSegmentInfoList.append(A),r.samples=y,r.sequenceNumber++,this._forceFirstIDR){var D=y[0].flags;D.dependsOn=2,D.isNonSync=0}var P=s.default.moof(r,l);r.samples=[],r.length=0,this._onMediaSegment("video",{type:"video",data:this._mergeBoxes(P,h).buffer,sampleCount:y.length,info:A})}}}},{key:"_mergeBoxes",value:function(e,t){var i=new Uint8Array(e.byteLength+t.byteLength);return i.set(e,0),i.set(t,e.byteLength),i}},{key:"onInitSegment",get:function(){return this._onInitSegment},set:function(e){this._onInitSegment=e}},{key:"onMediaSegment",get:function(){return this._onMediaSegment},set:function(e){this._onMediaSegment=e}}]),e}();i.default=d},{"../core/media-segment-info.js":8,"../utils/browser.js":39,"../utils/exception.js":40,"../utils/logger.js":41,"./aac-silent.js":36,"./mp4-generator.js":37}],39:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n={};!function(){var e=self.navigator.userAgent.toLowerCase(),t=/(edge)\/([\w.]+)/.exec(e)||/(opr)[\/]([\w.]+)/.exec(e)||/(chrome)[ \/]([\w.]+)/.exec(e)||/(iemobile)[\/]([\w.]+)/.exec(e)||/(version)(applewebkit)[ \/]([\w.]+).*(safari)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+).*(version)[ \/]([\w.]+).*(safari)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("trident")>=0&&/(rv)(?::| )([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(firefox)[ \/]([\w.]+)/.exec(e)||[],i=/(ipad)/.exec(e)||/(ipod)/.exec(e)||/(windows phone)/.exec(e)||/(iphone)/.exec(e)||/(kindle)/.exec(e)||/(android)/.exec(e)||/(windows)/.exec(e)||/(mac)/.exec(e)||/(linux)/.exec(e)||/(cros)/.exec(e)||[],r={browser:t[5]||t[3]||t[1]||"",version:t[2]||t[4]||"0",majorVersion:t[4]||t[2]||"0",platform:i[0]||""},s={};if(r.browser){s[r.browser]=!0;var a=r.majorVersion.split(".");s.version={major:parseInt(r.majorVersion,10),string:r.version},a.length>1&&(s.version.minor=parseInt(a[1],10)),a.length>2&&(s.version.build=parseInt(a[2],10))}r.platform&&(s[r.platform]=!0),(s.chrome||s.opr||s.safari)&&(s.webkit=!0),(s.rv||s.iemobile)&&(s.rv&&delete s.rv,r.browser="msie",s.msie=!0);s.edge&&(delete s.edge,r.browser="msedge",s.msedge=!0);s.opr&&(r.browser="opera",s.opera=!0);s.safari&&s.android&&(r.browser="android",s.android=!0);s.name=r.browser,s.platform=r.platform;for(var o in n)n.hasOwnProperty(o)&&delete n[o];Object.assign(n,s)}(),i.default=n},{}],40:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}();function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=i.RuntimeException=function(){function e(t){a(this,e),this._message=t}return n(e,[{key:"toString",value:function(){return this.name+": "+this.message}},{key:"name",get:function(){return"RuntimeException"}},{key:"message",get:function(){return this._message}}]),e}();i.IllegalStateException=function(e){function t(e){return a(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return s(t,o),n(t,[{key:"name",get:function(){return"IllegalStateException"}}]),t}(),i.InvalidArgumentException=function(e){function t(e){return a(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return s(t,o),n(t,[{key:"name",get:function(){return"InvalidArgumentException"}}]),t}(),i.NotImplementedException=function(e){function t(e){return a(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return s(t,o),n(t,[{key:"name",get:function(){return"NotImplementedException"}}]),t}()},{}],41:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n,r=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),s=e("events"),a=(n=s)&&n.__esModule?n:{default:n};var o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return r(e,null,[{key:"e",value:function(t,i){t&&!e.FORCE_GLOBAL_TAG||(t=e.GLOBAL_TAG);var n="["+t+"] > "+i;e.ENABLE_CALLBACK&&e.emitter.emit("log","error",n),e.ENABLE_ERROR&&(console.error?console.error(n):console.warn?console.warn(n):console.log(n))}},{key:"i",value:function(t,i){t&&!e.FORCE_GLOBAL_TAG||(t=e.GLOBAL_TAG);var n="["+t+"] > "+i;e.ENABLE_CALLBACK&&e.emitter.emit("log","info",n),e.ENABLE_INFO&&(console.info?console.info(n):console.log(n))}},{key:"w",value:function(t,i){t&&!e.FORCE_GLOBAL_TAG||(t=e.GLOBAL_TAG);var n="["+t+"] > "+i;e.ENABLE_CALLBACK&&e.emitter.emit("log","warn",n),e.ENABLE_WARN&&(console.warn?console.warn(n):console.log(n))}},{key:"d",value:function(t,i){t&&!e.FORCE_GLOBAL_TAG||(t=e.GLOBAL_TAG);var n="["+t+"] > "+i;e.ENABLE_CALLBACK&&e.emitter.emit("log","debug",n),e.ENABLE_DEBUG&&(console.debug?console.debug(n):console.log(n))}},{key:"v",value:function(t,i){t&&!e.FORCE_GLOBAL_TAG||(t=e.GLOBAL_TAG);var n="["+t+"] > "+i;e.ENABLE_CALLBACK&&e.emitter.emit("log","verbose",n),e.ENABLE_VERBOSE&&console.log(n)}}]),e}();o.GLOBAL_TAG="flv.js",o.FORCE_GLOBAL_TAG=!1,o.ENABLE_ERROR=!0,o.ENABLE_INFO=!0,o.ENABLE_WARN=!0,o.ENABLE_DEBUG=!0,o.ENABLE_VERBOSE=!0,o.ENABLE_CALLBACK=!1,o.emitter=new a.default,i.default=o},{events:2}],42:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),r=a(e("events")),s=a(e("./logger.js"));function a(e){return e&&e.__esModule?e:{default:e}}var o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return n(e,null,[{key:"getConfig",value:function(){return{globalTag:s.default.GLOBAL_TAG,forceGlobalTag:s.default.FORCE_GLOBAL_TAG,enableVerbose:s.default.ENABLE_VERBOSE,enableDebug:s.default.ENABLE_DEBUG,enableInfo:s.default.ENABLE_INFO,enableWarn:s.default.ENABLE_WARN,enableError:s.default.ENABLE_ERROR,enableCallback:s.default.ENABLE_CALLBACK}}},{key:"applyConfig",value:function(e){s.default.GLOBAL_TAG=e.globalTag,s.default.FORCE_GLOBAL_TAG=e.forceGlobalTag,s.default.ENABLE_VERBOSE=e.enableVerbose,s.default.ENABLE_DEBUG=e.enableDebug,s.default.ENABLE_INFO=e.enableInfo,s.default.ENABLE_WARN=e.enableWarn,s.default.ENABLE_ERROR=e.enableError,s.default.ENABLE_CALLBACK=e.enableCallback}},{key:"_notifyChange",value:function(){var t=e.emitter;if(t.listenerCount("change")>0){var i=e.getConfig();t.emit("change",i)}}},{key:"registerListener",value:function(t){e.emitter.addListener("change",t)}},{key:"removeListener",value:function(t){e.emitter.removeListener("change",t)}},{key:"addLogListener",value:function(t){s.default.emitter.addListener("log",t),s.default.emitter.listenerCount("log")>0&&(s.default.ENABLE_CALLBACK=!0,e._notifyChange())}},{key:"removeLogListener",value:function(t){s.default.emitter.removeListener("log",t),0===s.default.emitter.listenerCount("log")&&(s.default.ENABLE_CALLBACK=!1,e._notifyChange())}},{key:"forceGlobalTag",get:function(){return s.default.FORCE_GLOBAL_TAG},set:function(t){s.default.FORCE_GLOBAL_TAG=t,e._notifyChange()}},{key:"globalTag",get:function(){return s.default.GLOBAL_TAG},set:function(t){s.default.GLOBAL_TAG=t,e._notifyChange()}},{key:"enableAll",get:function(){return s.default.ENABLE_VERBOSE&&s.default.ENABLE_DEBUG&&s.default.ENABLE_INFO&&s.default.ENABLE_WARN&&s.default.ENABLE_ERROR},set:function(t){s.default.ENABLE_VERBOSE=t,s.default.ENABLE_DEBUG=t,s.default.ENABLE_INFO=t,s.default.ENABLE_WARN=t,s.default.ENABLE_ERROR=t,e._notifyChange()}},{key:"enableDebug",get:function(){return s.default.ENABLE_DEBUG},set:function(t){s.default.ENABLE_DEBUG=t,e._notifyChange()}},{key:"enableVerbose",get:function(){return s.default.ENABLE_VERBOSE},set:function(t){s.default.ENABLE_VERBOSE=t,e._notifyChange()}},{key:"enableInfo",get:function(){return s.default.ENABLE_INFO},set:function(t){s.default.ENABLE_INFO=t,e._notifyChange()}},{key:"enableWarn",get:function(){return s.default.ENABLE_WARN},set:function(t){s.default.ENABLE_WARN=t,e._notifyChange()}},{key:"enableError",get:function(){return s.default.ENABLE_ERROR},set:function(t){s.default.ENABLE_ERROR=t,e._notifyChange()}}]),e}();o.emitter=new r.default,i.default=o},{"./logger.js":41,events:2}],43:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}();var r=function(){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t)}return n(t,null,[{key:"install",value:function(){Object.setPrototypeOf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Object.assign=Object.assign||function(e){if(void 0===e||null===e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),i=1;i<arguments.length;i++){var n=arguments[i];if(void 0!==n&&null!==n)for(var r in n)n.hasOwnProperty(r)&&(t[r]=n[r])}return t},"function"!=typeof self.Promise&&e("es6-promise").polyfill()}}]),t}();r.install(),i.default=r},{"es6-promise":1}],44:[function(e,t,i){"use strict";function n(e,t,i){var n=e;if(t+i<n.length){for(;i--;)if(128!=(192&n[++t]))return!1;return!0}return!1}Object.defineProperty(i,"__esModule",{value:!0}),i.default=function(e){for(var t=[],i=e,r=0,s=e.length;r<s;)if(i[r]<128)t.push(String.fromCharCode(i[r])),++r;else{if(i[r]<192);else if(i[r]<224){if(n(i,r,1)){var a=(31&i[r])<<6|63&i[r+1];if(a>=128){t.push(String.fromCharCode(65535&a)),r+=2;continue}}}else if(i[r]<240){if(n(i,r,2)){var o=(15&i[r])<<12|(63&i[r+1])<<6|63&i[r+2];if(o>=2048&&55296!=(63488&o)){t.push(String.fromCharCode(65535&o)),r+=3;continue}}}else if(i[r]<248&&n(i,r,3)){var u=(7&i[r])<<18|(63&i[r+1])<<12|(63&i[r+2])<<6|63&i[r+3];if(u>65536&&u<1114112){u-=65536,t.push(String.fromCharCode(u>>>10|55296)),t.push(String.fromCharCode(1023&u|56320)),r+=4;continue}}t.push(String.fromCharCode(65533)),++r}return t.join("")}},{}]},{},[21])(21)},e.exports=n()}).call(t,i("DuR2"))},INCx:function(e,t,i){e.exports={default:i("q3gF"),__esModule:!0}},IYKl:function(e,t,i){"use strict";var n=i("3Cgm"),r=[],s=[],a=n.makeRequestCallFromTimer(function(){if(s.length)throw s.shift()});function o(e){var t;(t=r.length?r.pop():new u).task=e,n(t)}function u(){this.task=null}e.exports=o,u.prototype.call=function(){try{this.task.call()}catch(e){o.onerror?o.onerror(e):(s.push(e),a())}finally{this.task=null,r[r.length]=this}}},Imbr:function(e,t,i){"use strict";var n=i("0S+L");e.exports=n({initialize:function(){this._index={}},add:function(e){var t=void 0!==e.id?e.id:e;return!this._index.hasOwnProperty(t)&&(this._index[t]=e,!0)},forEach:function(e,t){for(var i in this._index)this._index.hasOwnProperty(i)&&e.call(t,this._index[i])},isEmpty:function(){for(var e in this._index)if(this._index.hasOwnProperty(e))return!1;return!0},member:function(e){for(var t in this._index)if(this._index[t]===e)return!0;return!1},remove:function(e){var t=void 0!==e.id?e.id:e,i=this._index[t];return delete this._index[t],i},toArray:function(){var e=[];return this.forEach(function(t){e.push(t)}),e}})},JWAb:function(e,t,i){var n=i("kM2E");n(n.S,"Math",{trunc:function(e){return(e>0?Math.floor:Math.ceil)(e)}})},KJ3N:function(e,t,i){"use strict";e.exports={}},"MDI/":function(e,t,i){e.exports=i.p+"static/img/wxshare.65ab8ba.png"},MrjB:function(e,t,i){e.exports=i.p+"static/img/player_loading.bc17e31.gif"},NwVv:function(e,t,i){"use strict";(function(t){var n=i("0S+L"),r=i("BhNM"),s=i("koVz"),a=i("5//h"),o=i("Rvdv"),u=a(n(i("Zki9"),{encode:function(e){return o(e)},request:function(e){var i,n=this.endpoint.href,r=this;if(t.XMLHttpRequest)i=new XMLHttpRequest;else{if(!t.ActiveXObject)return this._handleError(e);i=new ActiveXObject("Microsoft.XMLHTTP")}i.open("POST",n,!0),i.setRequestHeader("Content-Type","application/json"),i.setRequestHeader("Pragma","no-cache"),i.setRequestHeader("X-Requested-With","XMLHttpRequest");var a=this._dispatcher.headers;for(var o in a)a.hasOwnProperty(o)&&i.setRequestHeader(o,a[o]);var u=function(){i.abort()};return void 0!==t.onbeforeunload&&s.Event.on(t,"beforeunload",u),i.onreadystatechange=function(){if(i&&4===i.readyState){var n=null,a=i.status,o=i.responseText,l=a>=200&&a<300||304===a||1223===a;if(void 0!==t.onbeforeunload&&s.Event.detach(t,"beforeunload",u),i.onreadystatechange=function(){},i=null,!l)return r._handleError(e);try{n=JSON.parse(o)}catch(e){}n?r._receive(n):r._handleError(e)}},i.send(this.encode(e)),i}}),{isUsable:function(e,t,i,n){var s="ReactNative"===navigator.product||r.isSameOrigin(t);i.call(n,s)}});e.exports=u}).call(t,i("DuR2"))},O0Qs:function(e,t){e.exports="data:image/png;base64,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"},Ouxc:function(e,t,i){e.exports=i.p+"static/img/forbiddenWatch.4edf6d4.png"},P0Z6:function(e,t,i){"use strict";var n=i("Rvdv"),r={LOG_LEVELS:{fatal:4,error:3,warn:2,info:1,debug:0},writeLog:function(e,t){var i=r.logger||(r.wrapper||r).logger;if(i){var s=Array.prototype.slice.apply(e),a="[Faye",o=this.className,u=s.shift().replace(/\?/g,function(){try{return n(s.shift())}catch(e){return"[Object]"}});o&&(a+="."+o),a+="] ","function"==typeof i[t]?i[t](a+u):"function"==typeof i&&i(a+u)}}};for(var s in r.LOG_LEVELS)!function(e){r[e]=function(){this.writeLog(arguments,e)}}(s);e.exports=r},"Pj/E":function(e,t){},Pp7d:function(e,t){e.exports="data:image/png;base64,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"},Q3dD:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAAXNSR0IArs4c6QAAAttJREFUSA29l71rFEEYxj0VkoBFPkAwYHOCtsJpE1KlVgheZ+E/IBpCJI2WsbBJ/oQQsLBRTmvxulQJ1mepoCj4ARESQV1/v7mZZDn3LnvneQ88O7PzPvO+O7Oz78xWTpRAlmUnkc3BRViDs5EZ5Qf4Hu7A53C7Uqn8phwcBByHq/AjLAu19hnvFbnSzUjHOrYNeD5qDigb0JG9gTegeAYvwivQGUkB31FfZvRPKY8HASvwIczjPjeT+d7cP5IdbZO0qc1jjZuuAwz9FcAnuV5b1F/A9XwA67RdkgXt67GPfRP02T04xjTSn9SXYoAq9SY81Rmk815N1FZj3yXu9SXWOvXhHkM9mNuXu4WiARpxZ/AE180RaHX1vo3WrSPLcGr4TdNujLD4/D6FI0yrdwpjmKpgKbhgH4N3IscKJIdN0ddUbDBGmE0Xk8FNAmfhAzgDL/MZLFAWgj7TGD5H4wzaL4VCGtE2KV5D9b7nT/Cchnko9mH4ZCh7LiTs0zDBh+gKRMEXpTNpDDHvaP3oRYMn/2aF8pflMJB8UX7FXyP6XDSwuVeYkf43UoyagU34otUuSl1v5VQ3mTrXSiFzOqumWjHrO96DYhOaBv/KRm1t+4p9Ah7AsniM0Cyn700o9hxxv3CxnO63U4c+c8St8AxZdq3D2PUW/TI0Ff6A9+CFHvQzDUBzHYpW+M7a9WwlCcqU9DkDJ8pokwb9SozVdKp3o8H9tDT4PL7D/dId2sKrUb8zUALpJxgjLEwgLpJtaBrzXdxGGFIm9QU4DLzEZ0qZbhDGMmbIp56REtz4q8EwhIu+oD4TVg/d0jLybTEffPQHgRSdkeePPmHfpM2pegV77lj6UBO14VVRP/7oEzuab0d/2MsFTyPnOQKGfrzteuQkXJ0H2YDpSJQ/0LuTaRce2N1Y/u1Ar6cEgrvaR/sLk4JbEtzUOgc9rdSge3jax/1hk6ZeTxilftr+AIpC3amndCjcAAAAAElFTkSuQmCC"},R2v8:function(e,t,i){"use strict";e.exports={CHANNEL_NAME:/^\/(((([a-z]|[A-Z])|[0-9])|(\-|\_|\!|\~|\(|\)|\$|\@)))+(\/(((([a-z]|[A-Z])|[0-9])|(\-|\_|\!|\~|\(|\)|\$|\@)))+)*$/,CHANNEL_PATTERN:/^(\/(((([a-z]|[A-Z])|[0-9])|(\-|\_|\!|\~|\(|\)|\$|\@)))+)*\/\*{1,2}$/,ERROR:/^([0-9][0-9][0-9]:(((([a-z]|[A-Z])|[0-9])|(\-|\_|\!|\~|\(|\)|\$|\@)| |\/|\*|\.))*(,(((([a-z]|[A-Z])|[0-9])|(\-|\_|\!|\~|\(|\)|\$|\@)| |\/|\*|\.))*)*:(((([a-z]|[A-Z])|[0-9])|(\-|\_|\!|\~|\(|\)|\$|\@)| |\/|\*|\.))*|[0-9][0-9][0-9]::(((([a-z]|[A-Z])|[0-9])|(\-|\_|\!|\~|\(|\)|\$|\@)| |\/|\*|\.))*)$/,VERSION:/^([0-9])+(\.(([a-z]|[A-Z])|[0-9])(((([a-z]|[A-Z])|[0-9])|\-|\_))*)*$/}},Rvdv:function(e,t,i){"use strict";e.exports=function(e){return JSON.stringify(e,function(e,t){return this[e]instanceof Array?this[e]:t})}},"Tg/G":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACEAAAAeCAYAAACiyHcXAAAAAXNSR0IArs4c6QAAAzhJREFUSA2Vl0tsDlEUx/tVW1oVG/EoEQlJw4aFHRF2Fpp4FUE0bYmIpAsRyyYi0cQrIiQkFiKpIGGFpCE03ivCQuiCpDYWaIV66+d3pnO+3rlz752Zk/x7zj3n/z/zOne+aVVVTiuXy4fADVCfJYEzFxwHz8E7cA0sztIF6zQ4CNRuE0zyCahtBz+UbPhunyYzT5NdRiMN+wgm2mJyW5Rg+WM2t9CaZh1WQ13eJKjTZsRN4LMWDX9SOYU9TSaDOeCC0dAOl2ljCj12kfVprRf2iDeAr46mZmqf2ZjCgFkkfgFKJseOqTfauWhNYQ8YBba9J3EYyNAdMMWsq4Gt+Uuu1eSZMbV2MAiSQ05iM7CbkYpsuTQhmmI201zMsd0fEusc/B3k/8XkNZU6iYXgW1xwuWkVsiNAMOQSkfsNWlRCvBXoCRCW26MaQQk8kkzAFmgjl0fXH9D+otYCZAvLYzJtpZ5Em5n1xMG9juaiRxdKf6RYK89YhupNiBnXZFa2ee6CXKVcbVHr0ruw1qGU2XgJPli1aNDINYMJ0gDfCuS5F7UrCMa2MMFZQ/2duBPUxAeQu7QRyG1T02d6mYRsM11rPcvLhXSD6CLkODKQr/HNYBi0lEqlh/iEwZlP4g6Ylyj4F/co9YKlYAloAEOgH1ziGAP4ceMAX4DY3vFsOqLeEbGy/9yHkvlznzgCgk9x35mJgrWAswJkDd8zOFMtafYSkQh/ZjOjIZSPE5+NUJiVp0+Kg/AIGEkVjAR1mZ1TIMuuQqg1pPlCRE1AHolTTF52yHmQ125BLDYTcqqIZrhOmXwN6AVFTYaz+GzYJ0GTOnA9cHQZ0jOBurzsZtt9c68R1wO5rT6TF9R6aYiXF4/PBiksyn1gJSJqBHd9XeN8p/LFkwvdEfmJX2XygzHkBvAYhGy/3QSyDG9o+8pvy9h3gy221xBPgJD12BpdI5JH+DQglg8Z5wbQHpGH9CrQ5FyC7FignQ7eOnrICbQ5JOkUxAeOBpKSl1B1WpHOwJPPxGGgNkqQmKG0yshAlk992/pIVP7JMejeEP5qIDtITmC3l+grINoEnoABcBSk/t3zac08up0g1x34DyJPrDmyjfF7AAAAAElFTkSuQmCC"},Tkei:function(e,t){e.exports="data:image/png;base64,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"},Ugn1:function(e,t,i){"use strict";var n=function(e){var t,i,r;if(e instanceof Array){for(t=[],i=e.length;i--;)t[i]=n(e[i]);return t}if("object"==typeof e){t=null===e?null:{};for(r in e)t[r]=n(e[r]);return t}return e};e.exports=n},XgCd:function(e,t,i){"use strict";var n=String.prototype.replace,r=/%20/g;e.exports={default:"RFC3986",formatters:{RFC1738:function(e){return n.call(e,r,"+")},RFC3986:function(e){return e}},RFC1738:"RFC1738",RFC3986:"RFC3986"}},XnML:function(e,t,i){"use strict";var n=i("0S+L"),r=i("R2v8"),s=n({initialize:function(e,t,i){this.code=e,this.params=Array.prototype.slice.call(t),this.message=i},toString:function(){return this.code+":"+this.params.join(",")+":"+this.message}});s.parse=function(e){if(e=e||"",!r.ERROR.test(e))return new s(null,[],e);var t=e.split(":"),i=parseInt(t[0]),n=t[1].split(",");e=t[2];return new s(i,n,e)};var a={versionMismatch:[300,"Version mismatch"],conntypeMismatch:[301,"Connection types not supported"],extMismatch:[302,"Extension mismatch"],badRequest:[400,"Bad request"],clientUnknown:[401,"Unknown client"],parameterMissing:[402,"Missing required parameter"],channelForbidden:[403,"Forbidden channel"],channelUnknown:[404,"Unknown channel"],channelInvalid:[405,"Invalid channel"],extUnknown:[406,"Unknown extension"],publishFailed:[407,"Failed to publish"],serverError:[500,"Internal server error"]};for(var o in a)!function(e){s[e]=function(){return new s(a[e][0],arguments,a[e][1]).toString()}}(o);e.exports=s},ZRJO:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAAAXNSR0IArs4c6QAABHdJREFUaAXVWj1sFFcQnnm7jn8UCts0KI0tuaCOiZIyKQiREoTTuAE7QihGVJgUVIniCJpQxKUlJECcSWOMgoVo7IK0UYCaAgmayI2xC4N/wt1O5ntkV3vnvd293b275TW3u+/NvO97b+bt7MwxFdDk0qX+2ubmcSHvC/LoqBCNMdMgiRyy6pm3RWiLiZ6ToWdM5pEzNLTG8/O7eadXndmaXLgwWNt9fUpqdIqYvhSRgVY0MfMOCa2yQytO/4crvLCw1Yq8P7ZlAjIzM1Dd3/1BJ7+soN+tsK8t46+S2dZFuOb29v/G16/vtKImNQFZWnLePnxwjj2ZUxM50sokaccqmHUxPNfz9ckbPDlZSyOXioBMT39UJbmvK34sjdK8Y3RHHrvEE1yp/JOkK5HAv2enPuWq/NGuVW8G0O6Gy99+cGvxr2Zj8NzEdVanp89wjf7sNHhgwpyYGxjiMDbdAQh64i3GCXeqz7CZciuVO1HzRRKwZoOVF+mLEur0M/WJPXHo8yhzOkDAOqx4f3fDbOIWBj7hsvmk0bHrfABHpT1t2nRMxgFM6sOCWmyKMTy2jgDO+U4dlWEQaa+BDRjD4wMTsm/Y3Z3nZTOdMFhcW1PqHxjz39jBDiA8KDt4ELCmhFDm/2YJIDDTnsv+wyy/zsVZosHBLKKtyyAOA2ZtloCNKnMGZmZ8nNxfr5E5cUL3ObDM1sGlkFBfOATMAQEbEqcQTBrCfX3knD5D7twvxCMjScNz9fuYGR8j1VcbG8qqpXi+cfaeSv1LWzyPvLU18pbvEu3vNw7PfY/vCXf48GFjv6Rygo9Cw8aQo+YEs+KPx6OG5HqGBQd2Yz8Dc6mKF+ahIXJnZ6kdTg7sBt+w8RCK6W2Lkyt23QEaKwZispainRzYjc0eJM9d6AgeHSVHTyqjJxb19mbWDewmSH1kVpNNsBAn1/dBEEpkg1GUlBpDxqbfzprSEBnOKJ9ZrJD3hGJ3kTFTFB0lIC9eUO3WTZKXLzMvAASB3dWoBSF0R04i2dsj794yeaurdvZc6FUY2F3kKvVd8FVeZUny3pMnVKvcJtrKlEGMVq/YdQfMI6GaxsLtabK5aYHL06eFTwDsLrLE8mpjJ28w14iuECdtVBq6RzAH7MamuDVLHOrLfWmddO5n8n7XVE4bIlELEJltTc+7uEGKW+PribzIi3bSODzAjH5LAPl5efNaixDZ0+VtcdImDNR8toEZ3XoSvWtvv5v6UTy54t+X+ZcN/9Rze/EqMAahhC0uaParzMCBTVd8HVh9nAEB5FlQXPA7yvoLjH5OCBgDArixlREtLuC6jE1t/zEwhrHVEUBZx1ZGSmhK1nRQtWkoPdURADNkf0UrI8p2L8y0m9fAYjFFlJwOEABQ5OGZ+Ptugg7PDSxRtQGMiSSADlREUBnp5k5g7rjqDHAG7wHcRLWyF/kSCYBUmcusTU0ovBtwbPebk5+R4fM4DcJ9RV5b3ToH5mosJTWbJ9UOhIXf278ahEng+r39s0cjEUumi3+3+Q/EdQM0Ndkz/wAAAABJRU5ErkJggg=="},Zki9:function(e,t,i){"use strict";(function(t){var n=i("0S+L"),r=i("KJ3N").Cookie,s=i("xuIc"),a=i("BhNM"),o=i("wype"),u=i("5//h"),l=i("P0Z6"),c=i("rW0A"),d=i("EKQv"),h=u(n({className:"Transport",DEFAULT_PORTS:{"http:":80,"https:":443,"ws:":80,"wss:":443},MAX_DELAY:0,batching:!0,initialize:function(e,t){this._dispatcher=e,this.endpoint=t,this._outbox=[],this._proxy=u({},this._dispatcher.proxy),this._proxy.origin||(this._proxy.origin=this._findProxy())},close:function(){},encode:function(e){return""},sendMessage:function(e){return this.debug("Client ? sending message to ?: ?",this._dispatcher.clientId,a.stringify(this.endpoint),e),this.batching?(this._outbox.push(e),this._flushLargeBatch(),e.channel===d.HANDSHAKE?this._publish(.01):(e.channel===d.CONNECT&&(this._connectMessage=e),this._publish(this.MAX_DELAY))):s.resolve(this.request([e]))},_makePromise:function(){var e=this;this._requestPromise=this._requestPromise||new s(function(t){e._resolvePromise=t})},_publish:function(e){return this._makePromise(),this.addTimeout("publish",e,function(){this._flush(),delete this._requestPromise},this),this._requestPromise},_flush:function(){this.removeTimeout("publish"),this._outbox.length>1&&this._connectMessage&&(this._connectMessage.advice={timeout:0}),this._resolvePromise(this.request(this._outbox)),this._connectMessage=null,this._outbox=[]},_flushLargeBatch:function(){if(!(this.encode(this._outbox).length<this._dispatcher.maxRequestSize)){var e=this._outbox.pop();this._makePromise(),this._flush(),e&&this._outbox.push(e)}},_receive:function(e){if(e){e=[].concat(e),this.debug("Client ? received from ? via ?: ?",this._dispatcher.clientId,a.stringify(this.endpoint),this.connectionType,e);for(var t=0,i=e.length;t<i;t++)this._dispatcher.handleResponse(e[t])}},_handleError:function(e,t){e=[].concat(e),this.debug("Client ? failed to send to ? via ?: ?",this._dispatcher.clientId,a.stringify(this.endpoint),this.connectionType,e);for(var i=0,n=e.length;i<n;i++)this._dispatcher.handleError(e[i])},_getCookies:function(){var e=this._dispatcher.cookies,t=a.stringify(this.endpoint);return e?o.map(e.getCookiesSync(t),function(e){return e.cookieString()}).join("; "):""},_storeCookies:function(e){var t,i=this._dispatcher.cookies,n=a.stringify(this.endpoint);if(e&&i)for(var s=0,o=(e=[].concat(e)).length;s<o;s++)t=r.parse(e[s]),i.setCookieSync(t,n)},_findProxy:function(){if(void 0!==t){var e=this.endpoint.protocol;if(e){var i,n,r=e.replace(/:$/,"").toLowerCase()+"_proxy",s=r.toUpperCase(),a=Object({NODE_ENV:"production"});return"http_proxy"===r&&a.REQUEST_METHOD?(1===(i=Object.keys(a).filter(function(e){return/^http_proxy$/i.test(e)})).length?i[0]===r&&void 0===a[s]&&(n=a[r]):i.length>1&&(n=a[r]),n=n||a["CGI_"+s]):(n=a[r]||a[s])&&!a[r]&&console.warn("The environment variable "+s+" is discouraged. Use "+r+"."),n}}}}),{get:function(e,t,i,n,r){var s=e.endpoint;o.asyncEach(this._transports,function(s,a){var u=s[0],l=s[1],c=e.endpointFor(u);return o.indexOf(i,u)>=0?a():o.indexOf(t,u)<0?(l.isUsable(e,c,function(){}),a()):void l.isUsable(e,c,function(t){if(!t)return a();var i=l.hasOwnProperty("create")?l.create(e,c):new l(e,c);n.call(r,i)})},function(){throw new Error("Could not find a usable connection type for "+a.stringify(s))})},register:function(e,t){this._transports.push([e,t]),t.prototype.connectionType=e},getConnectionTypes:function(){return o.map(this._transports,function(e){return e[0]})},_transports:[]});u(h.prototype,l),u(h.prototype,c),e.exports=h}).call(t,i("W2nU"))},amkp:function(e,t,i){"use strict";var n=function(e,t){this.message=e,this.options=t,this.attempts=0};i("5//h")(n.prototype,{getTimeout:function(){return this.options.timeout},getInterval:function(){return this.options.interval},isDeliverable:function(){var e=this.options.attempts,t=this.attempts,i=this.options.deadline,n=(new Date).getTime();return!(void 0!==e&&t>=e)&&!(void 0!==i&&n>i)},send:function(){this.attempts+=1},succeed:function(){},fail:function(){},abort:function(){}}),e.exports=n},"c/Tr":function(e,t,i){e.exports={default:i("5zde"),__esModule:!0}},dNdw:function(e,t){var i="function"==typeof Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)};function n(){}e.exports=n,n.prototype.emit=function(e){if("error"===e&&(!this._events||!this._events.error||i(this._events.error)&&!this._events.error.length))throw arguments[1]instanceof Error?arguments[1]:new Error("Uncaught, unspecified 'error' event.");if(!this._events)return!1;var t=this._events[e];if(!t)return!1;if("function"==typeof t){switch(arguments.length){case 1:t.call(this);break;case 2:t.call(this,arguments[1]);break;case 3:t.call(this,arguments[1],arguments[2]);break;default:var n=Array.prototype.slice.call(arguments,1);t.apply(this,n)}return!0}if(i(t)){n=Array.prototype.slice.call(arguments,1);for(var r=t.slice(),s=0,a=r.length;s<a;s++)r[s].apply(this,n);return!0}return!1},n.prototype.addListener=function(e,t){if("function"!=typeof t)throw new Error("addListener only takes instances of Function");return this._events||(this._events={}),this.emit("newListener",e,t),this._events[e]?i(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,this},n.prototype.on=n.prototype.addListener,n.prototype.once=function(e,t){var i=this;return i.on(e,function n(){i.removeListener(e,n),t.apply(this,arguments)}),this},n.prototype.removeListener=function(e,t){if("function"!=typeof t)throw new Error("removeListener only takes instances of Function");if(!this._events||!this._events[e])return this;var n=this._events[e];if(i(n)){var r=function(e,t){if(e.indexOf)return e.indexOf(t);for(var i=0;i<e.length;i++)if(t===e[i])return i;return-1}(n,t);if(r<0)return this;n.splice(r,1),0==n.length&&delete this._events[e]}else this._events[e]===t&&delete this._events[e];return this},n.prototype.removeAllListeners=function(e){return 0===arguments.length?(this._events={},this):(e&&this._events&&this._events[e]&&(this._events[e]=null),this)},n.prototype.listeners=function(e){return this._events||(this._events={}),this._events[e]||(this._events[e]=[]),i(this._events[e])||(this._events[e]=[this._events[e]]),this._events[e]}},eVwM:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAAAXNSR0IArs4c6QAAAwdJREFUOBGlVd1Lk2EU/z3vx9ym20pJS81KIUsLLCRJIYIEoS9U+rjL2267WHXVVWFkEfQHRDeREZUZXfUvmEImptO5iCx0fTg33d7PznnbO3ObCHXg7DzvOef5Pec5H88EipBt2yqpu7PcSrI66zZPcoR4iFkIoWf1GwsC6yGeId6M2KdnQyQySsR3NkMpYuc9kgusuAuSt2Hb4czUBJKvBqF/jsGyrL/Ma0tJAMLrR2nXWfjbj4elsiAbr/IPmUA4TugvrOQyFm5cQertMMzlBOshk90BIGnaxLyBSFEUKA2NqLz5AL7DbaRQeymnL/maXIABdrJSSWhz07CXl/gUKHScFAjBc+goPO0noNTUQSYgjkIyDeixWRg/4rB0g7cPMBZfmavZwBopFELofB9SsgLtwyjkUDl8F3rha++A7C9DJhpB8vFTaO/HoFbXItDVA+++AxAejsnB6HYBWQE7o0EObEFZ32WI+CKs0iD8R/bT9UdhrkbgazsGJbQLRiwGpbwCepLSomUoD5Rrzg0Fx4DcZw5Z6RUkXg/C/B6Ht7kFwYuXIG2tgBabgpGIwVPbAe/BFiTmokgMDyITi0Kp3AGldg9F6WGMVgZ0m5aSaMFaXIA2/g4iOo30zt3wnzkJoZZAIobqgTY1Ce3Nc2QmxqBZVCVdg3BK68RUzYA5oirBIjYMA+JnHEvPHkGu2gZPUyfUGrrZ1wx+PXmI1Y/jsNNpah0f9YkAwf5pF5IMyOO0l3gd6eRlz0aweO8WSpqaAZ8XZuwT9Mgk9JUUcp28bhfmGZBnswCQ/UxDpwLMwPr2hZIuw0qvwjLdTmSPAhrhg3jQixJfhckkIJN6dBMwdh1yAWf5i4mnI59YU6jN9wJjDEnZJyjMZkENzUleK1rBppzC9bEkCYKYKMxYzopnkBQDUpAmhQZe3V5DuO6WHEZuwRahqgh0noK3vpF8pbtZDKfKruN1QX1WevpcWG1sdubaNeRL5yiKSqmrp8auuo/+/mv5PrlvyuF/PbBF75V9gf7pL+A32QWfiZ8/3WsAAAAASUVORK5CYII="},eh5f:function(e,t,i){"use strict";var n=i("0S+L"),r=i("5//h"),s=i("skKZ"),a=n({initialize:function(e,t,i,n){this._client=e,this._channels=t,this._callback=i,this._context=n,this._cancelled=!1},withChannel:function(e,t){return this._withChannel=[e,t],this},apply:function(e,t){var i=t[0];this._callback&&this._callback.call(this._context,i.data),this._withChannel&&this._withChannel[0].call(this._withChannel[1],i.channel,i.data)},cancel:function(){this._cancelled||(this._client.unsubscribe(this._channels,this),this._cancelled=!0)},unsubscribe:function(){this.cancel()}});r(a.prototype,s),e.exports=a},fBQ2:function(e,t,i){"use strict";var n=i("evD5"),r=i("X8DO");e.exports=function(e,t,i){t in e?n.f(e,t,r(0,i)):e[t]=i}},frzn:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i("INCx"),r=i.n(n),s=i("Gu7T"),a=i.n(s),o=i("//Fk"),u=i.n(o),l=i("d7EF"),c=i.n(l),d=i("Xxa5"),h=i.n(d),f=i("exGp"),p=i.n(f),v=i("zLXo"),m=i.n(v),_=i("IEpp"),g=i.n(_),A=i("mw3O"),y=i.n(A),E=i("ILD9"),C=i.n(E),w=i("w0IS"),b=i("2Uyi"),S="wx04d0d114a67b299f",k=i("woOf"),I=i.n(k),B={};!function(){var e=self.navigator.userAgent.toLowerCase(),t=/(edge)\/([\w.]+)/.exec(e)||/(opr)[\/]([\w.]+)/.exec(e)||/(chrome)[ \/]([\w.]+)/.exec(e)||/(iemobile)[\/]([\w.]+)/.exec(e)||/(version)(applewebkit)[ \/]([\w.]+).*(safari)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+).*(version)[ \/]([\w.]+).*(safari)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("trident")>=0&&/(rv)(?::| )([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(firefox)[ \/]([\w.]+)/.exec(e)||[],i=/(ipad)/.exec(e)||/(ipod)/.exec(e)||/(windows phone)/.exec(e)||/(iphone)/.exec(e)||/(kindle)/.exec(e)||/(android)/.exec(e)||/(windows)/.exec(e)||/(mac)/.exec(e)||/(linux)/.exec(e)||/(cros)/.exec(e)||[],n={browser:t[5]||t[3]||t[1]||"",version:t[2]||t[4]||"0",majorVersion:t[4]||t[2]||"0",platform:i[0]||""},r={};if(n.browser){r[n.browser]=!0;var s=n.majorVersion.split(".");r.version={major:parseInt(n.majorVersion,10),string:n.version},s.length>1&&(r.version.minor=parseInt(s[1],10)),s.length>2&&(r.version.build=parseInt(s[2],10))}n.platform&&(r[n.platform]=!0),(r.chrome||r.opr||r.safari)&&(r.webkit=!0),(r.rv||r.iemobile)&&(r.rv&&delete r.rv,n.browser="msie",r.msie=!0);r.edge&&(delete r.edge,n.browser="msedge",r.msedge=!0);r.opr&&(n.browser="opera",r.opera=!0);r.safari&&r.android&&(n.browser="android",r.android=!0);r.name=n.browser,r.platform=n.platform;for(var a in B)B.hasOwnProperty(a)&&delete B[a];I()(B,r)}();var L=B,R=i("/9V0"),O={props:{creator:Object,userInfo:{type:Object},display:{type:Boolean}},data:function(){return{marqueeTimeId:null,marqueeEvent:function(){},marqueeLock:!0,textureId:null,textureEvents:function(){},textureLock:!0,switchConf:{},affirm:!1}},computed:{watermarkText:function(){return this.creator?this.creator.nickname+"_"+this.creator.uid:""},textureText:function(){return this.userInfo?this.userInfo.nickname+"_"+this.userInfo.uid:""}},watch:{creator:function(){var e=this;return p()(h.a.mark(function t(){return h.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.initData();case 2:case"end":return t.stop()}},t,e)}))()},display:function(e){var t=this;return p()(h.a.mark(function i(){return h.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:e?t.$nextTick(function(){var e,i,n,r,s,a,o,u,l,c,d,h,f,p,v,m;t.switchConf.marquee&&(t.marqueeLock&&(t.marqueeEvent=(e=t.$refs,i=e.watermarkContainer,n=i.clientHeight,r=i.clientWidth,s=e.marquee,a=n-s.clientHeight,o=r-s.clientWidth,u=function(){var e=t.getRndInteger(0,a),i=t.getRndInteger(0,o);s.style.cssText="left: "+i+"px; top: "+e+"px;"},function(){var e=setInterval(u,1e4);return u(),t.$once("hook:beforeDestory",function(){null!==e&&clearInterval(e)}),e}),t.marqueeLock=!1),t.marqueeTimeId=t.marqueeEvent()),t.switchConf.texture&&(t.textureLock&&(t.textureEvents=(l=t.$refs,c=l.texture,d=l.textureText,h=0,f=c.clientWidth,p=d.offsetLeft,v=f-p,m=d.clientWidth+p,function(){var e=setInterval(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3,t=h+e;h=t>=v?-m:t,d.style.transform="translateX("+h+"px)"},30);return t.$once("hook:beforeDestory",function(){null!==e&&clearInterval(e)}),e}),t.textureLock=!1),t.textureId=t.textureEvents())}):(t.switchConf.marquee&&clearInterval(t.marqueeTimeId),t.switchConf.texture&&clearInterval(t.textureId));case 1:case"end":return i.stop()}},i,t)}))()}},methods:{initData:function(){var e=this;return p()(h.a.mark(function t(){var i,n,r,s;return h.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!1!==Boolean(e.creator)){t.next=3;break}return t.abrupt("return");case 3:return i=e.creator.user_id,t.next=6,w.a.get("/api/v3/system/switch",{params:{include:"video_watermark_switch",user_id:i}});case 6:n=t.sent,r=n.video_watermark_switch,s=JSON.parse(r),e.switchConf=s,e.affirm=s.marquee||s.texture||s.watermark,t.next=16;break;case 13:t.prev=13,t.t0=t.catch(0),console.log(t.t0);case 16:case"end":return t.stop()}},t,e,[[0,13]])}))()},getRndInteger:function(e,t){return Math.floor(Math.random()*(t-e+1))+e}},beforeDestroy:function(){clearInterval(this.marqueeTimeId),clearInterval(this.textureId)}},x={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{directives:[{name:"show",rawName:"v-show",value:e.display&&e.affirm,expression:"display && affirm"}],ref:"watermarkContainer",staticClass:"watermark-container"},[i("div",{directives:[{name:"show",rawName:"v-show",value:e.switchConf.marquee,expression:"switchConf.marquee"}],ref:"marquee",staticClass:"marquee",style:{opacity:e.switchConf.mOpacity}},[e._v(e._s(e.watermarkText))]),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:e.switchConf.watermark,expression:"switchConf.watermark"}],ref:"watermark",staticClass:"watermark-x"},e._l(300,function(t){return i("span",{staticClass:"cont",style:{color:"rgba(255, 255, 255, "+e.switchConf.wOpacity+")"}},[e._v(e._s(e.textureText))])})),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:e.switchConf.texture,expression:"switchConf.texture"}],ref:"texture",staticClass:"texture"},[i("p",{ref:"textureText",staticClass:"texture-text",style:{color:"rgba(255, 255, 255, "+e.switchConf.tOpacity+")"}},[e._v(e._s(e.textureText))])])])},staticRenderFns:[]};var T=i("VU/8")(O,x,!1,function(e){i("0IZH")},"data-v-0291fe79",null).exports,D={components:{Title:R.a,Vodal:g.a,marquee:T},data:function(){return{pcWebWachActivity:!0,triangleTop:!1,isLogout:!0,login:!1,playerOptions:{start:0,playsinline:!1,muted:!1,height:552,width:819,autoplay:!1,language:"zh-CN",sources:[{type:"application/x-mpegURL",src:""}],techOrder:["flash","html5"],flash:{hls:{withCredentials:!1}},html5:{hls:{withCredentials:!1}},poster:"",playbackRates:[.75,1,1.25,1.5,2]},activity:{},column:{},service:{},hasColumn:!1,columnUrl:"",activities:[],isSub:!1,comments:[],hasMoreComments:!0,activityId:0,userId:0,userInfo:{},clickShareType:"",isTimeout:!1,isFlash:!1,isLtStartTime:!1,isLogin:!1,isBuy:!1,videoClass:{videoBak:!0,windowOnTop:!1},liveClass:{liveOnTop:!1},time:[],coundownFlag:!1,shareShow:!1,isPlayBtn:!1,playLoading:!1,isSafari:navigator.userAgent.toLowerCase().indexOf("micromessenger")>=0||navigator.userAgent.toLowerCase().indexOf("version")>=0||navigator.userAgent.toLowerCase().indexOf("trident")>=0||L.msedge&&L.version.minor<=15048,allReady:!1,showPlayer:!1,flvPlayer:null,videoObj:null,isLive:!1,showTitle:!0,timer:null,hideCursor:!1,wxqrcode:"",wxqecodeUrl:"",liveEndTimer:null,liveType:"",fmtPrice:b.c,validatePwd:!1,password:"",psdMessage:"",psdMessageShow:!1,showBuyProduct:!1,erweimaurl_buy:"",showBuyService:!1,servicepaycode:"",showService:!1,showChannelPwd:!1,channelPassword:"",phoneNum:"",phoneCode:"",showTime:!0,sendphonemsg:"发送验证码",showverifyphone:!1,showReward:!1,rewardVodalStyle:{padding:0,borderRadius:"8px",overflow:"hidden"},rewardPay:!1,rewardCNY:"",rewardQrcode:"",isPrivateAct:!1,isColumnAct:!1,videoState:"init",isVideo:!0,isAudio:!1,hlsUrl:"",audioDuration:0,audioPlayerStatus:"init",audioProgress:0,moveAudioProgress:!1}},computed:{columnId:function(){var e=this.activity.columns;return e&&e.length>0?e[0].id:0},shower:function(){return this.activity.creator||{}},showChannel:function(){var e=this.activity,t=!!e.charge,i=e.locked,n="2"===String(e.verify_way);return!!(t&&i||t&&n)},liveStatus:function(){if(!this.isLogin||!this.isBuy)return 0;var e=this.activity,t=e.status,i=e.video_status;return e?"进行中"===t&&0===i?1:2===i?2:0:-1},status:function(){var e=this.activity,t=e.status,i=e.video_status,n=+new Date(e.started_at);this.isTimeout=n<+new Date;var r=this.isTimeout;return e?"进行中"===t&&0===i?0:2===i?0:1===i?1:r&&-2===i?2:"结束"===t&&-2===i?3:(r||"预设"!==t)&&(r||-2!==i)?0:4:-1},liveIcon:function(){var e=this.activity,t=e.status,i=e.video_status;return e?"进行中"===t&&0===i?1:2===i?2:0:-1},subBtnText:function(){return this.isSub?"已关注":"关注"}},watch:{showPlayer:function(e){var t=this;e&&!this.isLive&&this.$nextTick(function(){document.querySelector("video")?(document.querySelector("video").addEventListener("mousemove",t.handleTitle),document.querySelector(".vjs-control-bar").addEventListener("mousemove",t.handleTitle)):document.querySelector("object")&&(document.querySelector("object").addEventListener("mousemove",t.handleTitle),document.querySelector(".vjs-control-bar").addEventListener("mousemove",t.handleTitle))})},isLive:function(e){var t=this;e&&this.pcWebWachActivity&&(this.isPlayBtn=!0,this.$nextTick(function(){t.flv_load()}))},liveStatus:function(e){e>0?(this.videoClass.videoBak=!1,this.videoClass.windowOnTop=!0):(this.videoClass.videoBak=!0,this.videoClass.windowOnTop=!1)}},mounted:function(){var e=this;return p()(h.a.mark(function t(){return h.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e.initData(),e.$nextTick(function(){e.bindEvents()});case 2:case"end":return t.stop()}},t,e)}))()},methods:{payReward:function(e){var t=this;return p()(h.a.mark(function i(){var n,r,s,a;return h.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,o=e,w.a.post("api/v3/pay2/order/pay",o);case 3:if(n=i.sent,r=n.result,s=n.message,a=n.charge,"ok"!==r){i.next=9;break}return i.abrupt("return",a.credential.wx_pub_qr);case 9:throw Error(s);case 12:i.prev=12,i.t0=i.catch(0),console.log(i.t0.message),t.$message.error(i.t0.message);case 16:return i.abrupt("return",!1);case 17:case"end":return i.stop()}var o},i,t,[[0,12]])}))()},logoutShow:function(){this.triangleTop=!this.triangleTop,this.isLogout=!this.isLogout},logout:function(){window.localStorage.clear(),window.location.reload()},startPlayer:function(){var e=this;if(this.videoObj||(this.videoObj=document.querySelector("video")),this.isPlayBtn&&this.pcWebWachActivity){this.videoState="play";var t=this.videoObj.play();this.isPlayBtn=!1,t.then(function(e){console.log("Autoplay started!")}).catch(function(t){console.log("Autoplay was prevented!"),e.isPlayBtn=!0})}else this.pausePlayer()},pausePlayer:function(){this.videoObj||(this.videoObj=document.querySelector("video")),console.log("pause"),this.videoObj&&(this.videoState="pause",this.videoObj.pause(),this.isPlayBtn=!0)},fullScreen:function(){var e=document.getElementById("videoElement");e.requestFullscreen?e.requestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullScreen&&e.webkitRequestFullScreen()},showLoginout:function(e){document.querySelector(".login-out").style.display=1===e?"block":"none"},flv_load:function(){var e=this,t={isLive:!0,type:"flv",url:this.playerOptions.sources[0].src};void 0!==this.flvPlayer&&null!==this.flvPlayer&&(this.flvPlayer.unload(),this.flvPlayer.detachMediaElement(),this.flvPlayer.destroy(),this.flvPlayer=null);var i=document.getElementById("videoElement");void 0!==i&&(this.flvPlayer=C.a.createPlayer(t,{fixAudioTimestampGap:!1}),this.flvPlayer.attachMediaElement(i),this.flvPlayer.load(),this.videoObj=i,i.onwaiting=function(){console.log("onwaiting"),e.playLoading=!0},i.oncanplay=function(){console.log("oncanplay"),e.playLoading=!1},i.addEventListener("playing",function(){e.videoState="playing",console.log("playing")}),i.addEventListener("ended",function(){e.videoState="ended",console.log("ended")}))},handleTitle:function(){var e=this;this.showTitle=!0,this.hideCursor=!1,clearTimeout(this.timer),this.timer=null,this.timer=setTimeout(function(){e.showTitle=!1,e.hideCursor=!0,clearTimeout(e.timer),e.timer=null},2300)},initData:function(){var e=this;return p()(h.a.mark(function t(){var i,n,r,s,o,l,d,f,p,v,m,_,g;return h.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(i=e.$route.query.activityId,!1!==/[1-9]\d{1,}/.test(i)){t.next=5;break}return console.log("课程id为填写"),t.abrupt("return");case 5:e.activityId=Number(i),e.userInfo=JSON.parse(window.localStorage.getItem("rrj_user_info")),n=JSON.parse(window.localStorage.getItem("rrj_user_token")),e.userInfo&&n&&n.id&&(r=Date.now(),1e3*n.exp>=r?(e.userId=e.userInfo.id,e.isLogin=!0):(window.localStorage.removeItem("rrj_user_info"),window.localStorage.removeItem("rrj_user_token"))),e.allReady=!0,s=navigator.userAgent.toLowerCase(),o=["android","iphone","ipad","windows phone","ipod"],l=0;case 13:if(!(l<o.length)){t.next=20;break}if(!(s.indexOf(o[l])>=0)){t.next=17;break}return window.location.href="https://h5.renrenjiang.cn/#/activity?aid="+i,t.abrupt("return");case 17:l++,t.next=13;break;case 20:return t.prev=20,t.next=23,w.a.get("api/v3/activities/"+e.activityId+"/show",{params:{include:"creator,columns,service"}});case 23:if("fail"!==(d=t.sent).result){t.next=28;break}throw e.$message.error("该课程不存在或已删除"),Error("该课程不存在或已删除");case 28:e.activity=d,d.pt_id>0?e.isPrivateAct=!0:d.columns&&d.columns.length>0&&(e.isColumnAct=!0,d.columns.every(function(e){return!0===e.activity_allow_buy})&&(e.isColumnAct=!1)),e.playerOptions.poster=d&&d.background,f="pc_web_watch_activity",w.a.get("/api/v3/system/switch?include="+f+"&user_id="+d.user_id).then(function(t){e.pcWebWachActivity="1"===t.pc_web_watch_activity}),t.next=38;break;case 35:t.prev=35,t.t0=t.catch(20),console.log(t.t0);case 38:if(!e.isLogin){t.next=42;break}return t.next=41,w.a.get("/api/v3/activities/"+i+"/is_pay").then(function(t){e.isBuy=t.is_pay});case 41:w.a.get("/api/v3/followships/exist?user_a="+e.userId+"&user_b="+e.shower.user_id).then(function(t){e.isSub=t.followship});case 42:if(!(e.columnId>0)){t.next=53;break}return t.next=45,u.a.all([w.a.get("/api/v2/columns/"+e.columnId),w.a.get("/api/v2/columns/"+e.columnId+"/activities")]);case 45:p=t.sent,v=c()(p,2),m=v[0],_=v[1],e.column=m.column,e.columnUrl="https://h5.renrenjiang.cn/#/column?cid="+e.columnId,e.hasColumn=!Object(b.f)(e.column),e.activities=_.activities.filter(function(t){return t.id!==e.activityId});case 53:if(-1===e.activity.service_id){t.next=57;break}return t.next=56,w.a.get("/api/v2/services/"+e.activity.service_id).then(function(t){e.service=t||{}});case 56:e.showService=!0;case 57:w.a.get("/api/v3/activities/"+e.activityId+"/comments").then(function(t){var i,n=["BUYSERVICES","BUYCOLUMN","BUYPACKET","BUYPT"],r=t.map(function(e){var t=e;return n.indexOf(t.act)>-1&&(t.buyServices=!0),"REWARD"===t.act&&(t.reward=!0,t.price=t.comment.split("赞赏了")[1].trim()),t}).reverse();r.length<10&&(e.hasMoreComments=!1),(i=e.comments).unshift.apply(i,a()(r)),setTimeout(function(){e.$el.querySelector(".comment-list").scrollTop=1e3},300)}),0===e.status&&e.isLogin&&e.isBuy&&e.getStreamUrl(),e.showPlayer=!0,e.playerOptions.poster=e.activity.background,e.wxqrcodeUrl="https://h5.renrenjiang.cn/#/activity?aid="+e.activityId,e.wxqrcode="http://task.renrenjiang.cn/qr/qrcode?data="+encodeURIComponent(e.wxqrcodeUrl),g=setInterval(function(){!0===e.coundownFlag&&clearInterval(g),e.timeDown()},100);case 64:case"end":return t.stop()}},t,e,[[20,35]])}))()},bindEvents:function(){var e=this,t=this.$el.querySelector(".comment-list");this.$client=new m.a.Client("https://subfaye.renrenjiang.cn:8000/faye"),this.$client.subscribe("/a/"+this.activityId,function(i){if("COMMENT"===i.type){var n={user_id:i.user_id,avatar:i.avatar,nickname:i.nickname,comment:i.comment,buyServices:"BUYSERVICES"===i.act,reward:"REWARD"===i.act};n.reward&&(n.user_id===e.userId&&e.hideReward(),n.price=n.comment.split("赞赏了")[1].trim()),e.comments.push(n),e.$nextTick(function(){t.scrollTop+=60})}else"LIVE"===i.type&&"start"===i.act?(e.liveType="start",e.isLogin&&e.isBuy&&setTimeout(function(){window.location.reload(),e.handleActivityStarted()},1e4)):"LIVE"===i.type&&"stop"===i.act?(e.liveType="stop",e.isLogin&&e.isBuy&&setTimeout(function(){e.getStreamUrl()},1e4)):"PAID"===i.type&&i.buyer_id===e.userId&&window.location.reload()});var i=!1;t.addEventListener("scroll",function(){i||t.scrollTop<1&&(i=!1,w.a.get("/api/v3/activities/"+e.activityId+"/comments",{params:{last_id:e.comments[0].id}}).then(function(n){var r,s=["BUYSERVICES","BUYCOLUMN","BUYPACKET","BUYPT"],o=n.map(function(e){var t=e;return s.indexOf(t.act)>-1&&(t.buyServices=!0),"REWARD"===t.act&&(t.reward=!0,t.price=t.comment.split("赞赏了")[1].trim()),t}).reverse();o.length<10&&(e.hasMoreComments=!1,i=!0),(r=e.comments).unshift.apply(r,a()(o)),e.$nextTick(function(){i||(t.scrollTop+=150)})}).catch(function(){i=!0}))})},bindAudioEvents:function(){var e=this,t=this.$refs,i=t.audioPlayer,n=t.audioBigPauseBtn,r=t.audioBigPlayBtn,s=t.audioPauseBtn,a=t.audioPlayBtn,o=t.audioSlider,u=t.audioCircleContainer,l=t.audioCircle;i.addEventListener("durationchange",function(){e.audioDuration=i.duration}),i.addEventListener("canplay",function(){console.log("canplay")}),i.addEventListener("play",function(){e.audioPlayerStatus="play"}),i.addEventListener("playing",function(){e.audioPlayerStatus="playing"}),i.addEventListener("pause",function(){e.audioPlayerStatus="pause"}),i.addEventListener("ended",function(){e.audioPlayerStatus="ended",i.currentTime=0}),i.addEventListener("timeupdate",function(){e.moveAudioProgress||(e.audioProgress=i.currentTime/i.duration)}),s.addEventListener("click",function(){i.pause()}),n.addEventListener("click",function(){i.pause()}),a.addEventListener("click",function(){i.play()}),r.addEventListener("click",function(){i.play()});var c=o.clientWidth;console.log(o,c);var d=l.clientWidth,h=u.clientWidth;u.style.width=h-d+"px",l.addEventListener("mousedown",function(t){var n=t.clientX,r=i.currentTime,s=function(t){e.moveAudioProgress=!0;var s=(t.clientX-n)/c+r/e.audioDuration;s<=0?(e.audioProgress=0,i.currentTime=0):s>=1?(e.audioProgress=1,i.currentTime=e.audioDuration):(e.audioProgress=s,i.currentTime=s*e.audioDuration),t.preventDefault()};document.addEventListener("mousemove",s),document.addEventListener("mouseup",function t(i){e.moveAudioProgress=!1,document.removeEventListener("mousemove",s),document.removeEventListener("mouseup",t)}),t.preventDefault()})},applyActivity:function(){var e=this;return p()(h.a.mark(function t(){var i,n,r,s,a,o;return h.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e.isLogin){t.next=3;break}return e.toLogin(),t.abrupt("return");case 3:if(i=e.activity,!0!==e.isPrivateAct){t.next=9;break}return e.$message.error("此课程为私教课，不可单独购买"),t.abrupt("return");case 9:if(!(!0===e.isColumnAct&&i.price>0)){t.next=12;break}return e.$message.error("此课程为专栏课，不可单独购买"),t.abrupt("return");case 12:if(n=e.userInfo,r=i.id,s=i.locked,a=n.id===i.user_id,!(!i.price>0&&!s||a)){t.next=21;break}return t.next=18,w.a.post("api/v3/activities/"+r+"/reservation",y.a.stringify({shareId:Object(b.e)().su}));case 18:return"ok"===t.sent.result&&(e.isBuy=!0,e.getStreamUrl()),t.abrupt("return");case 21:if(!(!e.activity.price>0&&s)){t.next=24;break}return e.validatePwd=!0,t.abrupt("return");case 24:return t.next=26,w.a.get("/api/v3/activities/"+r+"/is_pay");case 26:if(o=t.sent,e.isBuy=o.is_pay,!e.isBuy){t.next=31;break}return e.getStreamUrl(),t.abrupt("return");case 31:return e.popupBuyActivityBox(),t.abrupt("return");case 33:case"end":return t.stop()}},t,e)}))()},validatePwdClick:function(){var e=this;return p()(h.a.mark(function t(){var i,n,r,s;return h.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(i=e.activity.id,n=e.password){t.next=6;break}return e.psdMessageShow=!0,e.psdMessage="*密码为空",t.abrupt("return");case 6:return r={type:"password",password:n,shareId:Object(b.e)().su},t.next=9,w.a.post("api/v3/activities/"+i+"/reservation",y.a.stringify(r));case 9:if(void 0!==(s=t.sent)&&"fail"!==s.result){t.next=14;break}return e.psdMessageShow=!0,e.psdMessage="*密码错误",t.abrupt("return");case 14:e.psdMessage="验证密码成功",e.validatePwd=!1,e.isBuy=!0,e.getStreamUrl();case 18:case"end":return t.stop()}},t,e)}))()},buttonControl:function(e){var t=this;return p()(h.a.mark(function i(){var n,r;return h.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if("qx"!==e){i.next=4;break}t.showverifyphone=!1,i.next=27;break;case 4:if(""!==t.phoneNum&&null!==t.phoneNum){i.next=7;break}return t.$message.error("请填写手机号！"),i.abrupt("return");case 7:if(/^1[34578]\d{9}$/.test(t.phoneNum)){i.next=10;break}return t.$message.error("手机号格式不正确！"),i.abrupt("return");case 10:if(""!==t.phoneCode&&null!==t.phoneCode){i.next=13;break}return t.$message.error("请填写验证码！"),i.abrupt("return");case 13:if(/^\d{6}$/.test(t.phoneCode)){i.next=16;break}return t.$message.error("验证码为6位数字！"),i.abrupt("return");case 16:return n={type:"phone",phone:t.phoneNum,code:t.phoneCode,shareId:Object(b.e)().su},i.next=19,w.a.post("api/v3/activities/"+t.activityId+"/reservation",y.a.stringify(n));case 19:if(void 0!==(r=i.sent)&&"fail"!==r.result){i.next=23;break}return t.$message.error("验证失败！"),i.abrupt("return");case 23:t.showverifyphone=!1,t.validatePwd=!1,t.isBuy=!0,t.getStreamUrl();case 27:case"end":return i.stop()}},i,t)}))()},sendcode:function(){var e=this;""!==this.phoneNum&&null!==this.phoneNum?/^1[34578]\d{9}$/.test(this.phoneNum)?(this.showTime=!1,this.sendtimedown(60),w.a.post("/api/v2/users/sendSms?phone="+this.phoneNum).then(function(t){"ok"===t.result?e.$message.success("发送成功！"):e.$message.error(t.message)})):this.$message.error("手机号格式不正确！"):this.$message.error("请填写手机号！")},sendtimedown:function(e){var t=this;setTimeout(function(){0===e?(t.showTime=!0,t.sendphonemsg="发送验证码"):(t.sendphonemsg=e-1+"秒后发送",t.sendtimedown(e-1))},1e3)},popupBuyActivityBox:function(){var e=this;return p()(h.a.mark(function t(){var i,n,r,s,a;return h.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return(i=new FormData).append("product_id",e.activity.id),i.append("target_id",e.activity.id),i.append("target_type","activity"),i.append("channel","wx_pub_qr"),Object(b.e)().su&&i.append("share_user_id",Object(b.e)().su),t.next=8,w.a.post("/api/v3/pay2/order/pay",i);case 8:n=t.sent,r=n.result,s=n.message,a=n.charge,"ok"===r&&a.credential&&a.credential.wx_pub_qr?(e.erweimaurl_buy="http://task.renrenjiang.cn/qr/qrcode?data="+encodeURIComponent(a.credential.wx_pub_qr),e.showBuyProduct=!0):e.$message.error("支付失败! "+s);case 13:case"end":return t.stop()}},t,e)}))()},chooseChannel:function(){this.isLogin?2===this.activity.verify_way?this.showverifyphone=!0:this.showChannelPwd=!0:this.toLogin()},channelPwdClick:function(){var e=this;return p()(h.a.mark(function t(){var i,n,r,s;return h.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(i=e.activity.id,n=e.channelPassword){t.next=5;break}return e.$message.error("密码为空！"),t.abrupt("return");case 5:return r={type:"password",password:n,shareId:Object(b.e)().su},t.next=8,w.a.post("api/v3/activities/"+i+"/reservation",y.a.stringify(r));case 8:if(void 0!==(s=t.sent)&&"fail"!==s.result){t.next=12;break}return e.$message.error("密码错误！"),t.abrupt("return");case 12:e.$message.success("验证成功！"),e.showChannelPwd=!1,e.isBuy=!0,e.getStreamUrl();case 16:case"end":return t.stop()}},t,e)}))()},getStreamUrl:function(){var e=this,t=Date.now(),i="/api/v3/activities/"+this.activityId+"/stream_url?user_id="+this.userId+"&timestamp="+t;w.a.get(i).then(function(t){if(t.rtmp_url&&0===t.status)e.playerOptions.sources[0].src=/^https/.test(window.location.origin)?t.rtmp_url.replace("http","https"):t.rtmp_url,e.playerOptions.sources[0].type="video/x-flv",e.isLive=!0,e.isVideo=!0;else if("audio"===t.media_type)e.isAudio=!0,e.isVideo=!1,e.hlsUrl=t.hls_url,e.$nextTick(function(){e.bindAudioEvents()});else{var i=/^https/.test(window.location.origin)?t.hls_url.replace("http","https"):t.hls_url;e.playerOptions.sources[0].src=i,i.toLowerCase().indexOf(".mp4")>-1?e.playerOptions.sources[0].type="video/mp4":e.playerOptions.sources[0].type="application/x-mpegURL",e.isVideo=!0,e.isLive=!1}e.isPlayBtn=!0})},refresh:function(){window.location.reload()},handleActivityStarted:function(){this.getStreamUrl(),this.refreshActivityInfo()},handleSendMsgBtnClicked:function(){var e=this.$refs.messageInput,t=e.value;if(t){var i={type:"COMMENT",userId:this.userId,nickname:this.userInfo.nickname,avatar:this.userInfo.avatar,comment:t};w.a.post("/api/v3/activities/"+this.activityId+"/comments",i),e.value=""}},handleSubShower:function(){var e=this;return p()(h.a.mark(function t(){return h.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e.isLogin){t.next=3;break}return e.toLogin(),t.abrupt("return");case 3:return t.next=5,w.a.post("/api/v1/users/follow?user_id="+e.shower.user_id+"&u="+e.userId);case 5:e.isSub?e.activity.creator.fans_count-=1:e.activity.creator.fans_count+=1,e.isSub=!e.isSub;case 7:case"end":return t.stop()}},t,e)}))()},timeDown:function(){var e=this,t=new Date(this.activity.started_at),i=new Date,n=new Array(4),r=parseInt((t.getTime()-i.getTime())/1e3,10);n[0]=parseInt(r/86400,10),n[1]=parseInt(r/3600%24,10),n[2]=parseInt(r/60%60,10),n[3]=parseInt(r%60,10),r<1&&(this.coundownFlag=!0,setTimeout(function(){e.isTimeout=!0},1e3)),this.time=n},goToActivity:function(e){window.open(window.location.origin+"#/video?activityId="+e)},wechatLogin:function(){window.localStorage.removeItem("rrj_user_info"),window.localStorage.removeItem("rrj_user_token");var e;e=""+window.location.href;var t=encodeURIComponent(e);window.navigator.userAgent.match(/MicroMessenger/i)?window.location.href="http://renrenjiang.cn/auth.html?appid="+S+"&state=appwx&backurl="+t:window.location.href="http://renrenjiang.cn/auth.html?appid=wxafbb6eae1a28b01c&state=webwx&backurl="+t},qqlogin:function(){window.localStorage.removeItem("rrj_user_info"),window.localStorage.removeItem("rrj_user_token");var e;e=""+window.location.href;var t=encodeURIComponent("http://renrenjiang.cn/auth.html?backurl="+encodeURIComponent(e));window.location.href="https://graph.qq.com/oauth2.0/authorize?response_type=code&client_id=101416270&redirect_uri="+t+"&state=qq"},weiboLogin:function(){window.localStorage.removeItem("rrj_user_info"),window.localStorage.removeItem("rrj_user_token");var e=""+window.location.href,t=encodeURIComponent(e);window.location.href="http://renrenjiang.cn/auth.html?appid=2813517436&backurl="+t+"&state=weibo"},onPlayerPlay:function(){this.videoState="playing",this.$nextTick(function(){var e=document.getElementsByClassName("video-js")[0],t=document.getElementsByClassName("user__Info")[0];e.insertBefore(t,e.childNodes[0])});for(var e=document.querySelectorAll(".vjs-button"),t=0;t<e.length;t++)e[t].setAttribute("title","")},onPlayerPause:function(){this.videoState="pause";for(var e=document.querySelectorAll(".vjs-button"),t=0;t<e.length;t++)e[t].setAttribute("title","")},onPlayerEnded:function(){this.videoState="ended","stop"===this.liveType&&(this.getStreamUrl(),this.refreshActivityInfo())},refreshActivityInfo:function(){var e=this;w.a.get("api/v3/activities/"+this.activityId+"/show",{params:{include:"creator,columns,service"}}).then(function(t){e.activity=t})},handleRewrad:function(){this.isLogin?this.showReward=!0:this.toLogin()},handleRewardPay:function(e){var t=this;return p()(h.a.mark(function i(){var n,r,s,a;return h.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(t.rewardCNY=e,n=t.rewardCNY,r=t.activity.id,!(n<1)){i.next=6;break}return t.$message.info("最少赞赏金额为1元"),i.abrupt("return");case 6:if(!(n>256)){i.next=9;break}return t.$message.info("最多赞赏金额为256元"),i.abrupt("return");case 9:return(s=new FormData).append("product_id",r),s.append("target_id",r),s.append("target_type","reward"),s.append("amount",100*n),s.append("channel","wx_pub_qr"),i.next=17,t.payReward(s);case 17:(a=i.sent)&&(t.rewardPay=!0,t.rewardQrcode="http://task.renrenjiang.cn/qr/qrcode?data="+encodeURIComponent(a));case 19:case"end":return i.stop()}},i,t)}))()},hideReward:function(){this.showReward=!1,this.rewardPay=!1,this.rewardCNY="",this.rewardQrcode=""},toLogin:function(){var e=Object(b.e)().code,t=Object(b.e)().state,i=window.location.href.replace("code="+e,"").replace("&state="+t,"");this.$router.push({path:"/login",query:{url:i}})}},filters:{showDate:function(e){return e?Object(b.a)(+new Date(e)/1e3,"MM月DD日 HH:mm"):""},showDateForTimestamp:function(e){return e?Object(b.a)(e,"MM月DD日 HH:mm"):""},initTimeLength:function(e){if(e===1/0)return"";var t=r()(e),i=r()(t%60),n=r()(t/60);return(n<10?"0"+n:n)+":"+(i<10?"0"+i:i)}}},P={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"video-warp"},[n("div",{directives:[{name:"show",rawName:"v-show",value:e.showPlayer&&e.pcWebWachActivity,expression:"showPlayer && pcWebWachActivity"}],staticClass:"video-bc"},[n("header",{staticClass:"header"},[n("nav",{staticClass:"nav"},[n("img",{staticClass:"rrj_logo",attrs:{src:i("gvZ6")}}),e._v(" "),e.isLogin?n("section",{staticClass:"userInfo",on:{click:e.logoutShow}},[n("img",{staticClass:"head-portrait",attrs:{src:e.userInfo.avatar}}),e._v(" "),n("p",{staticClass:"username"},[e._v("\n            "+e._s(e.userInfo.nickname)+"\n            "),n("span",{staticClass:"triangle",class:{"triangle-top":e.triangleTop}})]),e._v(" "),n("ul",[n("li",{staticClass:"logout",on:{click:e.logout}},[e._v("退 出")])])]):e._e()])]),e._v(" "),n("main",[n("section",{staticClass:"main"},[n("div",{staticClass:"main-lf"},[n("div",{staticClass:"container",class:{"hide-cursor":e.hideCursor}},[e.isVideo?n("div",{staticClass:"video-container",class:e.videoClass},[e.userInfo?n("div",{staticClass:"user__Info"},[n("img",{attrs:{src:e.userInfo.avatar}}),e._v(" "),n("div",{staticClass:"userInfo-info"},[n("span",{staticClass:"nickname"},[e._v(e._s(e.userInfo.nickname))]),e._v(" "),n("span",{staticClass:"uid"},[e._v("ID："+e._s(e.userInfo.uid))])])]):e._e(),e._v(" "),!e.isLive&&e.showPlayer?[n("video-player",{ref:"videoPlayerHls",attrs:{options:e.playerOptions},on:{ended:e.onPlayerEnded,play:e.onPlayerPlay,pause:e.onPlayerPause}})]:[n("video",{ref:"videoPlayer",staticClass:"centeredVideo",attrs:{id:"videoElement",poster:e.activity&&e.activity.background},on:{click:function(t){e.startPlayer()}}}),e._v(" "),n("button",{directives:[{name:"show",rawName:"v-show",value:e.isPlayBtn,expression:"isPlayBtn"}],staticClass:"video-play-button",attrs:{type:"button"},on:{click:function(t){e.startPlayer()}}})],e._v(" "),n("marquee",{attrs:{display:"playing"===e.videoState,creator:e.activity.creator,userInfo:e.userInfo}}),e._v(" "),n("div",{staticClass:"live-status"},[e.isLive||e.isSafari&&1===e.liveIcon?n("img",{attrs:{src:i("Pp7d"),alt:""}}):e.isLive&&2!==e.liveIcon?e._e():n("img",{attrs:{src:i("kUVx"),alt:""}})]),e._v(" "),e.isLive&&e.playLoading?n("div",{staticClass:"video-loading"},[n("img",{staticStyle:{width:"100%",height:"100%"},attrs:{src:i("MrjB")}})]):e._e(),e._v(" "),e.isLive?n("div",{staticClass:"player-controls"},[e.isPlayBtn?n("div",[n("img",{attrs:{src:i("gUMR")},on:{click:function(t){e.startPlayer()}}})]):n("div",[n("img",{attrs:{src:i("8JGX")},on:{click:e.pausePlayer}})]),e._v(" "),n("div",{staticStyle:{"margin-left":"20px"}},[e._v("直播")]),e._v(" "),n("div",{staticStyle:{width:"80%"}}),e._v(" "),n("img",{staticStyle:{width:"24px",height:"24px"},attrs:{src:i("mYy2")},on:{click:e.fullScreen}})]):e._e()],2):e.isAudio?n("div",{staticClass:"audio-container",style:{backgroundImage:"url("+e.activity.background+")"}},[n("img",{directives:[{name:"show",rawName:"v-show",value:"play"===e.audioPlayerStatus||"playing"===e.audioPlayerStatus,expression:"audioPlayerStatus === 'play' || audioPlayerStatus === 'playing'"}],ref:"audioBigPauseBtn",staticClass:"audio-icon audip-icon--pause",attrs:{src:i("I9oS")}}),e._v(" "),n("img",{directives:[{name:"show",rawName:"v-show",value:"play"!==e.audioPlayerStatus&&"playing"!==e.audioPlayerStatus,expression:"audioPlayerStatus !== 'play' && audioPlayerStatus !== 'playing'"}],ref:"audioBigPlayBtn",staticClass:"audio-icon audip-icon--play",attrs:{src:i("ZRJO")}}),e._v(" "),n("audio",{ref:"audioPlayer",staticClass:"audio-player",attrs:{src:e.hlsUrl}}),e._v(" "),n("div",{staticClass:"audio-controls"},[n("img",{directives:[{name:"show",rawName:"v-show",value:"play"===e.audioPlayerStatus||"playing"===e.audioPlayerStatus,expression:"audioPlayerStatus === 'play' || audioPlayerStatus === 'playing'"}],ref:"audioPauseBtn",staticClass:"audio-controls-icon audip-icon--pause",attrs:{src:i("I9oS")}}),e._v(" "),n("img",{directives:[{name:"show",rawName:"v-show",value:"play"!==e.audioPlayerStatus&&"playing"!==e.audioPlayerStatus,expression:"audioPlayerStatus !== 'play' && audioPlayerStatus !== 'playing'"}],ref:"audioPlayBtn",staticClass:"audio-controls-icon audip-icon--play",attrs:{src:i("ZRJO")}}),e._v(" "),n("div",{ref:"audioSlider",staticClass:"audio-slider"},[n("div",{staticClass:"audio-progress",style:{width:100*e.audioProgress+"%"}}),e._v(" "),n("div",{ref:"audioCircleContainer",staticClass:"audio-circle-container"},[n("div",{ref:"audioCircle",staticClass:"audio-circle",style:{left:100*e.audioProgress+"%"}})])]),e._v(" "),n("div",{staticClass:"audio-time"},[e._v(e._s(e._f("initTimeLength")(e.audioDuration*e.audioProgress))+"/"+e._s(e._f("initTimeLength")(e.audioDuration)))])])]):e._e(),e._v(" "),e.isVideo?n("div",{staticClass:"live"},[n("transition",{attrs:{name:"slide-fade"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:e.showTitle,expression:"showTitle"}],staticClass:"lv-title"},[n("span",[e._v(e._s(e.activity.title))])])]),e._v(" "),e.isLogin&&e.isBuy?n("div",{staticClass:"lv-body"},[1===e.status?n("p",{staticClass:"s1"},[n("img",{attrs:{src:i("Tg/G"),alt:""}}),n("span",[e._v("视频处理中，请等待课程开始")])]):e._e(),e._v(" "),2===e.status?n("p",{staticClass:"s2"},[n("img",{attrs:{src:i("Q3dD"),alt:""}}),n("span",[e._v("讲师备课中，请等待直播开始")])]):e._e(),e._v(" "),3===e.status?n("p",{staticClass:"s3"},[n("img",{attrs:{src:i("poc5"),alt:""}}),n("span",[e._v("课程视频已被讲师删除，请观看其他课程")])]):e._e(),e._v(" "),4===e.status?n("div",{staticClass:"s4"},[n("span",{staticClass:"words"},[e._v("距离直播开始还有")]),e._v(" "),n("div",{staticClass:"countdown"},[n("span",{staticClass:"c-box"},[e._v(e._s(e.time[0]))]),e._v(" "),n("span",{staticClass:"c-word"},[e._v("天")]),e._v(" "),n("span",{staticClass:"c-box"},[e._v(e._s(e.time[1]))]),e._v(" "),n("span",{staticClass:"c-word"},[e._v("时")]),e._v(" "),n("span",{staticClass:"c-box"},[e._v(e._s(e.time[2]))]),e._v(" "),n("span",{staticClass:"c-word"},[e._v("分")]),e._v(" "),n("span",{staticClass:"c-box"},[e._v(e._s(e.time[3]))]),e._v(" "),n("span",{staticClass:"c-word"},[e._v("秒")])])]):e._e()]):n("div",{staticClass:"lv-body"},[4===e.status?n("div",{staticClass:"s4"},[n("span",{staticClass:"words"},[e._v("距离直播开始还有")]),e._v(" "),n("div",{staticClass:"countdown"},[n("span",{staticClass:"c-box"},[e._v(e._s(e.time[0]))]),e._v(" "),n("span",{staticClass:"c-word"},[e._v("天")]),e._v(" "),n("span",{staticClass:"c-box"},[e._v(e._s(e.time[1]))]),e._v(" "),n("span",{staticClass:"c-word"},[e._v("时")]),e._v(" "),n("span",{staticClass:"c-box"},[e._v(e._s(e.time[2]))]),e._v(" "),n("span",{staticClass:"c-word"},[e._v("分")]),e._v(" "),n("span",{staticClass:"c-box"},[e._v(e._s(e.time[3]))]),e._v(" "),n("span",{staticClass:"c-word"},[e._v("秒")])])]):e._e(),e._v(" "),n("el-button",{directives:[{name:"show",rawName:"v-show",value:!e.isBuy,expression:"!isBuy"}],staticClass:"apply",attrs:{type:"danger"},on:{click:e.applyActivity}},[e._v("立即报名")]),e._v(" "),e.showChannel?n("div",{directives:[{name:"show",rawName:"v-show",value:!e.isBuy,expression:"!isBuy"}],staticClass:"verify",on:{click:e.chooseChannel}},[e._v("已购买用户点击验证")]):e._e()],1),e._v(" "),n("div",{staticClass:"lv-foot"})],1):e._e()])]),e._v(" "),n("div",{staticClass:"main-rf"},[n("div",{staticClass:"main-rf-top"},[e._v("在线交流")]),e._v(" "),n("div",{staticClass:"main-rf-com"},[n("ul",{staticClass:"comment-list"},[e._l(e.comments,function(t){return[t.buyServices?n("li",{staticClass:"vip-comment"},[n("div",[n("img",{attrs:{src:i("FbBY")}}),e._v("\n                    "+e._s(t.comment)+"\n                  ")])]):t.reward?n("li",{staticClass:"reward-comment"},[n("div",[e._m(0,!0),e._v(" "),n("div",[e._v("“"+e._s(t.nickname)+"”赞赏了“ "),n("span",[e._v(e._s(t.price))]),e._v(" ”")])])]):n("li",[n("div",{staticClass:"com-pic"},[n("img",{attrs:{src:t.avatar,alt:""}})]),e._v(" "),n("div",{staticClass:"com-info"},[n("p",{staticClass:"com-name"},[n("span",[e._v(e._s(t.nickname))])]),e._v(" "),n("p",{staticClass:"com-com"},[n("span",[e._v(e._s(t.comment))])])])])]})],2)]),e._v(" "),n("div",{staticClass:"main-rf-send"},[n("div",{directives:[{name:"show",rawName:"v-show",value:!e.isLogin,expression:"!isLogin"}],staticClass:"message-hover"},[n("span",{on:{click:function(t){e.toLogin()}}},[e._v("登录")]),n("span",[e._v("才能参加评论哦~")])]),e._v(" "),n("input",{directives:[{name:"show",rawName:"v-show",value:e.isLogin,expression:"isLogin"}],ref:"messageInput",staticClass:"messageInput",attrs:{type:"text",placeholder:"说几句吧"},on:{keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key))return null;e.handleSendMsgBtnClicked(t)}}}),e._v(" "),n("el-button",{staticClass:"btn-style",attrs:{type:"danger",disabled:!e.isLogin},on:{click:e.handleSendMsgBtnClicked}},[e._v("发送")])],1)]),e._v(" "),n("div",{staticClass:"reward-btn",on:{click:e.handleRewrad}},[n("img",{attrs:{src:i("kJde"),alt:""}})])]),e._v(" "),n("section",{staticClass:"info"},[n("div",{staticClass:"info-lf"},[n("div",{staticClass:"info-lecturer"},[n("div",{staticClass:"lecturer-pic"},[n("img",{attrs:{src:e.shower.avatar,alt:""}})]),e._v(" "),n("div",{staticClass:"lecturer-info"},[n("p",{staticClass:"lecturer-nickname",domProps:{innerHTML:e._s(e.shower.nickname)}}),e._v(" "),n("p",{staticClass:"lecturer-des",attrs:{title:e.shower.description},domProps:{innerHTML:e._s(e.shower.description)}})]),e._v(" "),n("div",{staticClass:"lecturer-sub"},[n("p",[e._v("关注人数："+e._s(e.shower.fans_count)+" 人")]),e._v(" "),n("el-button",{staticClass:"btn-style",attrs:{size:"small",type:e.isSub?"info":"danger"},on:{click:e.handleSubShower}},[e._v(e._s(e.subBtnText))])],1)]),e._v(" "),n("div",{staticClass:"info-activity"},[n("div",{staticClass:"activity-detail"},[n("img",{attrs:{src:e.activity.background,alt:""}}),e._v(" "),n("div",{staticClass:"activity-info"},[n("div",[n("p",{domProps:{innerHTML:e._s(e.activity.title)}}),e._v(" "),n("p",{domProps:{innerHTML:e._s(e.fmtPrice(e.activity.price))}})]),e._v(" "),n("div",{domProps:{innerHTML:e._s(e.shower.nickname)}}),e._v(" "),n("div",[n("p",[e._v("时间："+e._s(e._f("showDate")(e.activity.started_at)))]),e._v(" "),n("p",[e._v("微信分享:\n                    "),n("img",{attrs:{src:i("O0Qs"),alt:"wx-share"},on:{click:function(t){e.clickShareType="wx"}}})])])])]),e._v(" "),n("div",{staticClass:"activity-des"},[n("div",[e._v("课程简介")]),e._v(" "),n("div",[n("div",{domProps:{innerHTML:e._s(e.activity.description)}})])])])]),e._v(" "),e.hasColumn?n("div",{staticClass:"info-rf"},[n("div",{staticClass:"info-column"},[n("div",{staticClass:"introduction"},[e._v("课程所属专栏")]),e._v(" "),n("div",{staticClass:"detail"},[n("div",[n("img",{attrs:{src:e.column.background,alt:""}})]),e._v(" "),n("div",[n("p",{domProps:{innerHTML:e._s(e.column.title)}}),e._v(" "),n("p",[e._v("已更新"+e._s(e.column.activities_count)+"节")])])]),e._v(" "),n("div",{staticClass:"into"},[n("a",{attrs:{href:e.columnUrl}},[e._v("进入专栏")])])]),e._v(" "),n("div",{staticClass:"info-colact"},[n("div",{staticClass:"introduction"},[e._v("专栏内其他课程")]),e._v(" "),n("ul",e._l(e.activities,function(t,i){return n("li",{key:i,on:{click:function(i){e.goToActivity(t.id)}}},[n("div",[n("img",{attrs:{src:t.background,alt:""}})]),e._v(" "),n("div",{staticClass:"detail"},[n("p",{domProps:{innerHTML:e._s(t.title)}}),e._v(" "),n("p",{domProps:{innerHTML:e._s(t.creator.nickname)}}),e._v(" "),n("p",[e._v(e._s(e._f("showDateForTimestamp")(t.started_at)))])])])}))])]):e._e()])]),e._v(" "),n("div",{staticClass:"other"},[n("vodal",{attrs:{show:"wx"===e.clickShareType,width:413,height:304},on:{hide:function(t){e.clickShareType=""}}},[n("div",{staticClass:"box-wx"},[n("div",{staticClass:"box-lf"},[n("div",{staticClass:"wx-title"},[e._v("微信扫码分享")]),e._v(" "),n("div",{staticClass:"wx-qrcode"},[n("img",{attrs:{src:e.wxqrcode,alt:""}})]),e._v(" "),n("div",{staticClass:"wx-words"},[e._v("“扫一扫”二维码后，点击"),n("br"),e._v("\n              页面右上角的分享按钮，就"),n("br"),e._v("\n              可以分享给你的朋友们啦！\n            ")])]),e._v(" "),n("div",{staticClass:"box-rf"},[n("img",{attrs:{src:i("MDI/"),alt:""}})])])]),e._v(" "),n("vodal",{attrs:{show:"qq"===e.clickShareType,width:413,height:304},on:{hide:function(t){e.clickShareType=""}}},[n("div",{staticClass:"box-wx"},[n("div",{staticClass:"box-lf"},[n("div",{staticClass:"wx-title"},[e._v("QQ扫码分享")]),e._v(" "),n("div",{staticClass:"wx-qrcode"},[n("img",{attrs:{src:e.wxqrcode,alt:""}})]),e._v(" "),n("div",{staticClass:"wx-words"},[e._v("“扫一扫”二维码后，点击"),n("br"),e._v("\n              页面右上角的分享按钮，就"),n("br"),e._v("\n              可以分享给你的朋友们啦！\n            ")])]),e._v(" "),n("div",{staticClass:"box-rf"},[n("img",{attrs:{src:i("MDI/"),alt:""}})])])]),e._v(" "),n("vodal",{attrs:{show:"wb"===e.clickShareType,width:413,height:304},on:{hide:function(t){e.clickShareType=""}}},[n("div",{staticClass:"box-wx"},[n("div",{staticClass:"box-lf"},[n("div",{staticClass:"wx-title"},[e._v("微博扫码分享")]),e._v(" "),n("div",{staticClass:"wx-qrcode"},[n("img",{attrs:{src:e.wxqrcode,alt:""}})]),e._v(" "),n("div",{staticClass:"wx-words"},[e._v("“扫一扫”二维码后，点击"),n("br"),e._v("\n              页面右上角的分享按钮，就"),n("br"),e._v("\n              可以分享给你的朋友们啦！\n            ")])]),e._v(" "),n("div",{staticClass:"box-rf"},[n("img",{attrs:{src:i("MDI/"),alt:""}})])])]),e._v(" "),n("vodal",{attrs:{show:e.validatePwd,width:300,height:200},on:{hide:function(t){e.validatePwd=!1,e.psdMessageShow=!1,e.psdMessage="",e.password=""}}},[n("div",{staticClass:"validate-pwd"},[n("span",[e._v("验证密码")]),e._v(" "),n("div",[n("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.password,expression:"password",modifiers:{trim:!0}}],attrs:{type:"password",maxlength:"4",placeholder:"请输入密码"},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value.trim())},blur:function(t){e.$forceUpdate()}}}),n("span",{directives:[{name:"show",rawName:"v-show",value:e.psdMessageShow,expression:"psdMessageShow"}]},[e._v(e._s(e.psdMessage))])]),e._v(" "),n("el-button",{attrs:{type:"danger",disabled:!e.isLogin},on:{click:e.validatePwdClick}},[e._v("验证密码")])],1)]),e._v(" "),n("vodal",{attrs:{show:e.showBuyService,className:"payDiaolog",width:700,height:520},on:{hide:function(t){e.showBuyService=!1}}},[n("div",{staticClass:"dialogxxx"},[n("div",{staticClass:"cart-content1"},[e._v("\n            直播购物\n          ")]),e._v(" "),n("div",{staticClass:"cart-content2"}),e._v(" "),n("div",{staticClass:"cart-content3"},[n("img",{attrs:{height:"102px",width:"182px",src:e.activity.background,alt:""}}),e._v(" "),n("div",[n("div",{staticClass:"colorcommon-title"},[e._v(e._s(e.activity.title))]),e._v(" "),n("div",{staticClass:"colorcommon div-two"},[e._v(e._s(e.shower.nickname))]),e._v(" "),n("div",{staticClass:"colorcommon"},[n("span",{staticClass:"span-time"},[e._v("时间："+e._s(e._f("showDate")(e.activity.started_at)))])])]),e._v(" "),n("div",{staticClass:"price-div"},[e._v("￥"+e._s(e.activity.price))])]),e._v(" "),n("div",{staticClass:"cart-content4"}),e._v(" "),n("div",{staticClass:"cart-content5"},[n("div",{staticClass:"content5-div1"},[e._v("服务简介")]),e._v(" "),n("div",{staticClass:"content5-div2"},[n("p",{domProps:{innerHTML:e._s(e.service.description)}})])]),e._v(" "),n("div",{staticClass:"cart-content6"},[n("div",[n("div",{staticClass:"img-and-conntent"},[n("img",{attrs:{height:"27px",width:"30px",src:i("Tkei"),alt:""}}),e._v(" "),n("span",{staticClass:"wx-zhifu-notice"},[e._v("请使用微信扫码付款")])]),e._v(" "),n("div",{staticClass:"order-detail-notice"},[e._v("\n                付款成功后请在人人讲app内查看您的订单详情\n              ")])]),e._v(" "),n("img",{staticClass:"erweima",attrs:{height:"160px",width:"160px",src:e.servicepaycode,alt:""}})])])]),e._v(" "),n("vodal",{attrs:{show:e.showBuyProduct,width:570,height:320},on:{hide:function(t){e.showBuyProduct=!1}}},[n("div",{staticClass:"service-pay"},[n("div",[e._v("请确认支付信息")]),e._v(" "),n("div",[n("div",{staticClass:"pay-info"},[n("div",{staticClass:"pay-info-line"},[n("div",{staticClass:"pay-info-lf"},[e._v("名称：")]),n("div",{staticClass:"pay-info-rf ser-title",domProps:{innerHTML:e._s(e.activity.title)}})]),e._v(" "),n("div",{staticClass:"pay-info-line"},[n("div",{staticClass:"pay-info-lf"},[e._v("讲师：")]),n("div",{staticClass:"pay-info-rf ser-nickname",domProps:{innerHTML:e._s(e.shower.nickname)}},[e._v("讲师昵称")])]),e._v(" "),n("div",{staticClass:"pay-info-line"},[n("div",{staticClass:"pay-info-lf"},[e._v("价格：")]),n("div",{staticClass:"pay-info-rf ser-price",domProps:{innerHTML:e._s(e.fmtPrice(e.activity.price))}})])]),e._v(" "),n("div",{staticClass:"qrcode"},[n("img",{attrs:{src:e.erweimaurl_buy,alt:""}})])]),e._v(" "),n("div",[n("div",{staticClass:"pay-hint"},[n("img",{attrs:{src:i("Tkei"),alt:""}}),e._v(" "),n("span",[e._v("请使用微信扫码付款")])]),e._v(" "),n("div",{staticClass:"pay-refresh"},[e._v("\n              支付成功后，若页面刷新失败请点击这里"),n("span",{on:{click:function(t){e.refresh()}}},[e._v("刷新")])])])])]),e._v(" "),n("vodal",{attrs:{show:e.showChannelPwd,width:500,height:250},on:{hide:function(t){e.showChannelPwd=!1}}},[n("div",{staticClass:"channel-pwd"},[n("div",[e._v("已购买用户验证")]),e._v(" "),n("div",[n("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.channelPassword,expression:"channelPassword",modifiers:{trim:!0}}],attrs:{type:"password",placeholder:"请输入您的密码",maxlength:"4"},domProps:{value:e.channelPassword},on:{input:function(t){t.target.composing||(e.channelPassword=t.target.value.trim())},blur:function(t){e.$forceUpdate()}}})]),e._v(" "),n("div",[n("div",{on:{click:function(t){e.showChannelPwd=!1,e.channelPassword=""}}},[e._v("取消")]),e._v(" "),n("div",{on:{click:e.channelPwdClick}},[e._v("验证")])])])]),e._v(" "),n("vodal",{attrs:{show:e.showverifyphone,width:500,height:290},on:{hide:function(t){e.showverifyphone=!1}}},[n("div",{staticClass:"verifyPhoneDialog"},[n("div",{staticClass:"content1"},[e._v("\n            已购买用户验证\n          ")]),e._v(" "),n("div",{staticClass:"content2"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.phoneNum,expression:"phoneNum"}],attrs:{placeholder:"请输入您的手机号码",type:"text"},domProps:{value:e.phoneNum},on:{input:function(t){t.target.composing||(e.phoneNum=t.target.value)}}})]),e._v(" "),n("div",{staticClass:"content3"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.phoneCode,expression:"phoneCode"}],attrs:{placeholder:"请输入验证码",type:"text"},domProps:{value:e.phoneCode},on:{input:function(t){t.target.composing||(e.phoneCode=t.target.value)}}}),e._v(" "),e.showTime?n("span",{staticClass:"span1",on:{click:e.sendcode}},[e._v(e._s(e.sendphonemsg))]):e._e(),e._v(" "),e.showTime?e._e():n("span",{staticClass:"span2"},[e._v(e._s(e.sendphonemsg))])]),e._v(" "),n("div",{staticClass:"content4"},[n("img",{attrs:{width:"200px",height:"45px",src:i("sviD"),alt:""},on:{click:function(t){e.buttonControl("qx")}}}),e._v(" "),n("img",{attrs:{width:"200px",height:"45px",src:i("jOQs"),alt:""},on:{click:function(t){e.buttonControl("qr")}}})])])]),e._v(" "),n("vodal",{attrs:{show:e.showReward,"custom-styles":e.rewardVodalStyle,width:280,height:420},on:{hide:e.hideReward}},[n("div",{staticClass:"reward-inner"},[e.rewardPay?n("div",{staticClass:"reward-pay"},[n("div",{staticClass:"pay-head"},[e._v("请使用微信扫码付款")]),e._v(" "),n("div",{staticClass:"pay-content"},[n("div",{staticClass:"content-title"},[e._v("赞赏"),n("span",[e._v(e._s(e.rewardCNY)+"元")]),e._v("红包")]),e._v(" "),n("div",{staticClass:"content-qrcode",style:{backgroundImage:"url("+e.rewardQrcode+")"}}),e._v(" "),n("div",{staticClass:"content-footer"},[e._v("使用微信扫描上方二维码完成付款")])])]):n("div",{staticClass:"reward-prepay"},[n("div",{staticClass:"prepay-head"},[e._v("请选择赞赏金额")]),e._v(" "),n("div",{staticClass:"prepay-content"},[n("div",{staticClass:"block",on:{click:function(t){e.handleRewardPay(20)}}},[n("span",[e._v("20")]),n("span",[e._v("元")])]),e._v(" "),n("div",{staticClass:"block",on:{click:function(t){e.handleRewardPay(5)}}},[n("span",[e._v("5")]),n("span",[e._v("元")])]),e._v(" "),n("div",{staticClass:"block",on:{click:function(t){e.handleRewardPay(50)}}},[n("span",[e._v("50")]),n("span",[e._v("元")])]),e._v(" "),n("div",{staticClass:"block",on:{click:function(t){e.handleRewardPay(2)}}},[n("span",[e._v("2")]),n("span",[e._v("元")])]),e._v(" "),n("div",{staticClass:"block",on:{click:function(t){e.handleRewardPay(10)}}},[n("span",[e._v("10")]),n("span",[e._v("元")])]),e._v(" "),n("div",{staticClass:"block",on:{click:function(t){e.handleRewardPay(100)}}},[n("span",[e._v("100")]),n("span",[e._v("元")])])]),e._v(" "),n("div",{staticClass:"prepay-footer"},[n("div",[e._v("其他金额")]),e._v(" "),n("div",[n("input",{directives:[{name:"model",rawName:"v-model",value:e.rewardCNY,expression:"rewardCNY"}],attrs:{placeholder:"可填写1-256",type:"number"},domProps:{value:e.rewardCNY},on:{input:function(t){t.target.composing||(e.rewardCNY=t.target.value)}}})]),e._v(" "),n("div",{on:{click:function(t){e.handleRewardPay(e.rewardCNY)}}},[e._v("赞赏")])])])])])],1)]),e._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:!e.pcWebWachActivity,expression:"!pcWebWachActivity"}],staticStyle:{width:"100%",height:"100%","text-align":"center"}},[n("span",{staticStyle:{height:"100%",display:"inline-block","vertical-align":"middle"}}),e._v(" "),n("img",{staticStyle:{width:"166px",height:"206px","vertical-align":"middle"},attrs:{src:i("Ouxc"),alt:"禁止电脑观看"}})])])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("img",{attrs:{src:i("eVwM")}})])}]};var M=i("VU/8")(D,P,!1,function(e){i("Pj/E")},null,null);t.default=M.exports},gUMR:function(e,t){e.exports="data:image/png;base64,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"},hqYC:function(e,t,i){"use strict";var n={countListeners:function(e){return this.listeners(e).length},bind:function(e,t,i){var n=Array.prototype.slice,r=function(){t.apply(i,n.call(arguments))};return this._listeners=this._listeners||[],this._listeners.push([e,t,i,r]),this.on(e,r)},unbind:function(e,t,i){this._listeners=this._listeners||[];for(var n,r=this._listeners.length;r--;)(n=this._listeners[r])[0]===e&&(!t||n[1]===t&&n[2]===i)&&(this._listeners.splice(r,1),this.removeListener(e,n[3]))}};i("5//h")(n,i("dNdw").prototype),n.trigger=n.emit,e.exports=n},jOQs:function(e,t){e.exports="data:image/png;base64,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"},kJde:function(e,t,i){e.exports=i.p+"static/img/reward.47d5ded.png"},kUVx:function(e,t){e.exports="data:image/png;base64,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"},koVz:function(e,t,i){"use strict";(function(t){var i={_registry:[],on:function(e,t,i,n){var r=function(){i.call(n)};e.addEventListener?e.addEventListener(t,r,!1):e.attachEvent("on"+t,r),this._registry.push({_element:e,_type:t,_callback:i,_context:n,_handler:r})},detach:function(e,t,i,n){for(var r,s=this._registry.length;s--;)r=this._registry[s],e&&e!==r._element||t&&t!==r._type||i&&i!==r._callback||n&&n!==r._context||(r._element.removeEventListener?r._element.removeEventListener(r._type,r._handler,!1):r._element.detachEvent("on"+r._type,r._handler),this._registry.splice(s,1),r=null)}};void 0!==t.onunload&&i.on(t,"unload",i.detach,i),e.exports={Event:i}}).call(t,i("DuR2"))},"l+zl":function(e,t,i){"use strict";(function(t){var n=i("IYKl"),r=i("0S+L"),s=(i("xuIc"),i("BhNM")),a=i("wype"),o=i("koVz"),u=i("5i1m"),l=i("5//h"),c=i("sKSW"),d=i("skKZ"),h=i("P0Z6"),f=i("hqYC"),p=i("EKQv"),v=i("9oMv"),m=i("XnML"),_=i("mHv3"),g=i("62gc"),A=i("eh5f"),y=r({className:"Client",UNCONNECTED:1,CONNECTING:2,CONNECTED:3,DISCONNECTED:4,HANDSHAKE:"handshake",RETRY:"retry",NONE:"none",CONNECTION_TIMEOUT:60,DEFAULT_ENDPOINT:"/bayeux",INTERVAL:0,initialize:function(e,i){this.info("New client created for ?",e),c(i=i||{},["interval","timeout","endpoints","proxy","retry","scheduler","websocketExtensions","tls","ca"]),this._channels=new p.Set,this._dispatcher=v.create(this,e||this.DEFAULT_ENDPOINT,i),this._messageId=0,this._state=this.UNCONNECTED,this._responseCallbacks={},this._advice={reconnect:this.RETRY,interval:1e3*(i.interval||this.INTERVAL),timeout:1e3*(i.timeout||this.CONNECTION_TIMEOUT)},this._dispatcher.timeout=this._advice.timeout/1e3,this._dispatcher.bind("message",this._receiveMessage,this),o.Event&&void 0!==t.onbeforeunload&&o.Event.on(t,"beforeunload",function(){a.indexOf(this._dispatcher._disabled,"autodisconnect")<0&&this.disconnect()},this)},addWebsocketExtension:function(e){return this._dispatcher.addWebsocketExtension(e)},disable:function(e){return this._dispatcher.disable(e)},setHeader:function(e,t){return this._dispatcher.setHeader(e,t)},handshake:function(e,i){if(this._advice.reconnect!==this.NONE&&this._state===this.UNCONNECTED){this._state=this.CONNECTING;var r=this;this.info("Initiating handshake with ?",s.stringify(this._dispatcher.endpoint)),this._dispatcher.selectTransport(u.MANDATORY_CONNECTION_TYPES),this._sendMessage({channel:p.HANDSHAKE,version:u.BAYEUX_VERSION,supportedConnectionTypes:this._dispatcher.getConnectionTypes()},{},function(s){s.successful?(this._state=this.CONNECTED,this._dispatcher.clientId=s.clientId,this._dispatcher.selectTransport(s.supportedConnectionTypes),this.info("Handshake successful: ?",this._dispatcher.clientId),this.subscribe(this._channels.getKeys(),!0),e&&n(function(){e.call(i)})):(this.info("Handshake unsuccessful"),t.setTimeout(function(){r.handshake(e,i)},1e3*this._dispatcher.retry),this._state=this.UNCONNECTED)},this)}},connect:function(e,t){if(this._advice.reconnect!==this.NONE&&this._state!==this.DISCONNECTED){if(this._state===this.UNCONNECTED)return this.handshake(function(){this.connect(e,t)},this);this.callback(e,t),this._state===this.CONNECTED&&(this.info("Calling deferred actions for ?",this._dispatcher.clientId),this.setDeferredStatus("succeeded"),this.setDeferredStatus("unknown"),this._connectRequest||(this._connectRequest=!0,this.info("Initiating connection for ?",this._dispatcher.clientId),this._sendMessage({channel:p.CONNECT,clientId:this._dispatcher.clientId,connectionType:this._dispatcher.connectionType},{},this._cycleConnection,this)))}},disconnect:function(){if(this._state===this.CONNECTED){this._state=this.DISCONNECTED,this.info("Disconnecting ?",this._dispatcher.clientId);var e=new g;return this._sendMessage({channel:p.DISCONNECT,clientId:this._dispatcher.clientId},{},function(t){t.successful?(this._dispatcher.close(),e.setDeferredStatus("succeeded")):e.setDeferredStatus("failed",m.parse(t.error))},this),this.info("Clearing channel listeners for ?",this._dispatcher.clientId),this._channels=new p.Set,e}},subscribe:function(e,t,i){if(e instanceof Array)return a.map(e,function(e){return this.subscribe(e,t,i)},this);var n=new A(this,e,t,i),r=!0===t;return this._channels.hasSubscription(e)&&!r?(this._channels.subscribe([e],n),n.setDeferredStatus("succeeded"),n):(this.connect(function(){this.info("Client ? attempting to subscribe to ?",this._dispatcher.clientId,e),r||this._channels.subscribe([e],n),this._sendMessage({channel:p.SUBSCRIBE,clientId:this._dispatcher.clientId,subscription:e},{},function(t){if(!t.successful)return n.setDeferredStatus("failed",m.parse(t.error)),this._channels.unsubscribe(e,n);var i=[].concat(t.subscription);this.info("Subscription acknowledged for ? to ?",this._dispatcher.clientId,i),n.setDeferredStatus("succeeded")},this)},this),n)},unsubscribe:function(e,t){if(e instanceof Array)return a.map(e,function(e){return this.unsubscribe(e,t)},this);this._channels.unsubscribe(e,t)&&this.connect(function(){this.info("Client ? attempting to unsubscribe from ?",this._dispatcher.clientId,e),this._sendMessage({channel:p.UNSUBSCRIBE,clientId:this._dispatcher.clientId,subscription:e},{},function(e){if(e.successful){var t=[].concat(e.subscription);this.info("Unsubscription acknowledged for ? from ?",this._dispatcher.clientId,t)}},this)},this)},publish:function(e,t,i){c(i||{},["attempts","deadline"]);var n=new g;return this.connect(function(){this.info("Client ? queueing published message to ?: ?",this._dispatcher.clientId,e,t),this._sendMessage({channel:e,data:t,clientId:this._dispatcher.clientId},i,function(e){e.successful?n.setDeferredStatus("succeeded"):n.setDeferredStatus("failed",m.parse(e.error))},this)},this),n},_sendMessage:function(e,t,i,n){e.id=this._generateMessageId();var r=this._advice.timeout?1.2*this._advice.timeout/1e3:1.2*this._dispatcher.retry;this.pipeThroughExtensions("outgoing",e,null,function(e){e&&(i&&(this._responseCallbacks[e.id]=[i,n]),this._dispatcher.sendMessage(e,r,t||{}))},this)},_generateMessageId:function(){return this._messageId+=1,this._messageId>=Math.pow(2,32)&&(this._messageId=0),this._messageId.toString(36)},_receiveMessage:function(e){var t,i=e.id;void 0!==e.successful&&(t=this._responseCallbacks[i],delete this._responseCallbacks[i]),this.pipeThroughExtensions("incoming",e,null,function(e){e&&(e.advice&&this._handleAdvice(e.advice),this._deliverMessage(e),t&&t[0].call(t[1],e))},this)},_handleAdvice:function(e){l(this._advice,e),this._dispatcher.timeout=this._advice.timeout/1e3,this._advice.reconnect===this.HANDSHAKE&&this._state!==this.DISCONNECTED&&(this._state=this.UNCONNECTED,this._dispatcher.clientId=null,this._cycleConnection())},_deliverMessage:function(e){e.channel&&void 0!==e.data&&(this.info("Client ? calling listeners for ? with ?",this._dispatcher.clientId,e.channel,e.data),this._channels.distributeMessage(e))},_cycleConnection:function(){this._connectRequest&&(this._connectRequest=null,this.info("Closed connection for ?",this._dispatcher.clientId));var e=this;t.setTimeout(function(){e.connect()},this._advice.interval)}});l(y.prototype,d),l(y.prototype,f),l(y.prototype,h),l(y.prototype,_),e.exports=y}).call(t,i("DuR2"))},mHv3:function(e,t,i){"use strict";var n={addExtension:function(e){this._extensions=this._extensions||[],this._extensions.push(e),e.added&&e.added(this)},removeExtension:function(e){if(this._extensions)for(var t=this._extensions.length;t--;)this._extensions[t]===e&&(this._extensions.splice(t,1),e.removed&&e.removed(this))},pipeThroughExtensions:function(e,t,i,n,r){if(this.debug("Passing through ? extensions: ?",e,t),!this._extensions)return n.call(r,t);var s=this._extensions.slice(),a=function(t){if(!t)return n.call(r,t);var o=s.shift();if(!o)return n.call(r,t);var u=o[e];if(!u)return a(t);u.length>=3?o[e](t,i,a):o[e](t,a)};a(t)}};i("5//h")(n,i("P0Z6")),e.exports=n},mYy2:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAYAAACtWK6eAAAOSUlEQVR4Xu2d/5XWNhOFhwqSrwJCBYEKCBUEKiCpIFABUAGhgoQKIBUQKiCpgFBBSAX5zmXt8O7Lrj2jkcYa6eqcPfvHK0uaO/Pol2X7hjBRASpwrQI3qA0VoALXK0BAGB1UYEMBAsLwoAIEhDFABcoU4AhSphuvmkQBAjKJo2lmmQIEpEw3XjWJAgRkEkfTzDIFCEiZbrxqEgU8gHwjIndFBP896WsRue0pQHEt2ljSzj9E5FcReSkiHxX1ZMsC7R+KyA+FPoAm0Khl+ktE8OdJv4vI25ICSgCBqM8XUUvqzHgNAuGBiEDoUdJ3IvJKRODPWdJTEXlh6eysgEDMN4W9zQhOuDcIJIADfpwxYcSDH1UzAisgr0Xk+xlVXWyGqLe04naqEzq595ONHOeuwCjySOMfCyCYw0PY2dNjEfk5sQgIDEyRZ07qjs4CyP1lzjqzsLAdQ/SdxCK8m3iKfOo21XTZAggWOE8SB0bNplt0q1lvjbL+rVHIAGU8ExHE9GayOJqAfJbSotueD6J/JyAXilcHBHvlv0R7s9P6CEinjjE0C9v22HSqNoLMvDV4LiIB2Yus/n+vvgbB9uDf/dsd0kICEiJz00pUPlRlWprJNQjXIE0jNrjw6msQAnLhwQ+F57qC/X9tdbgH8FUvjTmwHQSkkfi/iQjuCWVNs5+GWP1GQBpFsGr3o1HdNYrlDd8LFQlIjWg6KwNHprGblz3hVDIeVZg5EZDK3v9zgUN1CrRy3bWLw44kIPm2dsGJyiMgFZ2FkQNTkxHgWGUBJFiPzDqSEBAnINitQi+LJwpHelDqXBZMGXFKAv9vOjXLdPmQgCBYf8zkBbb1SgV6OLY0JCBQm5Dkpq4HOIbfxSIkOSHpBY7hAeFIkg+QnuCYAhBCkgeS3uCYBhBC0j8kPcIxFSCEpF9IeoVjOkAISX+Q9AzHlIAQkn4g6R2OaQEhJMdDkgGOqQEhJMdBkgWO6QEhJPGQZIKDgCzxwTvuMaBkg6N7QP4JfC6akLSFJBIOPJNT6xmWrg8ronH4KErUi+gISRtIIuHAKW68QL3W62+7BwRvSYkUmJDUhSTSd4AD/qv5Zp0UgMBlkUITkjqQRPpshQMtnxKQaEhMXxiqE09DlXIUHFMDQkhyMHQkHNMDQkj6huRoOAjIEh+RjuB0SwdlpE9O1xznrZt2DXIuRKRDCMk2JJG+2IKDI8iZnyIdQ0iuhiTSB3twEJArfBTpIEJy2QGR2mvgICDXjPSRjiIkF06I1FwLBwHZmApHOmx2SCK1tsBBQHY2VCIdNyskkRpb4SAgih3HSAfOBkmktiVwEBAFINHz41kgyQAHAVECQkgMQimyZoGDgCiceZoF3+vA6dyID1KOOpJEwYEH5PB5BejoSbyTblTv9vLtDkJiFC5wK7cWHBxB7D7+dAUhsQuXbeRYLeQIYvc1ITFqhkdWEWitU82Rg4BU8FbkSIJPst2r0OboIvAOAIwerVMLODjFquC1SEhK9/IrmFlURNT30VvBQUCK3P7lRVGQ4K0styq1uXUx+KLtexHB/5apJRwEpKLnoiABIACl9xSxKG8NBwGpHGURkDwWkZ8rt7tFcVgztfweegQcBKRBZLSGRPVupQZ2WYvE9AovXWuRouAgIC281/g+SRZAPjY6cRAJx1SARE9NWo0kWQBpMcWKhgOAPBKR55U6UpXvbhgqq9m4OxXO5Ria/ilrC0iybPXizNpDq2Ab+Y+AY/Xhu0p2qDppCyAIsBqN+9BwPrynXW1Isuxi1bwHchQcq2+xa3hzz9GK31W+swCCOmsM1Q9E5LXCgFZZakHydjmh2qqdtcvFSVrvpwOOhgOa1ID9xTJd29XYCgh2QiB06enZXqYkNSA5Ypq469CNDDhu/sZRQA9wrM333NfBN0agBTYudpMVEBSIu7HY+7fMaTGtwhrmyJHjXAwPJL2AvuvgswylgQX/oef2Ps9hbe9WfrQHcaidbgFw5Dcd1CwBZG00QEGQgcbrEijFtKwnYU/bChvQPu3UAyIDdCx6syYrJJhKIhhVPe4BoqwxuHWMBj7Gnzl5ADFX1vEF6FUQ+FtTx5dL75PhaMme1Agq9KZbd9cxakCXzJ3Bng67vxOQyxJhNDwfETH69TQ13HWqIQPWlLD39C47RgrYO0JHYJDi6qwExC0hCxhZAQIysndpm1sBAuKWkAWMrAABGdm7tM2tAAFxS8gCRlaAgIzsXdrmVoCAuCVkASMrQEBG9i5tcytAQNwSsoCRFSAgI3uXtrkVICBuCVnAyAoQkJG9S9vcChAQt4QsYGQFCMjI3qVtbgUIiFtCFjCyAgRkZO/SNrcCBMQtIQsYWQECMrJ3aZtbAQLilpAFjKwAARnZu7TNrQABcUvIAkZWgICM7F3a5laAgLglZAEjK0BARvYubXMrQEDcErKAkRUgICN7l7a5FSAgbglZwMgKEJCRvUvb3AoQELeELGBkBQjIyN6lbW4FCIhbQhYwsgIEZGTv0ja3AgTELSELGFkBAjKyd2mbWwEC4paQBYysAAEZ2bu0za0AAXFLyAJGVoCAjOxd2uZWgIC4JWQBIytAQEb2Lm1zK0BA3BKygJEVICAje5e2uRUgIJ8l/FpE7orI7TNVfxeRt26lWUBKBQiIyDci8kREftjw4EcR+VlEnqX08tWNfigi90XkOxFB57Cmv0QEncLL5f9AJttNmR0QQPH8LEC2VPxDRO6JCIDJmgDEL3LRMeyl1yLyY3J792zc/L0UEIiMHgj/t4RGQKE3eiEi6Jl6SgiSrVHjurZmhgT2wm5L6t3e76+YFp/ah7jDFLko/qyAYCiGwBiarQk90a/WixrlL4VjbQ6Af9Soba2Khc9eFRaOERMjJ2DpJWFaDB+cTg+32oaO+rHVBisg73Zo3ROvB0i8cKw23irtlfZEavA7gui9IZiuakIvkMAWgI7ZS0kyxaAFkJLh+SoDjgysWnDALizYn5Z46IBr0NNireVNPUBSw4d3tCOJBRDv6HH09KSGsKcBhukGhM6QML3AFnaNdCQkGDXeVDACO3Sq9acFkH8rNAxFHBFYteFYpbDoV0m+omJq+W6t/ChIsIbF5pA3YcGOmcxusji4psiWeneN2MnQCg5UG2mHR4eavjsSkr+d66hTDVW+U2VaSq0psqVeT2C0hGN2QGB/9EgSHoOWQA1vnIeMZTtaNc901GPRz1GN+9KavjtvTCQkNe1Q+U6VKeEI0nrkgCS4+VS61eiOeGMBWPd9a7zGkj0KEgJi8co1eSPgQNW46YTzWRkS2vlT44ZGQEJAnE6MguOf5YhNljNZOA6EG4WtU2tICIjDg1FwoIkPRAQH+TKliFGk9cKdgBRGXCQcpqMKhfa0uAxHNHDDsOVaZG13q5GEgBREBuHQi4aHwXCzLSskBETv6085CYdRsOVGW9aRhIAo/e05dq+s4lK2rNOq62zNOt0iIIrohXNxYO382XHFpUVZRoNjFSEaEmxsYOTyJAKyox7h8ITXl9dGQoLavZ0NAdnwP+GoC8cRI4kXEgJyTQwQjjZwZIOEgFwRB4SjLRyZICEgZ7FAOGLgyAIJATmJB8IRC0cGSAjI4iXCcQwcvUNCQJY7vbzPcSwgqL3HLeDpAeHIcTwYpy3oDZKpASEcfcHR43RrWkAIR59w9AbJlIBEwoEnAfGWwV7eEdw3Fpdb18N0azpAouHASxZ6egFzJkB6WLhPBQjhyIbH5/bWesOhRoHTA47TAPK/wCPrmFZx5NCEoi3PEZBMAwjejar5wpHNZV/mJhxeBbevj4bE+vGfrdar3gmnyrTUUpPetm67KJ1wRKh8seFR44XSMa39XIsq9lWZEgJCOGLDLSMkqthXZUoGCOGIhWOtLRskqthXZUoECOE4Bo6MkKhiX5UpCSCE41g4skGiin1VpgSAEI4+4MgEiSr2VZk6B4Rw9AVHFkhUsa/K1DEghKNPODJAoop9VaZOASEcfcPROySq2Fdl6hAQwpEDjp4hUcW+KlNngBCOXHD0Cokq9lWZOgKEcOSEo0dIVLGvytQJIH+KCL5ay+c5CEkNBVSxr8rUCSA1RLGUgTeR4zNrL5fvgVuuzZb3bvAXe/FUJ54HOjKpYl+VaVJAVufhc2JPReTFkd5sUDcCFF++7SFYG5i3W6Qq9lWZJgdkVdr76v5djwVmwLdVXgU9kxNolqkqVeyrMhGQ/4S/V+EjMCYvNsiMkePd5HBAVlXsqzIRkP/CFBsEdxoEbWSRUZ+DjrSppC5V7KsyEZBL+gOQrDtpGD3ed7BALgno2teoYl+ViYBc8k3mtcj9Ze1RO9gylqeKfVUmAnLJ/8+WXa2MQYHduCcZG96gzarYV2VaGse564UQBKRBtB5QpCr2VZmWxuPGGW4ozZ4ISP4I+E1EMN3cTRZAsLiLeJfVbqMPzkBADnZAheofiwhmRLvJAki292LtGl+YgYAUCtfRZbdEBC8v3E0EZFeiLzIQELtmvV2hjnt1xuUOMtcgIg+WQ4y9OV3THpy7eq7JOHCeD5alggUQbhFevM706FOontjFGhJryZmTeoEOkSyAQFzcQf5qYnUzT69Wt82+G2m60WsBBALjgaWab9jOxNrb4GcmWmmDk7yAZMaODg/dwX51sgKCgvGtDUy3ZlqP4KEpzN/xbMgICR0dtjlnggRwIHZNPiwBZA0QTLlQoffeCOb0JqoLIhRtvGm8Dos59LR4KTP+j5agOSAZvaPDyA8fFn2X0gPIaAEzqz3oPHBX2br5gJ649anmwzsmAjIrFrRbpQABUcnETLMqQEBm9TztVilAQFQyMdOsChCQWT1Pu1UKEBCVTMw0qwIEZFbP026VAgREJRMzzaoAAZnV87RbpcD/AcnIUPYapImmAAAAAElFTkSuQmCC"},mw3O:function(e,t,i){"use strict";var n=i("CwSZ"),r=i("DDCP"),s=i("XgCd");e.exports={formats:s,parse:r,stringify:n}},nCzq:function(e,t,i){"use strict";(function(t){var n=i("0S+L"),r=i("xuIc"),s=i("Imbr"),a=i("BhNM"),o=i("koVz"),u=i("Ugn1"),l=i("5//h"),c=i("Rvdv"),d=i("v0Oj"),h=i("skKZ"),f=l(n(i("Zki9"),{UNCONNECTED:1,CONNECTING:2,CONNECTED:3,batching:!1,isUsable:function(e,t){this.callback(function(){e.call(t,!0)}),this.errback(function(){e.call(t,!1)}),this.connect()},request:function(e){this._pending=this._pending||new s;for(var t=0,i=e.length;t<i;t++)this._pending.add(e[t]);var n=this,a=new r(function(t,i){n.callback(function(i){i&&1===i.readyState&&(i.send(c(e)),t(i))}),n.connect()});return{abort:function(){a.then(function(e){e.close()})}}},connect:function(){if(!f._unloaded&&(this._state=this._state||this.UNCONNECTED,this._state===this.UNCONNECTED)){this._state=this.CONNECTING;var e=this._createSocket();if(!e)return this.setDeferredStatus("failed");var t=this;e.onopen=function(){e.headers&&t._storeCookies(e.headers["set-cookie"]),t._socket=e,t._state=t.CONNECTED,t._everConnected=!0,t._ping(),t.setDeferredStatus("succeeded",e)};var i=!1;e.onclose=e.onerror=function(){if(!i){i=!0;var n=t._state===t.CONNECTED;e.onopen=e.onclose=e.onerror=e.onmessage=null,delete t._socket,t._state=t.UNCONNECTED,t.removeTimeout("ping");var r=t._pending?t._pending.toArray():[];delete t._pending,n||t._everConnected?(t.setDeferredStatus("unknown"),t._handleError(r,n)):t.setDeferredStatus("failed")}},e.onmessage=function(e){var i;try{i=JSON.parse(e.data)}catch(e){}if(i){for(var n=0,r=(i=[].concat(i)).length;n<r;n++)void 0!==i[n].successful&&t._pending.remove(i[n]);t._receive(i)}}}},close:function(){this._socket&&this._socket.close()},_createSocket:function(){var e=f.getSocketUrl(this.endpoint),t=this._dispatcher.headers,i=this._dispatcher.wsExtensions,n=this._getCookies(),r=this._dispatcher.tls,s={extensions:i,headers:t,proxy:this._proxy,tls:r};return""!==n&&(s.headers.Cookie=n),d.create(e,[],s)},_ping:function(){this._socket&&1===this._socket.readyState&&(this._socket.send("[]"),this.addTimeout("ping",this._dispatcher.timeout/2,this._ping,this))}}),{PROTOCOLS:{"http:":"ws:","https:":"wss:"},create:function(e,t){var i=e.transports.websocket=e.transports.websocket||{};return i[t.href]=i[t.href]||new this(e,t),i[t.href]},getSocketUrl:function(e){return(e=u(e)).protocol=this.PROTOCOLS[e.protocol],a.stringify(e)},isUsable:function(e,t,i,n){this.create(e,t).isUsable(i,n)}});l(f.prototype,h),o.Event&&void 0!==t.onbeforeunload&&o.Event.on(t,"beforeunload",function(){f._unloaded=!0}),e.exports=f}).call(t,i("DuR2"))},p8xL:function(e,t,i){"use strict";var n=Object.prototype.hasOwnProperty,r=function(){for(var e=[],t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e}(),s=function(e,t){for(var i=t&&t.plainObjects?Object.create(null):{},n=0;n<e.length;++n)void 0!==e[n]&&(i[n]=e[n]);return i};e.exports={arrayToObject:s,assign:function(e,t){return Object.keys(t).reduce(function(e,i){return e[i]=t[i],e},e)},combine:function(e,t){return[].concat(e,t)},compact:function(e){for(var t=[{obj:{o:e},prop:"o"}],i=[],n=0;n<t.length;++n)for(var r=t[n],s=r.obj[r.prop],a=Object.keys(s),o=0;o<a.length;++o){var u=a[o],l=s[u];"object"==typeof l&&null!==l&&-1===i.indexOf(l)&&(t.push({obj:s,prop:u}),i.push(l))}return function(e){for(;e.length>1;){var t=e.pop(),i=t.obj[t.prop];if(Array.isArray(i)){for(var n=[],r=0;r<i.length;++r)void 0!==i[r]&&n.push(i[r]);t.obj[t.prop]=n}}}(t),e},decode:function(e,t,i){var n=e.replace(/\+/g," ");if("iso-8859-1"===i)return n.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(n)}catch(e){return n}},encode:function(e,t,i){if(0===e.length)return e;var n="string"==typeof e?e:String(e);if("iso-8859-1"===i)return escape(n).replace(/%u[0-9a-f]{4}/gi,function(e){return"%26%23"+parseInt(e.slice(2),16)+"%3B"});for(var s="",a=0;a<n.length;++a){var o=n.charCodeAt(a);45===o||46===o||95===o||126===o||o>=48&&o<=57||o>=65&&o<=90||o>=97&&o<=122?s+=n.charAt(a):o<128?s+=r[o]:o<2048?s+=r[192|o>>6]+r[128|63&o]:o<55296||o>=57344?s+=r[224|o>>12]+r[128|o>>6&63]+r[128|63&o]:(a+=1,o=65536+((1023&o)<<10|1023&n.charCodeAt(a)),s+=r[240|o>>18]+r[128|o>>12&63]+r[128|o>>6&63]+r[128|63&o])}return s},isBuffer:function(e){return null!==e&&void 0!==e&&!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},isRegExp:function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},merge:function e(t,i,r){if(!i)return t;if("object"!=typeof i){if(Array.isArray(t))t.push(i);else{if("object"!=typeof t)return[t,i];(r&&(r.plainObjects||r.allowPrototypes)||!n.call(Object.prototype,i))&&(t[i]=!0)}return t}if("object"!=typeof t)return[t].concat(i);var a=t;return Array.isArray(t)&&!Array.isArray(i)&&(a=s(t,r)),Array.isArray(t)&&Array.isArray(i)?(i.forEach(function(i,s){n.call(t,s)?t[s]&&"object"==typeof t[s]?t[s]=e(t[s],i,r):t.push(i):t[s]=i}),t):Object.keys(i).reduce(function(t,s){var a=i[s];return n.call(t,s)?t[s]=e(t[s],a,r):t[s]=a,t},a)}}},poc5:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAeCAYAAAA/xX6fAAAAAXNSR0IArs4c6QAAAdNJREFUSA3tVz1PwzAQjREThS5MSEwM/BM2BhZYGPkH/APEzMLMBL+CkaUDjEhMwIJQkfgoqhgoCMJ7JWc5zsVOirtx0inpvfN79tmXpFkWsDzP5+BH8AE8ZF8AL+FrAboxZEIJIDgAvgvvwS8CuYvA1uGz8FVjTD+QWw9B8Ap+A5+pz/pFkLMJp22FcmNEXQy+w4y/QyQF9lhcOabWYoK1AycFDGsw6eCacSG+PW5yagsdRMOS7sNvU6sqfCeInY3jqOo2SztFu5YJyKG5l8CUrpZfBJ9qhDYQX/awPtqE+7TjxY+L+LkX50/LHxNkTw0VAi0keVofVgSfNQbEFuBv8CaN31wQpfgE6Svcty4w9hVFYxYSlKdQJiUlmV22wyzlETIHqtwOccrJ16kgDndMkCWlNRJE3jxca3y7mJhgqxVCTPJxW7J/QVuOtnuolXSEk25Peeo9lAnaGePG7h+DqQW1FdoebCIoM461xQfKNgKhJthqhZ2imWOCgv9ZkE3MVQohq6KZ4FFB9xNjACY+pN19Jbn/jF3ii5qAYytKTGC9pNgDir1IVsKrLlgIlMBEoiVOv3wPiURcmhKnL3iITH5/NHnhuqTa/TuCp3D+L7H2AzcLGxyi0OQVAAAAAElFTkSuQmCC"},q3gF:function(e,t,i){i("JWAb"),e.exports=i("FeBl").Math.trunc},qyJz:function(e,t,i){"use strict";var n=i("+ZMJ"),r=i("kM2E"),s=i("sB3e"),a=i("msXi"),o=i("Mhyx"),u=i("QRG4"),l=i("fBQ2"),c=i("3fs2");r(r.S+r.F*!i("dY0y")(function(e){Array.from(e)}),"Array",{from:function(e){var t,i,r,d,h=s(e),f="function"==typeof this?this:Array,p=arguments.length,v=p>1?arguments[1]:void 0,m=void 0!==v,_=0,g=c(h);if(m&&(v=n(v,p>2?arguments[2]:void 0,2)),void 0==g||f==Array&&o(g))for(i=new f(t=u(h.length));t>_;_++)l(i,_,m?v(h[_],_):h[_]);else for(d=g.call(h),i=new f;!(r=d.next()).done;_++)l(i,_,m?a(d,v,[r.value,_],!0):r.value);return i.length=_,i}})},rW0A:function(e,t,i){"use strict";(function(t){e.exports={addTimeout:function(e,i,n,r){if(this._timeouts=this._timeouts||{},!this._timeouts.hasOwnProperty(e)){var s=this;this._timeouts[e]=t.setTimeout(function(){delete s._timeouts[e],n.call(r)},1e3*i)}},removeTimeout:function(e){this._timeouts=this._timeouts||{};var i=this._timeouts[e];i&&(t.clearTimeout(i),delete this._timeouts[e])},removeAllTimeouts:function(){this._timeouts=this._timeouts||{};for(var e in this._timeouts)this.removeTimeout(e)}}}).call(t,i("DuR2"))},sKSW:function(e,t,i){"use strict";var n=i("wype");e.exports=function(e,t){for(var i in e)if(n.indexOf(t,i)<0)throw new Error("Unrecognized option: "+i)}},skKZ:function(e,t,i){"use strict";(function(t){var n=i("xuIc");e.exports={then:function(e,t){var i=this;return this._promise||(this._promise=new n(function(e,t){i._resolve=e,i._reject=t})),0===arguments.length?this._promise:this._promise.then(e,t)},callback:function(e,t){return this.then(function(i){e.call(t,i)})},errback:function(e,t){return this.then(null,function(i){e.call(t,i)})},timeout:function(e,i){this.then();var n=this;this._timer=t.setTimeout(function(){n._reject(i)},1e3*e)},setDeferredStatus:function(e,i){this._timer&&t.clearTimeout(this._timer),this.then(),"succeeded"===e?this._resolve(i):"failed"===e?this._reject(i):delete this._promise}}}).call(t,i("DuR2"))},sviD:function(e,t){e.exports="data:image/png;base64,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"},v0Oj:function(e,t,i){"use strict";(function(t){var i=t.MozWebSocket||t.WebSocket;e.exports={create:function(e,t,n){return"function"!=typeof i?null:new i(e)}}}).call(t,i("DuR2"))},wype:function(e,t,i){"use strict";e.exports={commonElement:function(e,t){for(var i=0,n=e.length;i<n;i++)if(-1!==this.indexOf(t,e[i]))return e[i];return null},indexOf:function(e,t){if(e.indexOf)return e.indexOf(t);for(var i=0,n=e.length;i<n;i++)if(e[i]===t)return i;return-1},map:function(e,t,i){if(e.map)return e.map(t,i);var n=[];if(e instanceof Array)for(var r=0,s=e.length;r<s;r++)n.push(t.call(i||null,e[r],r));else for(var a in e)e.hasOwnProperty(a)&&n.push(t.call(i||null,a,e[a]));return n},filter:function(e,t,i){if(e.filter)return e.filter(t,i);for(var n=[],r=0,s=e.length;r<s;r++)t.call(i||null,e[r],r)&&n.push(e[r]);return n},asyncEach:function(e,t,i,n){var r=e.length,s=-1,a=0,o=!1,u=function(){if(a-=1,(s+=1)===r)return i&&i.call(n);t(e[s],l)},l=function(){a+=1,function(){if(!o){for(o=!0;a>0;)u();o=!1}}()};l()}}},x8JH:function(e,t,i){"use strict";(function(t){var n=i("0S+L"),r=i("BhNM"),s=i("Ugn1"),a=i("5//h"),o=i("skKZ"),u=i("Zki9"),l=i("NwVv"),c=a(n(u,{initialize:function(e,i){if(u.prototype.initialize.call(this,e,i),!t.EventSource)return this.setDeferredStatus("failed");this._xhr=new l(e,i),(i=s(i)).pathname+="/"+e.clientId;var n=new t.EventSource(r.stringify(i)),a=this;n.onopen=function(){a._everConnected=!0,a.setDeferredStatus("succeeded")},n.onerror=function(){a._everConnected?a._handleError([]):(a.setDeferredStatus("failed"),n.close())},n.onmessage=function(e){var t;try{t=JSON.parse(e.data)}catch(e){}t?a._receive(t):a._handleError([])},this._socket=n},close:function(){this._socket&&(this._socket.onopen=this._socket.onerror=this._socket.onmessage=null,this._socket.close(),delete this._socket)},isUsable:function(e,t){this.callback(function(){e.call(t,!0)}),this.errback(function(){e.call(t,!1)})},encode:function(e){return this._xhr.encode(e)},request:function(e){return this._xhr.request(e)}}),{isUsable:function(e,t,i,n){if(!e.clientId)return i.call(n,!1);l.isUsable(e,t,function(r){if(!r)return i.call(n,!1);this.create(e,t).isUsable(i,n)},this)},create:function(e,t){var i=e.transports.eventsource=e.transports.eventsource||{},n=e.clientId,a=s(t);return a.pathname+="/"+(n||""),i[a=r.stringify(a)]=i[a]||new this(e,t),i[a]}});a(c.prototype,o),e.exports=c}).call(t,i("DuR2"))},xuIc:function(e,t,i){"use strict";var n=i("IYKl"),r=function(e){return e},s=function(e){throw e},a=function(e){if(this._state=0,this._onFulfilled=[],this._onRejected=[],"function"==typeof e){var t=this;e(function(e){d(t,e)},function(e){f(t,e)})}};a.prototype.then=function(e,t){var i=new a;return o(this,e,i),u(this,t,i),i},a.prototype.catch=function(e){return this.then(null,e)};var o=function(e,t,i){"function"!=typeof t&&(t=r);var n=function(e){l(t,e,i)};0===e._state?e._onFulfilled.push(n):1===e._state&&n(e._value)},u=function(e,t,i){"function"!=typeof t&&(t=s);var n=function(e){l(t,e,i)};0===e._state?e._onRejected.push(n):2===e._state&&n(e._reason)},l=function(e,t,i){n(function(){c(e,t,i)})},c=function(e,t,i){var n;try{n=e(t)}catch(e){return f(i,e)}n===i?f(i,new TypeError("Recursive promise chain detected")):d(i,n)},d=function(e,t){var i,n,r=!1;try{if(i=typeof t,"function"!=typeof(n=null!==t&&("function"===i||"object"===i)&&t.then))return h(e,t);n.call(t,function(t){r^(r=!0)&&d(e,t)},function(t){r^(r=!0)&&f(e,t)})}catch(t){if(!(r^(r=!0)))return;f(e,t)}},h=function(e,t){if(0===e._state){e._state=1,e._value=t,e._onRejected=[];for(var i,n=e._onFulfilled;i=n.shift();)i(t)}},f=function(e,t){if(0===e._state){e._state=2,e._reason=t,e._onFulfilled=[];for(var i,n=e._onRejected;i=n.shift();)i(t)}};a.resolve=function(e){return new a(function(t,i){t(e)})},a.reject=function(e){return new a(function(t,i){i(e)})},a.all=function(e){return new a(function(t,i){var n,r=[],s=e.length;if(0===s)return t(r);for(n=0;n<s;n++)!function(e,n){a.resolve(e).then(function(e){r[n]=e,0==--s&&t(r)},i)}(e[n],n)})},a.race=function(e){return new a(function(t,i){for(var n=0,r=e.length;n<r;n++)a.resolve(e[n]).then(t,i)})},a.deferred=a.pending=function(){var e={};return e.promise=new a(function(t,i){e.resolve=t,e.reject=i}),e},e.exports=a},zLXo:function(e,t,i){"use strict";var n=i("5i1m"),r=i("P0Z6"),s={VERSION:n.VERSION,Client:i("l+zl"),Scheduler:i("amkp")};r.wrapper=s,e.exports=s}});
//# sourceMappingURL=1.345e56b6204a56d619c2.js.map